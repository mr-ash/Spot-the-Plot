(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();function Ff(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zh={exports:{}},Eu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function aC(){if(_y)return Eu;_y=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,a,c){var d=null;if(c!==void 0&&(d=""+c),a.key!==void 0&&(d=""+a.key),"key"in a){c={};for(var _ in a)_!=="key"&&(c[_]=a[_])}else c=a;return a=c.ref,{$$typeof:e,type:s,key:d,ref:a!==void 0?a:null,props:c}}return Eu.Fragment=t,Eu.jsx=n,Eu.jsxs=n,Eu}var yy;function lC(){return yy||(yy=1,zh.exports=aC()),zh.exports}var N=lC(),Bh={exports:{}},Yt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy;function uC(){if(vy)return Yt;vy=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),b=Symbol.iterator;function U(q){return q===null||typeof q!="object"?null:(q=b&&q[b]||q["@@iterator"],typeof q=="function"?q:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,$={};function dt(q,ct,vt){this.props=q,this.context=ct,this.refs=$,this.updater=vt||Y}dt.prototype.isReactComponent={},dt.prototype.setState=function(q,ct){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,ct,"setState")},dt.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function _t(){}_t.prototype=dt.prototype;function lt(q,ct,vt){this.props=q,this.context=ct,this.refs=$,this.updater=vt||Y}var St=lt.prototype=new _t;St.constructor=lt,K(St,dt.prototype),St.isPureReactComponent=!0;var Rt=Array.isArray;function ft(){}var z={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function k(q,ct,vt){var Tt=vt.ref;return{$$typeof:e,type:q,key:ct,ref:Tt!==void 0?Tt:null,props:vt}}function F(q,ct){return k(q.type,ct,q.props)}function V(q){return typeof q=="object"&&q!==null&&q.$$typeof===e}function J(q){var ct={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(vt){return ct[vt]})}var B=/\/+/g;function Ut(q,ct){return typeof q=="object"&&q!==null&&q.key!=null?J(""+q.key):ct.toString(36)}function Ee(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(ft,ft):(q.status="pending",q.then(function(ct){q.status==="pending"&&(q.status="fulfilled",q.value=ct)},function(ct){q.status==="pending"&&(q.status="rejected",q.reason=ct)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function rt(q,ct,vt,Tt,Ct){var xt=typeof q;(xt==="undefined"||xt==="boolean")&&(q=null);var Vt=!1;if(q===null)Vt=!0;else switch(xt){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(q.$$typeof){case e:case t:Vt=!0;break;case w:return Vt=q._init,rt(Vt(q._payload),ct,vt,Tt,Ct)}}if(Vt)return Ct=Ct(q),Vt=Tt===""?"."+Ut(q,0):Tt,Rt(Ct)?(vt="",Vt!=null&&(vt=Vt.replace(B,"$&/")+"/"),rt(Ct,ct,vt,"",function(Ui){return Ui})):Ct!=null&&(V(Ct)&&(Ct=F(Ct,vt+(Ct.key==null||q&&q.key===Ct.key?"":(""+Ct.key).replace(B,"$&/")+"/")+Vt)),ct.push(Ct)),1;Vt=0;var _e=Tt===""?".":Tt+":";if(Rt(q))for(var Se=0;Se<q.length;Se++)Tt=q[Se],xt=_e+Ut(Tt,Se),Vt+=rt(Tt,ct,vt,xt,Ct);else if(Se=U(q),typeof Se=="function")for(q=Se.call(q),Se=0;!(Tt=q.next()).done;)Tt=Tt.value,xt=_e+Ut(Tt,Se++),Vt+=rt(Tt,ct,vt,xt,Ct);else if(xt==="object"){if(typeof q.then=="function")return rt(Ee(q),ct,vt,Tt,Ct);throw ct=String(q),Error("Objects are not valid as a React child (found: "+(ct==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":ct)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function At(q,ct,vt){if(q==null)return q;var Tt=[],Ct=0;return rt(q,Tt,"","",function(xt){return ct.call(vt,xt,Ct++)}),Tt}function ut(q){if(q._status===-1){var ct=q._result;ct=ct(),ct.then(function(vt){(q._status===0||q._status===-1)&&(q._status=1,q._result=vt)},function(vt){(q._status===0||q._status===-1)&&(q._status=2,q._result=vt)}),q._status===-1&&(q._status=0,q._result=ct)}if(q._status===1)return q._result.default;throw q._result}var qt=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ct=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(ct))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},It={map:At,forEach:function(q,ct,vt){At(q,function(){ct.apply(this,arguments)},vt)},count:function(q){var ct=0;return At(q,function(){ct++}),ct},toArray:function(q){return At(q,function(ct){return ct})||[]},only:function(q){if(!V(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return Yt.Activity=x,Yt.Children=It,Yt.Component=dt,Yt.Fragment=n,Yt.Profiler=a,Yt.PureComponent=lt,Yt.StrictMode=s,Yt.Suspense=T,Yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,Yt.__COMPILER_RUNTIME={__proto__:null,c:function(q){return z.H.useMemoCache(q)}},Yt.cache=function(q){return function(){return q.apply(null,arguments)}},Yt.cacheSignal=function(){return null},Yt.cloneElement=function(q,ct,vt){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var Tt=K({},q.props),Ct=q.key;if(ct!=null)for(xt in ct.key!==void 0&&(Ct=""+ct.key),ct)!O.call(ct,xt)||xt==="key"||xt==="__self"||xt==="__source"||xt==="ref"&&ct.ref===void 0||(Tt[xt]=ct[xt]);var xt=arguments.length-2;if(xt===1)Tt.children=vt;else if(1<xt){for(var Vt=Array(xt),_e=0;_e<xt;_e++)Vt[_e]=arguments[_e+2];Tt.children=Vt}return k(q.type,Ct,Tt)},Yt.createContext=function(q){return q={$$typeof:d,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:c,_context:q},q},Yt.createElement=function(q,ct,vt){var Tt,Ct={},xt=null;if(ct!=null)for(Tt in ct.key!==void 0&&(xt=""+ct.key),ct)O.call(ct,Tt)&&Tt!=="key"&&Tt!=="__self"&&Tt!=="__source"&&(Ct[Tt]=ct[Tt]);var Vt=arguments.length-2;if(Vt===1)Ct.children=vt;else if(1<Vt){for(var _e=Array(Vt),Se=0;Se<Vt;Se++)_e[Se]=arguments[Se+2];Ct.children=_e}if(q&&q.defaultProps)for(Tt in Vt=q.defaultProps,Vt)Ct[Tt]===void 0&&(Ct[Tt]=Vt[Tt]);return k(q,xt,Ct)},Yt.createRef=function(){return{current:null}},Yt.forwardRef=function(q){return{$$typeof:_,render:q}},Yt.isValidElement=V,Yt.lazy=function(q){return{$$typeof:w,_payload:{_status:-1,_result:q},_init:ut}},Yt.memo=function(q,ct){return{$$typeof:v,type:q,compare:ct===void 0?null:ct}},Yt.startTransition=function(q){var ct=z.T,vt={};z.T=vt;try{var Tt=q(),Ct=z.S;Ct!==null&&Ct(vt,Tt),typeof Tt=="object"&&Tt!==null&&typeof Tt.then=="function"&&Tt.then(ft,qt)}catch(xt){qt(xt)}finally{ct!==null&&vt.types!==null&&(ct.types=vt.types),z.T=ct}},Yt.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},Yt.use=function(q){return z.H.use(q)},Yt.useActionState=function(q,ct,vt){return z.H.useActionState(q,ct,vt)},Yt.useCallback=function(q,ct){return z.H.useCallback(q,ct)},Yt.useContext=function(q){return z.H.useContext(q)},Yt.useDebugValue=function(){},Yt.useDeferredValue=function(q,ct){return z.H.useDeferredValue(q,ct)},Yt.useEffect=function(q,ct){return z.H.useEffect(q,ct)},Yt.useEffectEvent=function(q){return z.H.useEffectEvent(q)},Yt.useId=function(){return z.H.useId()},Yt.useImperativeHandle=function(q,ct,vt){return z.H.useImperativeHandle(q,ct,vt)},Yt.useInsertionEffect=function(q,ct){return z.H.useInsertionEffect(q,ct)},Yt.useLayoutEffect=function(q,ct){return z.H.useLayoutEffect(q,ct)},Yt.useMemo=function(q,ct){return z.H.useMemo(q,ct)},Yt.useOptimistic=function(q,ct){return z.H.useOptimistic(q,ct)},Yt.useReducer=function(q,ct,vt){return z.H.useReducer(q,ct,vt)},Yt.useRef=function(q){return z.H.useRef(q)},Yt.useState=function(q){return z.H.useState(q)},Yt.useSyncExternalStore=function(q,ct,vt){return z.H.useSyncExternalStore(q,ct,vt)},Yt.useTransition=function(){return z.H.useTransition()},Yt.version="19.2.4",Yt}var Ty;function Up(){return Ty||(Ty=1,Bh.exports=uC()),Bh.exports}var Et=Up();const Cf=Ff(Et);var Hh={exports:{}},Su={},Vh={exports:{}},Gh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function cC(){return Ey||(Ey=1,(function(e){function t(rt,At){var ut=rt.length;rt.push(At);t:for(;0<ut;){var qt=ut-1>>>1,It=rt[qt];if(0<a(It,At))rt[qt]=At,rt[ut]=It,ut=qt;else break t}}function n(rt){return rt.length===0?null:rt[0]}function s(rt){if(rt.length===0)return null;var At=rt[0],ut=rt.pop();if(ut!==At){rt[0]=ut;t:for(var qt=0,It=rt.length,q=It>>>1;qt<q;){var ct=2*(qt+1)-1,vt=rt[ct],Tt=ct+1,Ct=rt[Tt];if(0>a(vt,ut))Tt<It&&0>a(Ct,vt)?(rt[qt]=Ct,rt[Tt]=ut,qt=Tt):(rt[qt]=vt,rt[ct]=ut,qt=ct);else if(Tt<It&&0>a(Ct,ut))rt[qt]=Ct,rt[Tt]=ut,qt=Tt;else break t}}return At}function a(rt,At){var ut=rt.sortIndex-At.sortIndex;return ut!==0?ut:rt.id-At.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,_=d.now();e.unstable_now=function(){return d.now()-_}}var T=[],v=[],w=1,x=null,b=3,U=!1,Y=!1,K=!1,$=!1,dt=typeof setTimeout=="function"?setTimeout:null,_t=typeof clearTimeout=="function"?clearTimeout:null,lt=typeof setImmediate<"u"?setImmediate:null;function St(rt){for(var At=n(v);At!==null;){if(At.callback===null)s(v);else if(At.startTime<=rt)s(v),At.sortIndex=At.expirationTime,t(T,At);else break;At=n(v)}}function Rt(rt){if(K=!1,St(rt),!Y)if(n(T)!==null)Y=!0,ft||(ft=!0,J());else{var At=n(v);At!==null&&Ee(Rt,At.startTime-rt)}}var ft=!1,z=-1,O=5,k=-1;function F(){return $?!0:!(e.unstable_now()-k<O)}function V(){if($=!1,ft){var rt=e.unstable_now();k=rt;var At=!0;try{t:{Y=!1,K&&(K=!1,_t(z),z=-1),U=!0;var ut=b;try{e:{for(St(rt),x=n(T);x!==null&&!(x.expirationTime>rt&&F());){var qt=x.callback;if(typeof qt=="function"){x.callback=null,b=x.priorityLevel;var It=qt(x.expirationTime<=rt);if(rt=e.unstable_now(),typeof It=="function"){x.callback=It,St(rt),At=!0;break e}x===n(T)&&s(T),St(rt)}else s(T);x=n(T)}if(x!==null)At=!0;else{var q=n(v);q!==null&&Ee(Rt,q.startTime-rt),At=!1}}break t}finally{x=null,b=ut,U=!1}At=void 0}}finally{At?J():ft=!1}}}var J;if(typeof lt=="function")J=function(){lt(V)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,Ut=B.port2;B.port1.onmessage=V,J=function(){Ut.postMessage(null)}}else J=function(){dt(V,0)};function Ee(rt,At){z=dt(function(){rt(e.unstable_now())},At)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(rt){rt.callback=null},e.unstable_forceFrameRate=function(rt){0>rt||125<rt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<rt?Math.floor(1e3/rt):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(rt){switch(b){case 1:case 2:case 3:var At=3;break;default:At=b}var ut=b;b=At;try{return rt()}finally{b=ut}},e.unstable_requestPaint=function(){$=!0},e.unstable_runWithPriority=function(rt,At){switch(rt){case 1:case 2:case 3:case 4:case 5:break;default:rt=3}var ut=b;b=rt;try{return At()}finally{b=ut}},e.unstable_scheduleCallback=function(rt,At,ut){var qt=e.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?qt+ut:qt):ut=qt,rt){case 1:var It=-1;break;case 2:It=250;break;case 5:It=1073741823;break;case 4:It=1e4;break;default:It=5e3}return It=ut+It,rt={id:w++,callback:At,priorityLevel:rt,startTime:ut,expirationTime:It,sortIndex:-1},ut>qt?(rt.sortIndex=ut,t(v,rt),n(T)===null&&rt===n(v)&&(K?(_t(z),z=-1):K=!0,Ee(Rt,ut-qt))):(rt.sortIndex=It,t(T,rt),Y||U||(Y=!0,ft||(ft=!0,J()))),rt},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(rt){var At=b;return function(){var ut=b;b=At;try{return rt.apply(this,arguments)}finally{b=ut}}}})(Gh)),Gh}var Sy;function fC(){return Sy||(Sy=1,Vh.exports=cC()),Vh.exports}var Fh={exports:{}},Qn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy;function dC(){if(wy)return Qn;wy=1;var e=Up();function t(T){var v="https://react.dev/errors/"+T;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)v+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+T+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function c(T,v,w){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:x==null?null:""+x,children:T,containerInfo:v,implementation:w}}var d=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(T,v){if(T==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Qn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qn.createPortal=function(T,v){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return c(T,v,null,w)},Qn.flushSync=function(T){var v=d.T,w=s.p;try{if(d.T=null,s.p=2,T)return T()}finally{d.T=v,s.p=w,s.d.f()}},Qn.preconnect=function(T,v){typeof T=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(T,v))},Qn.prefetchDNS=function(T){typeof T=="string"&&s.d.D(T)},Qn.preinit=function(T,v){if(typeof T=="string"&&v&&typeof v.as=="string"){var w=v.as,x=_(w,v.crossOrigin),b=typeof v.integrity=="string"?v.integrity:void 0,U=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;w==="style"?s.d.S(T,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:x,integrity:b,fetchPriority:U}):w==="script"&&s.d.X(T,{crossOrigin:x,integrity:b,fetchPriority:U,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Qn.preinitModule=function(T,v){if(typeof T=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var w=_(v.as,v.crossOrigin);s.d.M(T,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(T)},Qn.preload=function(T,v){if(typeof T=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var w=v.as,x=_(w,v.crossOrigin);s.d.L(T,w,{crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Qn.preloadModule=function(T,v){if(typeof T=="string")if(v){var w=_(v.as,v.crossOrigin);s.d.m(T,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(T)},Qn.requestFormReset=function(T){s.d.r(T)},Qn.unstable_batchedUpdates=function(T,v){return T(v)},Qn.useFormState=function(T,v,w){return d.H.useFormState(T,v,w)},Qn.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qn.version="19.2.4",Qn}var Cy;function TT(){if(Cy)return Fh.exports;Cy=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Fh.exports=dC(),Fh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function hC(){if(Ay)return Su;Ay=1;var e=fC(),t=Up(),n=TT();function s(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function c(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function d(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function _(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function T(i){if(c(i)!==i)throw Error(s(188))}function v(i){var o=i.alternate;if(!o){if(o=c(i),o===null)throw Error(s(188));return o!==i?null:i}for(var l=i,f=o;;){var y=l.return;if(y===null)break;var E=y.alternate;if(E===null){if(f=y.return,f!==null){l=f;continue}break}if(y.child===E.child){for(E=y.child;E;){if(E===l)return T(y),i;if(E===f)return T(y),o;E=E.sibling}throw Error(s(188))}if(l.return!==f.return)l=y,f=E;else{for(var I=!1,P=y.child;P;){if(P===l){I=!0,l=y,f=E;break}if(P===f){I=!0,f=y,l=E;break}P=P.sibling}if(!I){for(P=E.child;P;){if(P===l){I=!0,l=E,f=y;break}if(P===f){I=!0,f=E,l=y;break}P=P.sibling}if(!I)throw Error(s(189))}}if(l.alternate!==f)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?i:o}function w(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=w(i),o!==null)return o;i=i.sibling}return null}var x=Object.assign,b=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),dt=Symbol.for("react.profiler"),_t=Symbol.for("react.consumer"),lt=Symbol.for("react.context"),St=Symbol.for("react.forward_ref"),Rt=Symbol.for("react.suspense"),ft=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function J(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var B=Symbol.for("react.client.reference");function Ut(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===B?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case K:return"Fragment";case dt:return"Profiler";case $:return"StrictMode";case Rt:return"Suspense";case ft:return"SuspenseList";case k:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case Y:return"Portal";case lt:return i.displayName||"Context";case _t:return(i._context.displayName||"Context")+".Consumer";case St:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case z:return o=i.displayName||null,o!==null?o:Ut(i.type)||"Memo";case O:o=i._payload,i=i._init;try{return Ut(i(o))}catch{}}return null}var Ee=Array.isArray,rt=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,At=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},qt=[],It=-1;function q(i){return{current:i}}function ct(i){0>It||(i.current=qt[It],qt[It]=null,It--)}function vt(i,o){It++,qt[It]=i.current,i.current=o}var Tt=q(null),Ct=q(null),xt=q(null),Vt=q(null);function _e(i,o){switch(vt(xt,o),vt(Ct,i),vt(Tt,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?H_(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=H_(o),i=V_(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ct(Tt),vt(Tt,i)}function Se(){ct(Tt),ct(Ct),ct(xt)}function Ui(i){i.memoizedState!==null&&vt(Vt,i);var o=Tt.current,l=V_(o,i.type);o!==l&&(vt(Ct,i),vt(Tt,l))}function _i(i){Ct.current===i&&(ct(Tt),ct(Ct)),Vt.current===i&&(ct(Vt),_u._currentValue=ut)}var jn,zn;function ti(i){if(jn===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);jn=o&&o[1]||"",zn=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jn+i+zn}var vo=!1;function Oi(i,o){if(!i||vo)return"";vo=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var gt=function(){throw Error()};if(Object.defineProperty(gt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(gt,[])}catch(at){var it=at}Reflect.construct(i,[],gt)}else{try{gt.call()}catch(at){it=at}i.call(gt.prototype)}}else{try{throw Error()}catch(at){it=at}(gt=i())&&typeof gt.catch=="function"&&gt.catch(function(){})}}catch(at){if(at&&it&&typeof at.stack=="string")return[at.stack,it.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=f.DetermineComponentFrameRoot(),I=E[0],P=E[1];if(I&&P){var G=I.split(`
`),et=P.split(`
`);for(y=f=0;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;for(;y<et.length&&!et[y].includes("DetermineComponentFrameRoot");)y++;if(f===G.length||y===et.length)for(f=G.length-1,y=et.length-1;1<=f&&0<=y&&G[f]!==et[y];)y--;for(;1<=f&&0<=y;f--,y--)if(G[f]!==et[y]){if(f!==1||y!==1)do if(f--,y--,0>y||G[f]!==et[y]){var ht=`
`+G[f].replace(" at new "," at ");return i.displayName&&ht.includes("<anonymous>")&&(ht=ht.replace("<anonymous>",i.displayName)),ht}while(1<=f&&0<=y);break}}}finally{vo=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?ti(l):""}function Bn(i,o){switch(i.tag){case 26:case 27:case 5:return ti(i.type);case 16:return ti("Lazy");case 13:return i.child!==o&&o!==null?ti("Suspense Fallback"):ti("Suspense");case 19:return ti("SuspenseList");case 0:case 15:return Oi(i.type,!1);case 11:return Oi(i.type.render,!1);case 1:return Oi(i.type,!0);case 31:return ti("Activity");default:return""}}function yi(i){try{var o="",l=null;do o+=Bn(i,l),l=i,i=i.return;while(i);return o}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var Fe=Object.prototype.hasOwnProperty,De=e.unstable_scheduleCallback,sn=e.unstable_cancelCallback,Jo=e.unstable_shouldYield,vs=e.unstable_requestPaint,en=e.unstable_now,eo=e.unstable_getCurrentPriorityLevel,no=e.unstable_ImmediatePriority,To=e.unstable_UserBlockingPriority,vi=e.unstable_NormalPriority,tr=e.unstable_LowPriority,Yo=e.unstable_IdlePriority,Ts=e.log,ei=e.unstable_setDisableYieldValue,Ke=null,qe=null;function Nn(i){if(typeof Ts=="function"&&ei(i),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Ke,i)}catch{}}var Oe=Math.clz32?Math.clz32:Es,zi=Math.log,Ko=Math.LN2;function Es(i){return i>>>=0,i===0?32:31-(zi(i)/Ko|0)|0}var Hn=256,Ti=262144,Be=4194304;function ni(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ei(i,o,l){var f=i.pendingLanes;if(f===0)return 0;var y=0,E=i.suspendedLanes,I=i.pingedLanes;i=i.warmLanes;var P=f&134217727;return P!==0?(f=P&~E,f!==0?y=ni(f):(I&=P,I!==0?y=ni(I):l||(l=P&~i,l!==0&&(y=ni(l))))):(P=f&~E,P!==0?y=ni(P):I!==0?y=ni(I):l||(l=f&~i,l!==0&&(y=ni(l)))),y===0?0:o!==0&&o!==y&&(o&E)===0&&(E=y&-y,l=o&-o,E>=l||E===32&&(l&4194048)!==0)?o:y}function Mn(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function er(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Si(){var i=Be;return Be<<=1,(Be&62914560)===0&&(Be=4194304),i}function ii(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function wi(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ss(i,o,l,f,y,E){var I=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var P=i.entanglements,G=i.expirationTimes,et=i.hiddenUpdates;for(l=I&~l;0<l;){var ht=31-Oe(l),gt=1<<ht;P[ht]=0,G[ht]=-1;var it=et[ht];if(it!==null)for(et[ht]=null,ht=0;ht<it.length;ht++){var at=it[ht];at!==null&&(at.lane&=-536870913)}l&=~gt}f!==0&&Eo(i,f,0),E!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=E&~(I&~o))}function Eo(i,o,l){i.pendingLanes|=o,i.suspendedLanes&=~o;var f=31-Oe(o);i.entangledLanes|=o,i.entanglements[f]=i.entanglements[f]|1073741824|l&261930}function So(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var f=31-Oe(l),y=1<<f;y&o|i[f]&o&&(i[f]|=o),l&=~y}}function wo(i,o){var l=o&-o;return l=(l&42)!==0?1:rn(l),(l&(i.suspendedLanes|o))!==0?0:l}function rn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Pt(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Wo(){var i=At.p;return i!==0?i:(i=window.event,i===void 0?32:cy(i.type))}function Vn(i,o){var l=At.p;try{return At.p=i,o()}finally{At.p=l}}var oi=Math.random().toString(36).slice(2),He="__reactFiber$"+oi,ze="__reactProps$"+oi,Gn="__reactContainer$"+oi,si="__reactEvents$"+oi,ws="__reactListeners$"+oi,nr="__reactHandles$"+oi,Cs="__reactResources$"+oi,Bi="__reactMarker$"+oi;function Xo(i){delete i[He],delete i[ze],delete i[si],delete i[ws],delete i[nr]}function Ci(i){var o=i[He];if(o)return o;for(var l=i.parentNode;l;){if(o=l[Gn]||l[He]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=K_(i);i!==null;){if(l=i[He])return l;i=K_(i)}return o}i=l,l=i.parentNode}return null}function Fn(i){if(i=i[He]||i[Gn]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function an(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(s(33))}function qn(i){var o=i[Cs];return o||(o=i[Cs]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Ze(i){i[Bi]=!0}var As=new Set,$o={};function Ai(i,o){Zn(i,o),Zn(i+"Capture",o)}function Zn(i,o){for($o[i]=o,i=0;i<o.length;i++)As.add(o[i])}var Hi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Co={},Qo={};function io(i){return Fe.call(Qo,i)?!0:Fe.call(Co,i)?!1:Hi.test(i)?Qo[i]=!0:(Co[i]=!0,!1)}function $t(i,o,l){if(io(o))if(l===null)i.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+l)}}function Zt(i,o,l){if(l===null)i.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+l)}}function Re(i,o,l,f){if(f===null)i.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(o,l,""+f)}}function Le(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function yn(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ao(i,o,l){var f=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var y=f.get,E=f.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return y.call(this)},set:function(I){l=""+I,E.call(this,I)}}),Object.defineProperty(i,o,{enumerable:f.enumerable}),{getValue:function(){return l},setValue:function(I){l=""+I},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Mt(i){if(!i._valueTracker){var o=yn(i)?"checked":"value";i._valueTracker=Ao(i,o,""+i[o])}}function ye(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),f="";return i&&(f=yn(i)?i.checked?"true":"false":i.value),i=f,i!==l?(o.setValue(i),!0):!1}function Jn(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var xi=/[\n"\\]/g;function Ae(i){return i.replace(xi,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function jo(i,o,l,f,y,E,I,P){i.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?i.type=I:i.removeAttribute("type"),o!=null?I==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Le(o)):i.value!==""+Le(o)&&(i.value=""+Le(o)):I!=="submit"&&I!=="reset"||i.removeAttribute("value"),o!=null?pn(i,I,Le(o)):l!=null?pn(i,I,Le(l)):f!=null&&i.removeAttribute("value"),y==null&&E!=null&&(i.defaultChecked=!!E),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?i.name=""+Le(P):i.removeAttribute("name")}function xo(i,o,l,f,y,E,I,P){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.type=E),o!=null||l!=null){if(!(E!=="submit"&&E!=="reset"||o!=null)){Mt(i);return}l=l!=null?""+Le(l):"",o=o!=null?""+Le(o):l,P||o===i.value||(i.value=o),i.defaultValue=o}f=f??y,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=P?i.checked:!!f,i.defaultChecked=!!f,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(i.name=I),Mt(i)}function pn(i,o,l){o==="number"&&Jn(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function ve(i,o,l,f){if(i=i.options,o){o={};for(var y=0;y<l.length;y++)o["$"+l[y]]=!0;for(l=0;l<i.length;l++)y=o.hasOwnProperty("$"+i[l].value),i[l].selected!==y&&(i[l].selected=y),y&&f&&(i[l].defaultSelected=!0)}else{for(l=""+Le(l),o=null,y=0;y<i.length;y++){if(i[y].value===l){i[y].selected=!0,f&&(i[y].defaultSelected=!0);return}o!==null||i[y].disabled||(o=i[y])}o!==null&&(o.selected=!0)}}function Yn(i,o,l){if(o!=null&&(o=""+Le(o),o!==i.value&&(i.value=o),l==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=l!=null?""+Le(l):""}function Kn(i,o,l,f){if(o==null){if(f!=null){if(l!=null)throw Error(s(92));if(Ee(f)){if(1<f.length)throw Error(s(93));f=f[0]}l=f}l==null&&(l=""),o=l}l=Le(o),i.defaultValue=l,f=i.textContent,f===l&&f!==""&&f!==null&&(i.value=f),Mt(i)}function We(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var ts=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vi(i,o,l){var f=o.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?f?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":f?i.setProperty(o,l):typeof l!="number"||l===0||ts.has(o)?o==="float"?i.cssFloat=l:i[o]=(""+l).trim():i[o]=l+"px"}function bo(i,o,l){if(o!=null&&typeof o!="object")throw Error(s(62));if(i=i.style,l!=null){for(var f in l)!l.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var y in o)f=o[y],o.hasOwnProperty(y)&&l[y]!==f&&Vi(i,y,f)}else for(var E in o)o.hasOwnProperty(E)&&Vi(i,E,o[E])}function oo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Io=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function so(i){return bi.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function vn(){}var es=null;function Tn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ro=null,Ot=null;function ln(i){var o=Fn(i);if(o&&(i=o.stateNode)){var l=i[ze]||null;t:switch(i=o.stateNode,o.type){case"input":if(jo(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ae(""+o)+'"][type="radio"]'),o=0;o<l.length;o++){var f=l[o];if(f!==i&&f.form===i.form){var y=f[ze]||null;if(!y)throw Error(s(90));jo(f,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<l.length;o++)f=l[o],f.form===i.form&&ye(f)}break t;case"textarea":Yn(i,l.value,l.defaultValue);break t;case"select":o=l.value,o!=null&&ve(i,!!l.multiple,o,!1)}}}var ae=!1;function Gi(i,o,l){if(ae)return i(o,l);ae=!0;try{var f=i(o);return f}finally{if(ae=!1,(ro!==null||Ot!==null)&&(Lc(),ro&&(o=ro,i=Ot,Ot=ro=null,ln(o),i)))for(o=0;o<i.length;o++)ln(i[o])}}function Pn(i,o){var l=i.stateNode;if(l===null)return null;var f=l[ze]||null;if(f===null)return null;l=f[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break t;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(s(231,o,typeof l));return l}var j=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yt=!1;if(j)try{var ot={};Object.defineProperty(ot,"passive",{get:function(){yt=!0}}),window.addEventListener("test",ot,ot),window.removeEventListener("test",ot,ot)}catch{yt=!1}var Gt=null,we=null,oe=null;function Xe(){if(oe)return oe;var i,o=we,l=o.length,f,y="value"in Gt?Gt.value:Gt.textContent,E=y.length;for(i=0;i<l&&o[i]===y[i];i++);var I=l-i;for(f=1;f<=I&&o[l-f]===y[E-f];f++);return oe=y.slice(i,1<f?1-f:void 0)}function En(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Dn(){return!0}function ri(){return!1}function $e(i){function o(l,f,y,E,I){this._reactName=l,this._targetInst=y,this.type=f,this.nativeEvent=E,this.target=I,this.currentTarget=null;for(var P in i)i.hasOwnProperty(P)&&(l=i[P],this[P]=l?l(E):E[P]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Dn:ri,this.isPropagationStopped=ri,this}return x(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Dn)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Dn)},persist:function(){},isPersistent:Dn}),o}var xe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sn=$e(xe),Ln=x({},xe,{view:0,detail:0}),Kt=$e(Ln),ns,wn,Wn,xs=x({},Ln,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Wn&&(Wn&&i.type==="mousemove"?(ns=i.screenX-Wn.screenX,wn=i.screenY-Wn.screenY):wn=ns=0,Wn=i),ns)},movementY:function(i){return"movementY"in i?i.movementY:wn}}),Wr=$e(xs),Ro=x({},xs,{dataTransfer:0}),Fa=$e(Ro),Xr=x({},Ln,{relatedTarget:0}),bs=$e(Xr),$r=x({},xe,{animationName:0,elapsedTime:0,pseudoElement:0}),ir=$e($r),or=x({},xe,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ai=$e(or),qa=x({},xe,{data:0}),Fi=$e(qa),qi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sr(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=jr[i])?!!o[i]:!1}function Cn(){return sr}var ta=x({},Ln,{key:function(i){if(i.key){var o=qi[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=En(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Qr[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(i){return i.type==="keypress"?En(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?En(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),ea=$e(ta),is=x({},xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),m=$e(is),C=x({},Ln,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn}),R=$e(C),D=x({},xe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q=$e(D),st=x({},xs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),wt=$e(st),Jt=x({},xe,{newState:0,oldState:0}),ke=$e(Jt),Wt=[9,13,27,32],Ve=j&&"CompositionEvent"in window,mn=null;j&&"documentMode"in document&&(mn=document.documentMode);var No=j&&"TextEvent"in window&&!mn,li=j&&(!Ve||mn&&8<mn&&11>=mn),ui=" ",Is=!1;function rr(i,o){switch(i){case"keyup":return Wt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zl(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ar=!1;function Zi(i,o){switch(i){case"compositionend":return zl(o);case"keypress":return o.which!==32?null:(Is=!0,ui);case"textInput":return i=o.data,i===ui&&Is?null:i;default:return null}}function lr(i,o){if(ar)return i==="compositionend"||!Ve&&rr(i,o)?(i=Xe(),oe=we=Gt=null,ar=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return li&&o.locale!=="ko"?null:o.data;default:return null}}var nd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ao(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!nd[i.type]:o==="textarea"}function $u(i,o,l,f){ro?Ot?Ot.push(f):Ot=[f]:ro=f,o=Vc(o,"onChange"),0<o.length&&(l=new Sn("onChange","change",null,l,f),i.push({event:l,listeners:o}))}var lo=null,na=null;function ia(i){L_(i,0)}function oa(i){var o=an(i);if(ye(o))return i}function sa(i,o){if(i==="change")return o}var Qu=!1;if(j){var uo;if(j){var ur="oninput"in document;if(!ur){var ju=document.createElement("div");ju.setAttribute("oninput","return;"),ur=typeof ju.oninput=="function"}uo=ur}else uo=!1;Qu=uo&&(!document.documentMode||9<document.documentMode)}function Za(){lo&&(lo.detachEvent("onpropertychange",tc),na=lo=null)}function tc(i){if(i.propertyName==="value"&&oa(na)){var o=[];$u(o,na,i,Tn(i)),Gi(ia,o)}}function Mo(i,o,l){i==="focusin"?(Za(),lo=o,na=l,lo.attachEvent("onpropertychange",tc)):i==="focusout"&&Za()}function id(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return oa(na)}function cr(i,o){if(i==="click")return oa(o)}function od(i,o){if(i==="input"||i==="change")return oa(o)}function Po(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var An=typeof Object.is=="function"?Object.is:Po;function fr(i,o){if(An(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),f=Object.keys(o);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var y=l[f];if(!Fe.call(o,y)||!An(i[y],o[y]))return!1}return!0}function Ja(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ra(i,o){var l=Ja(i);i=0;for(var f;l;){if(l.nodeType===3){if(f=i+l.textContent.length,i<=o&&f>=o)return{node:l,offset:o-i};i=f}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=Ja(l)}}function Ya(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Ya(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function aa(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=Jn(i.document);o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=Jn(i.document)}return o}function os(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var Ka=j&&"documentMode"in document&&11>=document.documentMode,ss=null,Wa=null,la=null,dr=!1;function ec(i,o,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;dr||ss==null||ss!==Jn(f)||(f=ss,"selectionStart"in f&&os(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),la&&fr(la,f)||(la=f,f=Vc(Wa,"onSelect"),0<f.length&&(o=new Sn("onSelect","select",null,o,l),i.push({event:o,listeners:f}),o.target=ss)))}function rs(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var hr={animationend:rs("Animation","AnimationEnd"),animationiteration:rs("Animation","AnimationIteration"),animationstart:rs("Animation","AnimationStart"),transitionrun:rs("Transition","TransitionRun"),transitionstart:rs("Transition","TransitionStart"),transitioncancel:rs("Transition","TransitionCancel"),transitionend:rs("Transition","TransitionEnd")},Xa={},nc={};j&&(nc=document.createElement("div").style,"AnimationEvent"in window||(delete hr.animationend.animation,delete hr.animationiteration.animation,delete hr.animationstart.animation),"TransitionEvent"in window||delete hr.transitionend.transition);function xn(i){if(Xa[i])return Xa[i];if(!hr[i])return i;var o=hr[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in nc)return Xa[i]=o[l];return i}var ua=xn("animationend"),ic=xn("animationiteration"),ca=xn("animationstart"),sd=xn("transitionrun"),oc=xn("transitionstart"),rd=xn("transitioncancel"),pr=xn("transitionend"),sc=new Map,as="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");as.push("scrollEnd");function Ii(i,o){sc.set(i,o),Ai(o,[i])}var fa=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Ri=[],Xn=0,$a=0;function da(){for(var i=Xn,o=$a=Xn=0;o<i;){var l=Ri[o];Ri[o++]=null;var f=Ri[o];Ri[o++]=null;var y=Ri[o];Ri[o++]=null;var E=Ri[o];if(Ri[o++]=null,f!==null&&y!==null){var I=f.pending;I===null?y.next=y:(y.next=I.next,I.next=y),f.pending=y}E!==0&&mr(l,y,E)}}function ls(i,o,l,f){Ri[Xn++]=i,Ri[Xn++]=o,Ri[Xn++]=l,Ri[Xn++]=f,$a|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function Bl(i,o,l,f){return ls(i,o,l,f),ha(i)}function co(i,o){return ls(i,null,null,o),ha(i)}function mr(i,o,l){i.lanes|=l;var f=i.alternate;f!==null&&(f.lanes|=l);for(var y=!1,E=i.return;E!==null;)E.childLanes|=l,f=E.alternate,f!==null&&(f.childLanes|=l),E.tag===22&&(i=E.stateNode,i===null||i._visibility&1||(y=!0)),i=E,E=E.return;return i.tag===3?(E=i.stateNode,y&&o!==null&&(y=31-Oe(l),i=E.hiddenUpdates,f=i[y],f===null?i[y]=[o]:f.push(o),o.lane=l|536870912),E):null}function ha(i){if(50<cu)throw cu=0,lh=null,Error(s(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var Rs={};function ad(i,o,l,f){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(i,o,l,f){return new ad(i,o,l,f)}function Qa(i){return i=i.prototype,!(!i||!i.isReactComponent)}function fo(i,o){var l=i.alternate;return l===null?(l=$n(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Hl(i,o){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,o=l.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function pa(i,o,l,f,y,E){var I=0;if(f=i,typeof i=="function")Qa(i)&&(I=1);else if(typeof i=="string")I=Ww(i,l,Tt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case k:return i=$n(31,l,o,y),i.elementType=k,i.lanes=E,i;case K:return Ns(l.children,y,E,o);case $:I=8,y|=24;break;case dt:return i=$n(12,l,o,y|2),i.elementType=dt,i.lanes=E,i;case Rt:return i=$n(13,l,o,y),i.elementType=Rt,i.lanes=E,i;case ft:return i=$n(19,l,o,y),i.elementType=ft,i.lanes=E,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case lt:I=10;break t;case _t:I=9;break t;case St:I=11;break t;case z:I=14;break t;case O:I=16,f=null;break t}I=29,l=Error(s(130,i===null?"null":typeof i,"")),f=null}return o=$n(I,l,o,y),o.elementType=i,o.type=f,o.lanes=E,o}function Ns(i,o,l,f){return i=$n(7,i,f,o),i.lanes=l,i}function ja(i,o,l){return i=$n(6,i,null,o),i.lanes=l,i}function Vl(i){var o=$n(18,null,null,0);return o.stateNode=i,o}function Gl(i,o,l){return o=$n(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var r=new WeakMap;function u(i,o){if(typeof i=="object"&&i!==null){var l=r.get(i);return l!==void 0?l:(o={value:i,source:o,stack:yi(o)},r.set(i,o),o)}return{value:i,source:o,stack:yi(o)}}var g=[],S=0,A=null,M=0,H=[],X=0,nt=null,mt=1,bt="";function kt(i,o){g[S++]=M,g[S++]=A,A=i,M=o}function Qt(i,o,l){H[X++]=mt,H[X++]=bt,H[X++]=nt,nt=i;var f=mt;i=bt;var y=32-Oe(f)-1;f&=~(1<<y),l+=1;var E=32-Oe(o)+y;if(30<E){var I=y-y%5;E=(f&(1<<I)-1).toString(32),f>>=I,y-=I,mt=1<<32-Oe(o)+y|l<<y|f,bt=E+i}else mt=1<<E|l<<y|f,bt=i}function gn(i){i.return!==null&&(kt(i,1),Qt(i,1,0))}function Qe(i){for(;i===A;)A=g[--S],g[S]=null,M=g[--S],g[S]=null;for(;i===nt;)nt=H[--X],H[X]=null,bt=H[--X],H[X]=null,mt=H[--X],H[X]=null}function ci(i,o){H[X++]=mt,H[X++]=bt,H[X++]=nt,mt=o.id,bt=o.overflow,nt=i}var de=null,he=null,ee=!1,us=null,Ni=!1,tl=Error(s(519));function cs(i){var o=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ma(u(o,i)),tl}function Fl(i){var o=i.stateNode,l=i.type,f=i.memoizedProps;switch(o[He]=i,o[ze]=f,l){case"dialog":ie("cancel",o),ie("close",o);break;case"iframe":case"object":case"embed":ie("load",o);break;case"video":case"audio":for(l=0;l<du.length;l++)ie(du[l],o);break;case"source":ie("error",o);break;case"img":case"image":case"link":ie("error",o),ie("load",o);break;case"details":ie("toggle",o);break;case"input":ie("invalid",o),xo(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":ie("invalid",o);break;case"textarea":ie("invalid",o),Kn(o,f.value,f.defaultValue,f.children)}l=f.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||o.textContent===""+l||f.suppressHydrationWarning===!0||z_(o.textContent,l)?(f.popover!=null&&(ie("beforetoggle",o),ie("toggle",o)),f.onScroll!=null&&ie("scroll",o),f.onScrollEnd!=null&&ie("scrollend",o),f.onClick!=null&&(o.onclick=vn),o=!0):o=!1,o||cs(i,!0)}function Ye(i){for(de=i.return;de;)switch(de.tag){case 5:case 31:case 13:Ni=!1;return;case 27:case 3:Ni=!0;return;default:de=de.return}}function Do(i){if(i!==de)return!1;if(!ee)return Ye(i),ee=!0,!1;var o=i.tag,l;if((l=o!==3&&o!==27)&&((l=o===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||wh(i.type,i.memoizedProps)),l=!l),l&&he&&cs(i),Ye(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));he=Y_(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));he=Y_(i)}else o===27?(o=he,Rr(i.type)?(i=Ih,Ih=null,he=i):he=o):he=de?po(i.stateNode.nextSibling):null;return!0}function Ms(){he=de=null,ee=!1}function ql(){var i=us;return i!==null&&(Li===null?Li=i:Li.push.apply(Li,i),us=null),i}function ma(i){us===null?us=[i]:us.push(i)}var ga=q(null),fs=null,Lo=null;function gr(i,o,l){vt(ga,o._currentValue),o._currentValue=l}function Ps(i){i._currentValue=ga.current,ct(ga)}function ld(i,o,l){for(;i!==null;){var f=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),i===l)break;i=i.return}}function ud(i,o,l,f){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var E=y.dependencies;if(E!==null){var I=y.child;E=E.firstContext;t:for(;E!==null;){var P=E;E=y;for(var G=0;G<o.length;G++)if(P.context===o[G]){E.lanes|=l,P=E.alternate,P!==null&&(P.lanes|=l),ld(E.return,l,i),f||(I=null);break t}E=P.next}}else if(y.tag===18){if(I=y.return,I===null)throw Error(s(341));I.lanes|=l,E=I.alternate,E!==null&&(E.lanes|=l),ld(I,l,i),I=null}else I=y.child;if(I!==null)I.return=y;else for(I=y;I!==null;){if(I===i){I=null;break}if(y=I.sibling,y!==null){y.return=I.return,I=y;break}I=I.return}y=I}}function el(i,o,l,f){i=null;for(var y=o,E=!1;y!==null;){if(!E){if((y.flags&524288)!==0)E=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var I=y.alternate;if(I===null)throw Error(s(387));if(I=I.memoizedProps,I!==null){var P=y.type;An(y.pendingProps.value,I.value)||(i!==null?i.push(P):i=[P])}}else if(y===Vt.current){if(I=y.alternate,I===null)throw Error(s(387));I.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(_u):i=[_u])}y=y.return}i!==null&&ud(o,i,l,f),o.flags|=262144}function rc(i){for(i=i.firstContext;i!==null;){if(!An(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function _a(i){fs=i,Lo=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function kn(i){return wm(fs,i)}function ac(i,o){return fs===null&&_a(i),wm(i,o)}function wm(i,o){var l=o._currentValue;if(o={context:o,memoizedValue:l,next:null},Lo===null){if(i===null)throw Error(s(308));Lo=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else Lo=Lo.next=o;return l}var ZS=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(l,f){i.push(f)}};this.abort=function(){o.aborted=!0,i.forEach(function(l){return l()})}},JS=e.unstable_scheduleCallback,YS=e.unstable_NormalPriority,un={$$typeof:lt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cd(){return{controller:new ZS,data:new Map,refCount:0}}function Zl(i){i.refCount--,i.refCount===0&&JS(YS,function(){i.controller.abort()})}var Jl=null,fd=0,nl=0,il=null;function KS(i,o){if(Jl===null){var l=Jl=[];fd=0,nl=ph(),il={status:"pending",value:void 0,then:function(f){l.push(f)}}}return fd++,o.then(Cm,Cm),o}function Cm(){if(--fd===0&&Jl!==null){il!==null&&(il.status="fulfilled");var i=Jl;Jl=null,nl=0,il=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function WS(i,o){var l=[],f={status:"pending",value:null,reason:null,then:function(y){l.push(y)}};return i.then(function(){f.status="fulfilled",f.value=o;for(var y=0;y<l.length;y++)(0,l[y])(o)},function(y){for(f.status="rejected",f.reason=y,y=0;y<l.length;y++)(0,l[y])(void 0)}),f}var Am=rt.S;rt.S=function(i,o){l_=en(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&KS(i,o),Am!==null&&Am(i,o)};var ya=q(null);function dd(){var i=ya.current;return i!==null?i:Ue.pooledCache}function lc(i,o){o===null?vt(ya,ya.current):vt(ya,o.pool)}function xm(){var i=dd();return i===null?null:{parent:un._currentValue,pool:i}}var ol=Error(s(460)),hd=Error(s(474)),uc=Error(s(542)),cc={then:function(){}};function bm(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Im(i,o,l){switch(l=i[l],l===void 0?i.push(o):l!==o&&(o.then(vn,vn),o=l),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,Nm(i),i;default:if(typeof o.status=="string")o.then(vn,vn);else{if(i=Ue,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=o,i.status="pending",i.then(function(f){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=f}},function(f){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,Nm(i),i}throw Ta=o,ol}}function va(i){try{var o=i._init;return o(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Ta=l,ol):l}}var Ta=null;function Rm(){if(Ta===null)throw Error(s(459));var i=Ta;return Ta=null,i}function Nm(i){if(i===ol||i===uc)throw Error(s(483))}var sl=null,Yl=0;function fc(i){var o=Yl;return Yl+=1,sl===null&&(sl=[]),Im(sl,i,o)}function Kl(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function dc(i,o){throw o.$$typeof===b?Error(s(525)):(i=Object.prototype.toString.call(o),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function Mm(i){function o(W,Z){if(i){var tt=W.deletions;tt===null?(W.deletions=[Z],W.flags|=16):tt.push(Z)}}function l(W,Z){if(!i)return null;for(;Z!==null;)o(W,Z),Z=Z.sibling;return null}function f(W){for(var Z=new Map;W!==null;)W.key!==null?Z.set(W.key,W):Z.set(W.index,W),W=W.sibling;return Z}function y(W,Z){return W=fo(W,Z),W.index=0,W.sibling=null,W}function E(W,Z,tt){return W.index=tt,i?(tt=W.alternate,tt!==null?(tt=tt.index,tt<Z?(W.flags|=67108866,Z):tt):(W.flags|=67108866,Z)):(W.flags|=1048576,Z)}function I(W){return i&&W.alternate===null&&(W.flags|=67108866),W}function P(W,Z,tt,pt){return Z===null||Z.tag!==6?(Z=ja(tt,W.mode,pt),Z.return=W,Z):(Z=y(Z,tt),Z.return=W,Z)}function G(W,Z,tt,pt){var zt=tt.type;return zt===K?ht(W,Z,tt.props.children,pt,tt.key):Z!==null&&(Z.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===O&&va(zt)===Z.type)?(Z=y(Z,tt.props),Kl(Z,tt),Z.return=W,Z):(Z=pa(tt.type,tt.key,tt.props,null,W.mode,pt),Kl(Z,tt),Z.return=W,Z)}function et(W,Z,tt,pt){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==tt.containerInfo||Z.stateNode.implementation!==tt.implementation?(Z=Gl(tt,W.mode,pt),Z.return=W,Z):(Z=y(Z,tt.children||[]),Z.return=W,Z)}function ht(W,Z,tt,pt,zt){return Z===null||Z.tag!==7?(Z=Ns(tt,W.mode,pt,zt),Z.return=W,Z):(Z=y(Z,tt),Z.return=W,Z)}function gt(W,Z,tt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=ja(""+Z,W.mode,tt),Z.return=W,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case U:return tt=pa(Z.type,Z.key,Z.props,null,W.mode,tt),Kl(tt,Z),tt.return=W,tt;case Y:return Z=Gl(Z,W.mode,tt),Z.return=W,Z;case O:return Z=va(Z),gt(W,Z,tt)}if(Ee(Z)||J(Z))return Z=Ns(Z,W.mode,tt,null),Z.return=W,Z;if(typeof Z.then=="function")return gt(W,fc(Z),tt);if(Z.$$typeof===lt)return gt(W,ac(W,Z),tt);dc(W,Z)}return null}function it(W,Z,tt,pt){var zt=Z!==null?Z.key:null;if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return zt!==null?null:P(W,Z,""+tt,pt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case U:return tt.key===zt?G(W,Z,tt,pt):null;case Y:return tt.key===zt?et(W,Z,tt,pt):null;case O:return tt=va(tt),it(W,Z,tt,pt)}if(Ee(tt)||J(tt))return zt!==null?null:ht(W,Z,tt,pt,null);if(typeof tt.then=="function")return it(W,Z,fc(tt),pt);if(tt.$$typeof===lt)return it(W,Z,ac(W,tt),pt);dc(W,tt)}return null}function at(W,Z,tt,pt,zt){if(typeof pt=="string"&&pt!==""||typeof pt=="number"||typeof pt=="bigint")return W=W.get(tt)||null,P(Z,W,""+pt,zt);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case U:return W=W.get(pt.key===null?tt:pt.key)||null,G(Z,W,pt,zt);case Y:return W=W.get(pt.key===null?tt:pt.key)||null,et(Z,W,pt,zt);case O:return pt=va(pt),at(W,Z,tt,pt,zt)}if(Ee(pt)||J(pt))return W=W.get(tt)||null,ht(Z,W,pt,zt,null);if(typeof pt.then=="function")return at(W,Z,tt,fc(pt),zt);if(pt.$$typeof===lt)return at(W,Z,tt,ac(Z,pt),zt);dc(Z,pt)}return null}function Dt(W,Z,tt,pt){for(var zt=null,pe=null,Lt=Z,jt=Z=0,re=null;Lt!==null&&jt<tt.length;jt++){Lt.index>jt?(re=Lt,Lt=null):re=Lt.sibling;var me=it(W,Lt,tt[jt],pt);if(me===null){Lt===null&&(Lt=re);break}i&&Lt&&me.alternate===null&&o(W,Lt),Z=E(me,Z,jt),pe===null?zt=me:pe.sibling=me,pe=me,Lt=re}if(jt===tt.length)return l(W,Lt),ee&&kt(W,jt),zt;if(Lt===null){for(;jt<tt.length;jt++)Lt=gt(W,tt[jt],pt),Lt!==null&&(Z=E(Lt,Z,jt),pe===null?zt=Lt:pe.sibling=Lt,pe=Lt);return ee&&kt(W,jt),zt}for(Lt=f(Lt);jt<tt.length;jt++)re=at(Lt,W,jt,tt[jt],pt),re!==null&&(i&&re.alternate!==null&&Lt.delete(re.key===null?jt:re.key),Z=E(re,Z,jt),pe===null?zt=re:pe.sibling=re,pe=re);return i&&Lt.forEach(function(Lr){return o(W,Lr)}),ee&&kt(W,jt),zt}function Bt(W,Z,tt,pt){if(tt==null)throw Error(s(151));for(var zt=null,pe=null,Lt=Z,jt=Z=0,re=null,me=tt.next();Lt!==null&&!me.done;jt++,me=tt.next()){Lt.index>jt?(re=Lt,Lt=null):re=Lt.sibling;var Lr=it(W,Lt,me.value,pt);if(Lr===null){Lt===null&&(Lt=re);break}i&&Lt&&Lr.alternate===null&&o(W,Lt),Z=E(Lr,Z,jt),pe===null?zt=Lr:pe.sibling=Lr,pe=Lr,Lt=re}if(me.done)return l(W,Lt),ee&&kt(W,jt),zt;if(Lt===null){for(;!me.done;jt++,me=tt.next())me=gt(W,me.value,pt),me!==null&&(Z=E(me,Z,jt),pe===null?zt=me:pe.sibling=me,pe=me);return ee&&kt(W,jt),zt}for(Lt=f(Lt);!me.done;jt++,me=tt.next())me=at(Lt,W,jt,me.value,pt),me!==null&&(i&&me.alternate!==null&&Lt.delete(me.key===null?jt:me.key),Z=E(me,Z,jt),pe===null?zt=me:pe.sibling=me,pe=me);return i&&Lt.forEach(function(rC){return o(W,rC)}),ee&&kt(W,jt),zt}function Pe(W,Z,tt,pt){if(typeof tt=="object"&&tt!==null&&tt.type===K&&tt.key===null&&(tt=tt.props.children),typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case U:t:{for(var zt=tt.key;Z!==null;){if(Z.key===zt){if(zt=tt.type,zt===K){if(Z.tag===7){l(W,Z.sibling),pt=y(Z,tt.props.children),pt.return=W,W=pt;break t}}else if(Z.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===O&&va(zt)===Z.type){l(W,Z.sibling),pt=y(Z,tt.props),Kl(pt,tt),pt.return=W,W=pt;break t}l(W,Z);break}else o(W,Z);Z=Z.sibling}tt.type===K?(pt=Ns(tt.props.children,W.mode,pt,tt.key),pt.return=W,W=pt):(pt=pa(tt.type,tt.key,tt.props,null,W.mode,pt),Kl(pt,tt),pt.return=W,W=pt)}return I(W);case Y:t:{for(zt=tt.key;Z!==null;){if(Z.key===zt)if(Z.tag===4&&Z.stateNode.containerInfo===tt.containerInfo&&Z.stateNode.implementation===tt.implementation){l(W,Z.sibling),pt=y(Z,tt.children||[]),pt.return=W,W=pt;break t}else{l(W,Z);break}else o(W,Z);Z=Z.sibling}pt=Gl(tt,W.mode,pt),pt.return=W,W=pt}return I(W);case O:return tt=va(tt),Pe(W,Z,tt,pt)}if(Ee(tt))return Dt(W,Z,tt,pt);if(J(tt)){if(zt=J(tt),typeof zt!="function")throw Error(s(150));return tt=zt.call(tt),Bt(W,Z,tt,pt)}if(typeof tt.then=="function")return Pe(W,Z,fc(tt),pt);if(tt.$$typeof===lt)return Pe(W,Z,ac(W,tt),pt);dc(W,tt)}return typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint"?(tt=""+tt,Z!==null&&Z.tag===6?(l(W,Z.sibling),pt=y(Z,tt),pt.return=W,W=pt):(l(W,Z),pt=ja(tt,W.mode,pt),pt.return=W,W=pt),I(W)):l(W,Z)}return function(W,Z,tt,pt){try{Yl=0;var zt=Pe(W,Z,tt,pt);return sl=null,zt}catch(Lt){if(Lt===ol||Lt===uc)throw Lt;var pe=$n(29,Lt,null,W.mode);return pe.lanes=pt,pe.return=W,pe}finally{}}}var Ea=Mm(!0),Pm=Mm(!1),_r=!1;function pd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function md(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function yr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function vr(i,o,l){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(Te&2)!==0){var y=f.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),f.pending=o,o=ha(i),mr(i,null,l),o}return ls(i,f,o,l),ha(i)}function Wl(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194048)!==0)){var f=o.lanes;f&=i.pendingLanes,l|=f,o.lanes=l,So(i,l)}}function gd(i,o){var l=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var y=null,E=null;if(l=l.firstBaseUpdate,l!==null){do{var I={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};E===null?y=E=I:E=E.next=I,l=l.next}while(l!==null);E===null?y=E=o:E=E.next=o}else y=E=o;l={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:E,shared:f.shared,callbacks:f.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}var _d=!1;function Xl(){if(_d){var i=il;if(i!==null)throw i}}function $l(i,o,l,f){_d=!1;var y=i.updateQueue;_r=!1;var E=y.firstBaseUpdate,I=y.lastBaseUpdate,P=y.shared.pending;if(P!==null){y.shared.pending=null;var G=P,et=G.next;G.next=null,I===null?E=et:I.next=et,I=G;var ht=i.alternate;ht!==null&&(ht=ht.updateQueue,P=ht.lastBaseUpdate,P!==I&&(P===null?ht.firstBaseUpdate=et:P.next=et,ht.lastBaseUpdate=G))}if(E!==null){var gt=y.baseState;I=0,ht=et=G=null,P=E;do{var it=P.lane&-536870913,at=it!==P.lane;if(at?(se&it)===it:(f&it)===it){it!==0&&it===nl&&(_d=!0),ht!==null&&(ht=ht.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});t:{var Dt=i,Bt=P;it=o;var Pe=l;switch(Bt.tag){case 1:if(Dt=Bt.payload,typeof Dt=="function"){gt=Dt.call(Pe,gt,it);break t}gt=Dt;break t;case 3:Dt.flags=Dt.flags&-65537|128;case 0:if(Dt=Bt.payload,it=typeof Dt=="function"?Dt.call(Pe,gt,it):Dt,it==null)break t;gt=x({},gt,it);break t;case 2:_r=!0}}it=P.callback,it!==null&&(i.flags|=64,at&&(i.flags|=8192),at=y.callbacks,at===null?y.callbacks=[it]:at.push(it))}else at={lane:it,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ht===null?(et=ht=at,G=gt):ht=ht.next=at,I|=it;if(P=P.next,P===null){if(P=y.shared.pending,P===null)break;at=P,P=at.next,at.next=null,y.lastBaseUpdate=at,y.shared.pending=null}}while(!0);ht===null&&(G=gt),y.baseState=G,y.firstBaseUpdate=et,y.lastBaseUpdate=ht,E===null&&(y.shared.lanes=0),Cr|=I,i.lanes=I,i.memoizedState=gt}}function Dm(i,o){if(typeof i!="function")throw Error(s(191,i));i.call(o)}function Lm(i,o){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)Dm(l[i],o)}var rl=q(null),hc=q(0);function km(i,o){i=Vs,vt(hc,i),vt(rl,o),Vs=i|o.baseLanes}function yd(){vt(hc,Vs),vt(rl,rl.current)}function vd(){Vs=hc.current,ct(rl),ct(hc)}var Ji=q(null),ho=null;function Tr(i){var o=i.alternate;vt(nn,nn.current&1),vt(Ji,i),ho===null&&(o===null||rl.current!==null||o.memoizedState!==null)&&(ho=i)}function Td(i){vt(nn,nn.current),vt(Ji,i),ho===null&&(ho=i)}function Um(i){i.tag===22?(vt(nn,nn.current),vt(Ji,i),ho===null&&(ho=i)):Er()}function Er(){vt(nn,nn.current),vt(Ji,Ji.current)}function Yi(i){ct(Ji),ho===i&&(ho=null),ct(nn)}var nn=q(0);function pc(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||xh(l)||bh(l)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ds=0,Xt=null,Ne=null,cn=null,mc=!1,al=!1,Sa=!1,gc=0,Ql=0,ll=null,XS=0;function je(){throw Error(s(321))}function Ed(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!An(i[l],o[l]))return!1;return!0}function Sd(i,o,l,f,y,E){return Ds=E,Xt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,rt.H=i===null||i.memoizedState===null?vg:Od,Sa=!1,E=l(f,y),Sa=!1,al&&(E=zm(o,l,f,y)),Om(i),E}function Om(i){rt.H=eu;var o=Ne!==null&&Ne.next!==null;if(Ds=0,cn=Ne=Xt=null,mc=!1,Ql=0,ll=null,o)throw Error(s(300));i===null||fn||(i=i.dependencies,i!==null&&rc(i)&&(fn=!0))}function zm(i,o,l,f){Xt=i;var y=0;do{if(al&&(ll=null),Ql=0,al=!1,25<=y)throw Error(s(301));if(y+=1,cn=Ne=null,i.updateQueue!=null){var E=i.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}rt.H=Tg,E=o(l,f)}while(al);return E}function $S(){var i=rt.H,o=i.useState()[0];return o=typeof o.then=="function"?jl(o):o,i=i.useState()[0],(Ne!==null?Ne.memoizedState:null)!==i&&(Xt.flags|=1024),o}function wd(){var i=gc!==0;return gc=0,i}function Cd(i,o,l){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~l}function Ad(i){if(mc){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}mc=!1}Ds=0,cn=Ne=Xt=null,al=!1,Ql=gc=0,ll=null}function fi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cn===null?Xt.memoizedState=cn=i:cn=cn.next=i,cn}function on(){if(Ne===null){var i=Xt.alternate;i=i!==null?i.memoizedState:null}else i=Ne.next;var o=cn===null?Xt.memoizedState:cn.next;if(o!==null)cn=o,Ne=i;else{if(i===null)throw Xt.alternate===null?Error(s(467)):Error(s(310));Ne=i,i={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},cn===null?Xt.memoizedState=cn=i:cn=cn.next=i}return cn}function _c(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jl(i){var o=Ql;return Ql+=1,ll===null&&(ll=[]),i=Im(ll,i,o),o=Xt,(cn===null?o.memoizedState:cn.next)===null&&(o=o.alternate,rt.H=o===null||o.memoizedState===null?vg:Od),i}function yc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return jl(i);if(i.$$typeof===lt)return kn(i)}throw Error(s(438,String(i)))}function xd(i){var o=null,l=Xt.updateQueue;if(l!==null&&(o=l.memoCache),o==null){var f=Xt.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),l===null&&(l=_c(),Xt.updateQueue=l),l.memoCache=o,l=o.data[o.index],l===void 0)for(l=o.data[o.index]=Array(i),f=0;f<i;f++)l[f]=F;return o.index++,l}function Ls(i,o){return typeof o=="function"?o(i):o}function vc(i){var o=on();return bd(o,Ne,i)}function bd(i,o,l){var f=i.queue;if(f===null)throw Error(s(311));f.lastRenderedReducer=l;var y=i.baseQueue,E=f.pending;if(E!==null){if(y!==null){var I=y.next;y.next=E.next,E.next=I}o.baseQueue=y=E,f.pending=null}if(E=i.baseState,y===null)i.memoizedState=E;else{o=y.next;var P=I=null,G=null,et=o,ht=!1;do{var gt=et.lane&-536870913;if(gt!==et.lane?(se&gt)===gt:(Ds&gt)===gt){var it=et.revertLane;if(it===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null}),gt===nl&&(ht=!0);else if((Ds&it)===it){et=et.next,it===nl&&(ht=!0);continue}else gt={lane:0,revertLane:et.revertLane,gesture:null,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},G===null?(P=G=gt,I=E):G=G.next=gt,Xt.lanes|=it,Cr|=it;gt=et.action,Sa&&l(E,gt),E=et.hasEagerState?et.eagerState:l(E,gt)}else it={lane:gt,revertLane:et.revertLane,gesture:et.gesture,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},G===null?(P=G=it,I=E):G=G.next=it,Xt.lanes|=gt,Cr|=gt;et=et.next}while(et!==null&&et!==o);if(G===null?I=E:G.next=P,!An(E,i.memoizedState)&&(fn=!0,ht&&(l=il,l!==null)))throw l;i.memoizedState=E,i.baseState=I,i.baseQueue=G,f.lastRenderedState=E}return y===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function Id(i){var o=on(),l=o.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=i;var f=l.dispatch,y=l.pending,E=o.memoizedState;if(y!==null){l.pending=null;var I=y=y.next;do E=i(E,I.action),I=I.next;while(I!==y);An(E,o.memoizedState)||(fn=!0),o.memoizedState=E,o.baseQueue===null&&(o.baseState=E),l.lastRenderedState=E}return[E,f]}function Bm(i,o,l){var f=Xt,y=on(),E=ee;if(E){if(l===void 0)throw Error(s(407));l=l()}else l=o();var I=!An((Ne||y).memoizedState,l);if(I&&(y.memoizedState=l,fn=!0),y=y.queue,Md(Gm.bind(null,f,y,i),[i]),y.getSnapshot!==o||I||cn!==null&&cn.memoizedState.tag&1){if(f.flags|=2048,ul(9,{destroy:void 0},Vm.bind(null,f,y,l,o),null),Ue===null)throw Error(s(349));E||(Ds&127)!==0||Hm(f,o,l)}return l}function Hm(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=Xt.updateQueue,o===null?(o=_c(),Xt.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function Vm(i,o,l,f){o.value=l,o.getSnapshot=f,Fm(o)&&qm(i)}function Gm(i,o,l){return l(function(){Fm(o)&&qm(i)})}function Fm(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!An(i,l)}catch{return!0}}function qm(i){var o=co(i,2);o!==null&&ki(o,i,2)}function Rd(i){var o=fi();if(typeof i=="function"){var l=i;if(i=l(),Sa){Nn(!0);try{l()}finally{Nn(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:i},o}function Zm(i,o,l,f){return i.baseState=l,bd(i,Ne,typeof f=="function"?f:Ls)}function QS(i,o,l,f,y){if(Sc(i))throw Error(s(485));if(i=o.action,i!==null){var E={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){E.listeners.push(I)}};rt.T!==null?l(!0):E.isTransition=!1,f(E),l=o.pending,l===null?(E.next=o.pending=E,Jm(o,E)):(E.next=l.next,o.pending=l.next=E)}}function Jm(i,o){var l=o.action,f=o.payload,y=i.state;if(o.isTransition){var E=rt.T,I={};rt.T=I;try{var P=l(y,f),G=rt.S;G!==null&&G(I,P),Ym(i,o,P)}catch(et){Nd(i,o,et)}finally{E!==null&&I.types!==null&&(E.types=I.types),rt.T=E}}else try{E=l(y,f),Ym(i,o,E)}catch(et){Nd(i,o,et)}}function Ym(i,o,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(f){Km(i,o,f)},function(f){return Nd(i,o,f)}):Km(i,o,l)}function Km(i,o,l){o.status="fulfilled",o.value=l,Wm(o),i.state=l,o=i.pending,o!==null&&(l=o.next,l===o?i.pending=null:(l=l.next,o.next=l,Jm(i,l)))}function Nd(i,o,l){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=l,Wm(o),o=o.next;while(o!==f)}i.action=null}function Wm(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function Xm(i,o){return o}function $m(i,o){if(ee){var l=Ue.formState;if(l!==null){t:{var f=Xt;if(ee){if(he){e:{for(var y=he,E=Ni;y.nodeType!==8;){if(!E){y=null;break e}if(y=po(y.nextSibling),y===null){y=null;break e}}E=y.data,y=E==="F!"||E==="F"?y:null}if(y){he=po(y.nextSibling),f=y.data==="F!";break t}}cs(f)}f=!1}f&&(o=l[0])}}return l=fi(),l.memoizedState=l.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xm,lastRenderedState:o},l.queue=f,l=gg.bind(null,Xt,f),f.dispatch=l,f=Rd(!1),E=Ud.bind(null,Xt,!1,f.queue),f=fi(),y={state:o,dispatch:null,action:i,pending:null},f.queue=y,l=QS.bind(null,Xt,y,E,l),y.dispatch=l,f.memoizedState=i,[o,l,!1]}function Qm(i){var o=on();return jm(o,Ne,i)}function jm(i,o,l){if(o=bd(i,o,Xm)[0],i=vc(Ls)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var f=jl(o)}catch(I){throw I===ol?uc:I}else f=o;o=on();var y=o.queue,E=y.dispatch;return l!==o.memoizedState&&(Xt.flags|=2048,ul(9,{destroy:void 0},jS.bind(null,y,l),null)),[f,E,i]}function jS(i,o){i.action=o}function tg(i){var o=on(),l=Ne;if(l!==null)return jm(o,l,i);on(),o=o.memoizedState,l=on();var f=l.queue.dispatch;return l.memoizedState=i,[o,f,!1]}function ul(i,o,l,f){return i={tag:i,create:l,deps:f,inst:o,next:null},o=Xt.updateQueue,o===null&&(o=_c(),Xt.updateQueue=o),l=o.lastEffect,l===null?o.lastEffect=i.next=i:(f=l.next,l.next=i,i.next=f,o.lastEffect=i),i}function eg(){return on().memoizedState}function Tc(i,o,l,f){var y=fi();Xt.flags|=i,y.memoizedState=ul(1|o,{destroy:void 0},l,f===void 0?null:f)}function Ec(i,o,l,f){var y=on();f=f===void 0?null:f;var E=y.memoizedState.inst;Ne!==null&&f!==null&&Ed(f,Ne.memoizedState.deps)?y.memoizedState=ul(o,E,l,f):(Xt.flags|=i,y.memoizedState=ul(1|o,E,l,f))}function ng(i,o){Tc(8390656,8,i,o)}function Md(i,o){Ec(2048,8,i,o)}function tw(i){Xt.flags|=4;var o=Xt.updateQueue;if(o===null)o=_c(),Xt.updateQueue=o,o.events=[i];else{var l=o.events;l===null?o.events=[i]:l.push(i)}}function ig(i){var o=on().memoizedState;return tw({ref:o,nextImpl:i}),function(){if((Te&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}function og(i,o){return Ec(4,2,i,o)}function sg(i,o){return Ec(4,4,i,o)}function rg(i,o){if(typeof o=="function"){i=i();var l=o(i);return function(){typeof l=="function"?l():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function ag(i,o,l){l=l!=null?l.concat([i]):null,Ec(4,4,rg.bind(null,o,i),l)}function Pd(){}function lg(i,o){var l=on();o=o===void 0?null:o;var f=l.memoizedState;return o!==null&&Ed(o,f[1])?f[0]:(l.memoizedState=[i,o],i)}function ug(i,o){var l=on();o=o===void 0?null:o;var f=l.memoizedState;if(o!==null&&Ed(o,f[1]))return f[0];if(f=i(),Sa){Nn(!0);try{i()}finally{Nn(!1)}}return l.memoizedState=[f,o],f}function Dd(i,o,l){return l===void 0||(Ds&1073741824)!==0&&(se&261930)===0?i.memoizedState=o:(i.memoizedState=l,i=c_(),Xt.lanes|=i,Cr|=i,l)}function cg(i,o,l,f){return An(l,o)?l:rl.current!==null?(i=Dd(i,l,f),An(i,o)||(fn=!0),i):(Ds&42)===0||(Ds&1073741824)!==0&&(se&261930)===0?(fn=!0,i.memoizedState=l):(i=c_(),Xt.lanes|=i,Cr|=i,o)}function fg(i,o,l,f,y){var E=At.p;At.p=E!==0&&8>E?E:8;var I=rt.T,P={};rt.T=P,Ud(i,!1,o,l);try{var G=y(),et=rt.S;if(et!==null&&et(P,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var ht=WS(G,f);tu(i,o,ht,Xi(i))}else tu(i,o,f,Xi(i))}catch(gt){tu(i,o,{then:function(){},status:"rejected",reason:gt},Xi())}finally{At.p=E,I!==null&&P.types!==null&&(I.types=P.types),rt.T=I}}function ew(){}function Ld(i,o,l,f){if(i.tag!==5)throw Error(s(476));var y=dg(i).queue;fg(i,y,o,ut,l===null?ew:function(){return hg(i),l(f)})}function dg(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:ut},next:null};var l={};return o.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:l},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function hg(i){var o=dg(i);o.next===null&&(o=i.alternate.memoizedState),tu(i,o.next.queue,{},Xi())}function kd(){return kn(_u)}function pg(){return on().memoizedState}function mg(){return on().memoizedState}function nw(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var l=Xi();i=yr(l);var f=vr(o,i,l);f!==null&&(ki(f,o,l),Wl(f,o,l)),o={cache:cd()},i.payload=o;return}o=o.return}}function iw(i,o,l){var f=Xi();l={lane:f,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Sc(i)?_g(o,l):(l=Bl(i,o,l,f),l!==null&&(ki(l,i,f),yg(l,o,f)))}function gg(i,o,l){var f=Xi();tu(i,o,l,f)}function tu(i,o,l,f){var y={lane:f,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Sc(i))_g(o,y);else{var E=i.alternate;if(i.lanes===0&&(E===null||E.lanes===0)&&(E=o.lastRenderedReducer,E!==null))try{var I=o.lastRenderedState,P=E(I,l);if(y.hasEagerState=!0,y.eagerState=P,An(P,I))return ls(i,o,y,0),Ue===null&&da(),!1}catch{}finally{}if(l=Bl(i,o,y,f),l!==null)return ki(l,i,f),yg(l,o,f),!0}return!1}function Ud(i,o,l,f){if(f={lane:2,revertLane:ph(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Sc(i)){if(o)throw Error(s(479))}else o=Bl(i,l,f,2),o!==null&&ki(o,i,2)}function Sc(i){var o=i.alternate;return i===Xt||o!==null&&o===Xt}function _g(i,o){al=mc=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function yg(i,o,l){if((l&4194048)!==0){var f=o.lanes;f&=i.pendingLanes,l|=f,o.lanes=l,So(i,l)}}var eu={readContext:kn,use:yc,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useLayoutEffect:je,useInsertionEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useSyncExternalStore:je,useId:je,useHostTransitionStatus:je,useFormState:je,useActionState:je,useOptimistic:je,useMemoCache:je,useCacheRefresh:je};eu.useEffectEvent=je;var vg={readContext:kn,use:yc,useCallback:function(i,o){return fi().memoizedState=[i,o===void 0?null:o],i},useContext:kn,useEffect:ng,useImperativeHandle:function(i,o,l){l=l!=null?l.concat([i]):null,Tc(4194308,4,rg.bind(null,o,i),l)},useLayoutEffect:function(i,o){return Tc(4194308,4,i,o)},useInsertionEffect:function(i,o){Tc(4,2,i,o)},useMemo:function(i,o){var l=fi();o=o===void 0?null:o;var f=i();if(Sa){Nn(!0);try{i()}finally{Nn(!1)}}return l.memoizedState=[f,o],f},useReducer:function(i,o,l){var f=fi();if(l!==void 0){var y=l(o);if(Sa){Nn(!0);try{l(o)}finally{Nn(!1)}}}else y=o;return f.memoizedState=f.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},f.queue=i,i=i.dispatch=iw.bind(null,Xt,i),[f.memoizedState,i]},useRef:function(i){var o=fi();return i={current:i},o.memoizedState=i},useState:function(i){i=Rd(i);var o=i.queue,l=gg.bind(null,Xt,o);return o.dispatch=l,[i.memoizedState,l]},useDebugValue:Pd,useDeferredValue:function(i,o){var l=fi();return Dd(l,i,o)},useTransition:function(){var i=Rd(!1);return i=fg.bind(null,Xt,i.queue,!0,!1),fi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,l){var f=Xt,y=fi();if(ee){if(l===void 0)throw Error(s(407));l=l()}else{if(l=o(),Ue===null)throw Error(s(349));(se&127)!==0||Hm(f,o,l)}y.memoizedState=l;var E={value:l,getSnapshot:o};return y.queue=E,ng(Gm.bind(null,f,E,i),[i]),f.flags|=2048,ul(9,{destroy:void 0},Vm.bind(null,f,E,l,o),null),l},useId:function(){var i=fi(),o=Ue.identifierPrefix;if(ee){var l=bt,f=mt;l=(f&~(1<<32-Oe(f)-1)).toString(32)+l,o="_"+o+"R_"+l,l=gc++,0<l&&(o+="H"+l.toString(32)),o+="_"}else l=XS++,o="_"+o+"r_"+l.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:kd,useFormState:$m,useActionState:$m,useOptimistic:function(i){var o=fi();o.memoizedState=o.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=l,o=Ud.bind(null,Xt,!0,l),l.dispatch=o,[i,o]},useMemoCache:xd,useCacheRefresh:function(){return fi().memoizedState=nw.bind(null,Xt)},useEffectEvent:function(i){var o=fi(),l={impl:i};return o.memoizedState=l,function(){if((Te&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},Od={readContext:kn,use:yc,useCallback:lg,useContext:kn,useEffect:Md,useImperativeHandle:ag,useInsertionEffect:og,useLayoutEffect:sg,useMemo:ug,useReducer:vc,useRef:eg,useState:function(){return vc(Ls)},useDebugValue:Pd,useDeferredValue:function(i,o){var l=on();return cg(l,Ne.memoizedState,i,o)},useTransition:function(){var i=vc(Ls)[0],o=on().memoizedState;return[typeof i=="boolean"?i:jl(i),o]},useSyncExternalStore:Bm,useId:pg,useHostTransitionStatus:kd,useFormState:Qm,useActionState:Qm,useOptimistic:function(i,o){var l=on();return Zm(l,Ne,i,o)},useMemoCache:xd,useCacheRefresh:mg};Od.useEffectEvent=ig;var Tg={readContext:kn,use:yc,useCallback:lg,useContext:kn,useEffect:Md,useImperativeHandle:ag,useInsertionEffect:og,useLayoutEffect:sg,useMemo:ug,useReducer:Id,useRef:eg,useState:function(){return Id(Ls)},useDebugValue:Pd,useDeferredValue:function(i,o){var l=on();return Ne===null?Dd(l,i,o):cg(l,Ne.memoizedState,i,o)},useTransition:function(){var i=Id(Ls)[0],o=on().memoizedState;return[typeof i=="boolean"?i:jl(i),o]},useSyncExternalStore:Bm,useId:pg,useHostTransitionStatus:kd,useFormState:tg,useActionState:tg,useOptimistic:function(i,o){var l=on();return Ne!==null?Zm(l,Ne,i,o):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:xd,useCacheRefresh:mg};Tg.useEffectEvent=ig;function zd(i,o,l,f){o=i.memoizedState,l=l(f,o),l=l==null?o:x({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Bd={enqueueSetState:function(i,o,l){i=i._reactInternals;var f=Xi(),y=yr(f);y.payload=o,l!=null&&(y.callback=l),o=vr(i,y,f),o!==null&&(ki(o,i,f),Wl(o,i,f))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var f=Xi(),y=yr(f);y.tag=1,y.payload=o,l!=null&&(y.callback=l),o=vr(i,y,f),o!==null&&(ki(o,i,f),Wl(o,i,f))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=Xi(),f=yr(l);f.tag=2,o!=null&&(f.callback=o),o=vr(i,f,l),o!==null&&(ki(o,i,l),Wl(o,i,l))}};function Eg(i,o,l,f,y,E,I){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,E,I):o.prototype&&o.prototype.isPureReactComponent?!fr(l,f)||!fr(y,E):!0}function Sg(i,o,l,f){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,f),o.state!==i&&Bd.enqueueReplaceState(o,o.state,null)}function wa(i,o){var l=o;if("ref"in o){l={};for(var f in o)f!=="ref"&&(l[f]=o[f])}if(i=i.defaultProps){l===o&&(l=x({},l));for(var y in i)l[y]===void 0&&(l[y]=i[y])}return l}function wg(i){fa(i)}function Cg(i){console.error(i)}function Ag(i){fa(i)}function wc(i,o){try{var l=i.onUncaughtError;l(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function xg(i,o,l){try{var f=i.onCaughtError;f(l.value,{componentStack:l.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Hd(i,o,l){return l=yr(l),l.tag=3,l.payload={element:null},l.callback=function(){wc(i,o)},l}function bg(i){return i=yr(i),i.tag=3,i}function Ig(i,o,l,f){var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var E=f.value;i.payload=function(){return y(E)},i.callback=function(){xg(o,l,f)}}var I=l.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(i.callback=function(){xg(o,l,f),typeof y!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this));var P=f.stack;this.componentDidCatch(f.value,{componentStack:P!==null?P:""})})}function ow(i,o,l,f,y){if(l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=l.alternate,o!==null&&el(o,l,y,!0),l=Ji.current,l!==null){switch(l.tag){case 31:case 13:return ho===null?kc():l.alternate===null&&tn===0&&(tn=3),l.flags&=-257,l.flags|=65536,l.lanes=y,f===cc?l.flags|=16384:(o=l.updateQueue,o===null?l.updateQueue=new Set([f]):o.add(f),fh(i,f,y)),!1;case 22:return l.flags|=65536,f===cc?l.flags|=16384:(o=l.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},l.updateQueue=o):(l=o.retryQueue,l===null?o.retryQueue=new Set([f]):l.add(f)),fh(i,f,y)),!1}throw Error(s(435,l.tag))}return fh(i,f,y),kc(),!1}if(ee)return o=Ji.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,f!==tl&&(i=Error(s(422),{cause:f}),ma(u(i,l)))):(f!==tl&&(o=Error(s(423),{cause:f}),ma(u(o,l))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,f=u(f,l),y=Hd(i.stateNode,f,y),gd(i,y),tn!==4&&(tn=2)),!1;var E=Error(s(520),{cause:f});if(E=u(E,l),uu===null?uu=[E]:uu.push(E),tn!==4&&(tn=2),o===null)return!0;f=u(f,l),l=o;do{switch(l.tag){case 3:return l.flags|=65536,i=y&-y,l.lanes|=i,i=Hd(l.stateNode,f,i),gd(l,i),!1;case 1:if(o=l.type,E=l.stateNode,(l.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Ar===null||!Ar.has(E))))return l.flags|=65536,y&=-y,l.lanes|=y,y=bg(y),Ig(y,i,l,f),gd(l,y),!1}l=l.return}while(l!==null);return!1}var Vd=Error(s(461)),fn=!1;function Un(i,o,l,f){o.child=i===null?Pm(o,null,l,f):Ea(o,i.child,l,f)}function Rg(i,o,l,f,y){l=l.render;var E=o.ref;if("ref"in f){var I={};for(var P in f)P!=="ref"&&(I[P]=f[P])}else I=f;return _a(o),f=Sd(i,o,l,I,E,y),P=wd(),i!==null&&!fn?(Cd(i,o,y),ks(i,o,y)):(ee&&P&&gn(o),o.flags|=1,Un(i,o,f,y),o.child)}function Ng(i,o,l,f,y){if(i===null){var E=l.type;return typeof E=="function"&&!Qa(E)&&E.defaultProps===void 0&&l.compare===null?(o.tag=15,o.type=E,Mg(i,o,E,f,y)):(i=pa(l.type,null,f,o,o.mode,y),i.ref=o.ref,i.return=o,o.child=i)}if(E=i.child,!Wd(i,y)){var I=E.memoizedProps;if(l=l.compare,l=l!==null?l:fr,l(I,f)&&i.ref===o.ref)return ks(i,o,y)}return o.flags|=1,i=fo(E,f),i.ref=o.ref,i.return=o,o.child=i}function Mg(i,o,l,f,y){if(i!==null){var E=i.memoizedProps;if(fr(E,f)&&i.ref===o.ref)if(fn=!1,o.pendingProps=f=E,Wd(i,y))(i.flags&131072)!==0&&(fn=!0);else return o.lanes=i.lanes,ks(i,o,y)}return Gd(i,o,l,f,y)}function Pg(i,o,l,f){var y=f.children,E=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((o.flags&128)!==0){if(E=E!==null?E.baseLanes|l:l,i!==null){for(f=o.child=i.child,y=0;f!==null;)y=y|f.lanes|f.childLanes,f=f.sibling;f=y&~E}else f=0,o.child=null;return Dg(i,o,E,l,f)}if((l&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&lc(o,E!==null?E.cachePool:null),E!==null?km(o,E):yd(),Um(o);else return f=o.lanes=536870912,Dg(i,o,E!==null?E.baseLanes|l:l,l,f)}else E!==null?(lc(o,E.cachePool),km(o,E),Er(),o.memoizedState=null):(i!==null&&lc(o,null),yd(),Er());return Un(i,o,y,l),o.child}function nu(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Dg(i,o,l,f,y){var E=dd();return E=E===null?null:{parent:un._currentValue,pool:E},o.memoizedState={baseLanes:l,cachePool:E},i!==null&&lc(o,null),yd(),Um(o),i!==null&&el(i,o,f,!0),o.childLanes=y,null}function Cc(i,o){return o=xc({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function Lg(i,o,l){return Ea(o,i.child,null,l),i=Cc(o,o.pendingProps),i.flags|=2,Yi(o),o.memoizedState=null,i}function sw(i,o,l){var f=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(ee){if(f.mode==="hidden")return i=Cc(o,f),o.lanes=536870912,nu(null,i);if(Td(o),(i=he)?(i=J_(i,Ni),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:nt!==null?{id:mt,overflow:bt}:null,retryLane:536870912,hydrationErrors:null},l=Vl(i),l.return=o,o.child=l,de=o,he=null)):i=null,i===null)throw cs(o);return o.lanes=536870912,null}return Cc(o,f)}var E=i.memoizedState;if(E!==null){var I=E.dehydrated;if(Td(o),y)if(o.flags&256)o.flags&=-257,o=Lg(i,o,l);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(s(558));else if(fn||el(i,o,l,!1),y=(l&i.childLanes)!==0,fn||y){if(f=Ue,f!==null&&(I=wo(f,l),I!==0&&I!==E.retryLane))throw E.retryLane=I,co(i,I),ki(f,i,I),Vd;kc(),o=Lg(i,o,l)}else i=E.treeContext,he=po(I.nextSibling),de=o,ee=!0,us=null,Ni=!1,i!==null&&ci(o,i),o=Cc(o,f),o.flags|=4096;return o}return i=fo(i.child,{mode:f.mode,children:f.children}),i.ref=o.ref,o.child=i,i.return=o,i}function Ac(i,o){var l=o.ref;if(l===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(i===null||i.ref!==l)&&(o.flags|=4194816)}}function Gd(i,o,l,f,y){return _a(o),l=Sd(i,o,l,f,void 0,y),f=wd(),i!==null&&!fn?(Cd(i,o,y),ks(i,o,y)):(ee&&f&&gn(o),o.flags|=1,Un(i,o,l,y),o.child)}function kg(i,o,l,f,y,E){return _a(o),o.updateQueue=null,l=zm(o,f,l,y),Om(i),f=wd(),i!==null&&!fn?(Cd(i,o,E),ks(i,o,E)):(ee&&f&&gn(o),o.flags|=1,Un(i,o,l,E),o.child)}function Ug(i,o,l,f,y){if(_a(o),o.stateNode===null){var E=Rs,I=l.contextType;typeof I=="object"&&I!==null&&(E=kn(I)),E=new l(f,E),o.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=Bd,o.stateNode=E,E._reactInternals=o,E=o.stateNode,E.props=f,E.state=o.memoizedState,E.refs={},pd(o),I=l.contextType,E.context=typeof I=="object"&&I!==null?kn(I):Rs,E.state=o.memoizedState,I=l.getDerivedStateFromProps,typeof I=="function"&&(zd(o,l,I,f),E.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(I=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),I!==E.state&&Bd.enqueueReplaceState(E,E.state,null),$l(o,f,E,y),Xl(),E.state=o.memoizedState),typeof E.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(i===null){E=o.stateNode;var P=o.memoizedProps,G=wa(l,P);E.props=G;var et=E.context,ht=l.contextType;I=Rs,typeof ht=="object"&&ht!==null&&(I=kn(ht));var gt=l.getDerivedStateFromProps;ht=typeof gt=="function"||typeof E.getSnapshotBeforeUpdate=="function",P=o.pendingProps!==P,ht||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(P||et!==I)&&Sg(o,E,f,I),_r=!1;var it=o.memoizedState;E.state=it,$l(o,f,E,y),Xl(),et=o.memoizedState,P||it!==et||_r?(typeof gt=="function"&&(zd(o,l,gt,f),et=o.memoizedState),(G=_r||Eg(o,l,G,f,it,et,I))?(ht||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(o.flags|=4194308)):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=et),E.props=f,E.state=et,E.context=I,f=G):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{E=o.stateNode,md(i,o),I=o.memoizedProps,ht=wa(l,I),E.props=ht,gt=o.pendingProps,it=E.context,et=l.contextType,G=Rs,typeof et=="object"&&et!==null&&(G=kn(et)),P=l.getDerivedStateFromProps,(et=typeof P=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(I!==gt||it!==G)&&Sg(o,E,f,G),_r=!1,it=o.memoizedState,E.state=it,$l(o,f,E,y),Xl();var at=o.memoizedState;I!==gt||it!==at||_r||i!==null&&i.dependencies!==null&&rc(i.dependencies)?(typeof P=="function"&&(zd(o,l,P,f),at=o.memoizedState),(ht=_r||Eg(o,l,ht,f,it,at,G)||i!==null&&i.dependencies!==null&&rc(i.dependencies))?(et||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(f,at,G),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(f,at,G)),typeof E.componentDidUpdate=="function"&&(o.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof E.componentDidUpdate!="function"||I===i.memoizedProps&&it===i.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||I===i.memoizedProps&&it===i.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=at),E.props=f,E.state=at,E.context=G,f=ht):(typeof E.componentDidUpdate!="function"||I===i.memoizedProps&&it===i.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||I===i.memoizedProps&&it===i.memoizedState||(o.flags|=1024),f=!1)}return E=f,Ac(i,o),f=(o.flags&128)!==0,E||f?(E=o.stateNode,l=f&&typeof l.getDerivedStateFromError!="function"?null:E.render(),o.flags|=1,i!==null&&f?(o.child=Ea(o,i.child,null,y),o.child=Ea(o,null,l,y)):Un(i,o,l,y),o.memoizedState=E.state,i=o.child):i=ks(i,o,y),i}function Og(i,o,l,f){return Ms(),o.flags|=256,Un(i,o,l,f),o.child}var Fd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qd(i){return{baseLanes:i,cachePool:xm()}}function Zd(i,o,l){return i=i!==null?i.childLanes&~l:0,o&&(i|=Wi),i}function zg(i,o,l){var f=o.pendingProps,y=!1,E=(o.flags&128)!==0,I;if((I=E)||(I=i!==null&&i.memoizedState===null?!1:(nn.current&2)!==0),I&&(y=!0,o.flags&=-129),I=(o.flags&32)!==0,o.flags&=-33,i===null){if(ee){if(y?Tr(o):Er(),(i=he)?(i=J_(i,Ni),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:nt!==null?{id:mt,overflow:bt}:null,retryLane:536870912,hydrationErrors:null},l=Vl(i),l.return=o,o.child=l,de=o,he=null)):i=null,i===null)throw cs(o);return bh(i)?o.lanes=32:o.lanes=536870912,null}var P=f.children;return f=f.fallback,y?(Er(),y=o.mode,P=xc({mode:"hidden",children:P},y),f=Ns(f,y,l,null),P.return=o,f.return=o,P.sibling=f,o.child=P,f=o.child,f.memoizedState=qd(l),f.childLanes=Zd(i,I,l),o.memoizedState=Fd,nu(null,f)):(Tr(o),Jd(o,P))}var G=i.memoizedState;if(G!==null&&(P=G.dehydrated,P!==null)){if(E)o.flags&256?(Tr(o),o.flags&=-257,o=Yd(i,o,l)):o.memoizedState!==null?(Er(),o.child=i.child,o.flags|=128,o=null):(Er(),P=f.fallback,y=o.mode,f=xc({mode:"visible",children:f.children},y),P=Ns(P,y,l,null),P.flags|=2,f.return=o,P.return=o,f.sibling=P,o.child=f,Ea(o,i.child,null,l),f=o.child,f.memoizedState=qd(l),f.childLanes=Zd(i,I,l),o.memoizedState=Fd,o=nu(null,f));else if(Tr(o),bh(P)){if(I=P.nextSibling&&P.nextSibling.dataset,I)var et=I.dgst;I=et,f=Error(s(419)),f.stack="",f.digest=I,ma({value:f,source:null,stack:null}),o=Yd(i,o,l)}else if(fn||el(i,o,l,!1),I=(l&i.childLanes)!==0,fn||I){if(I=Ue,I!==null&&(f=wo(I,l),f!==0&&f!==G.retryLane))throw G.retryLane=f,co(i,f),ki(I,i,f),Vd;xh(P)||kc(),o=Yd(i,o,l)}else xh(P)?(o.flags|=192,o.child=i.child,o=null):(i=G.treeContext,he=po(P.nextSibling),de=o,ee=!0,us=null,Ni=!1,i!==null&&ci(o,i),o=Jd(o,f.children),o.flags|=4096);return o}return y?(Er(),P=f.fallback,y=o.mode,G=i.child,et=G.sibling,f=fo(G,{mode:"hidden",children:f.children}),f.subtreeFlags=G.subtreeFlags&65011712,et!==null?P=fo(et,P):(P=Ns(P,y,l,null),P.flags|=2),P.return=o,f.return=o,f.sibling=P,o.child=f,nu(null,f),f=o.child,P=i.child.memoizedState,P===null?P=qd(l):(y=P.cachePool,y!==null?(G=un._currentValue,y=y.parent!==G?{parent:G,pool:G}:y):y=xm(),P={baseLanes:P.baseLanes|l,cachePool:y}),f.memoizedState=P,f.childLanes=Zd(i,I,l),o.memoizedState=Fd,nu(i.child,f)):(Tr(o),l=i.child,i=l.sibling,l=fo(l,{mode:"visible",children:f.children}),l.return=o,l.sibling=null,i!==null&&(I=o.deletions,I===null?(o.deletions=[i],o.flags|=16):I.push(i)),o.child=l,o.memoizedState=null,l)}function Jd(i,o){return o=xc({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function xc(i,o){return i=$n(22,i,null,o),i.lanes=0,i}function Yd(i,o,l){return Ea(o,i.child,null,l),i=Jd(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function Bg(i,o,l){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o),ld(i.return,o,l)}function Kd(i,o,l,f,y,E){var I=i.memoizedState;I===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:y,treeForkCount:E}:(I.isBackwards=o,I.rendering=null,I.renderingStartTime=0,I.last=f,I.tail=l,I.tailMode=y,I.treeForkCount=E)}function Hg(i,o,l){var f=o.pendingProps,y=f.revealOrder,E=f.tail;f=f.children;var I=nn.current,P=(I&2)!==0;if(P?(I=I&1|2,o.flags|=128):I&=1,vt(nn,I),Un(i,o,f,l),f=ee?M:0,!P&&i!==null&&(i.flags&128)!==0)t:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Bg(i,l,o);else if(i.tag===19)Bg(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break t;for(;i.sibling===null;){if(i.return===null||i.return===o)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(y){case"forwards":for(l=o.child,y=null;l!==null;)i=l.alternate,i!==null&&pc(i)===null&&(y=l),l=l.sibling;l=y,l===null?(y=o.child,o.child=null):(y=l.sibling,l.sibling=null),Kd(o,!1,y,l,E,f);break;case"backwards":case"unstable_legacy-backwards":for(l=null,y=o.child,o.child=null;y!==null;){if(i=y.alternate,i!==null&&pc(i)===null){o.child=y;break}i=y.sibling,y.sibling=l,l=y,y=i}Kd(o,!0,l,null,E,f);break;case"together":Kd(o,!1,null,null,void 0,f);break;default:o.memoizedState=null}return o.child}function ks(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),Cr|=o.lanes,(l&o.childLanes)===0)if(i!==null){if(el(i,o,l,!1),(l&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(s(153));if(o.child!==null){for(i=o.child,l=fo(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=fo(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function Wd(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&rc(i)))}function rw(i,o,l){switch(o.tag){case 3:_e(o,o.stateNode.containerInfo),gr(o,un,i.memoizedState.cache),Ms();break;case 27:case 5:Ui(o);break;case 4:_e(o,o.stateNode.containerInfo);break;case 10:gr(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Td(o),null;break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(Tr(o),o.flags|=128,null):(l&o.child.childLanes)!==0?zg(i,o,l):(Tr(o),i=ks(i,o,l),i!==null?i.sibling:null);Tr(o);break;case 19:var y=(i.flags&128)!==0;if(f=(l&o.childLanes)!==0,f||(el(i,o,l,!1),f=(l&o.childLanes)!==0),y){if(f)return Hg(i,o,l);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),vt(nn,nn.current),f)break;return null;case 22:return o.lanes=0,Pg(i,o,l,o.pendingProps);case 24:gr(o,un,i.memoizedState.cache)}return ks(i,o,l)}function Vg(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps)fn=!0;else{if(!Wd(i,l)&&(o.flags&128)===0)return fn=!1,rw(i,o,l);fn=(i.flags&131072)!==0}else fn=!1,ee&&(o.flags&1048576)!==0&&Qt(o,M,o.index);switch(o.lanes=0,o.tag){case 16:t:{var f=o.pendingProps;if(i=va(o.elementType),o.type=i,typeof i=="function")Qa(i)?(f=wa(i,f),o.tag=1,o=Ug(null,o,i,f,l)):(o.tag=0,o=Gd(null,o,i,f,l));else{if(i!=null){var y=i.$$typeof;if(y===St){o.tag=11,o=Rg(null,o,i,f,l);break t}else if(y===z){o.tag=14,o=Ng(null,o,i,f,l);break t}}throw o=Ut(i)||i,Error(s(306,o,""))}}return o;case 0:return Gd(i,o,o.type,o.pendingProps,l);case 1:return f=o.type,y=wa(f,o.pendingProps),Ug(i,o,f,y,l);case 3:t:{if(_e(o,o.stateNode.containerInfo),i===null)throw Error(s(387));f=o.pendingProps;var E=o.memoizedState;y=E.element,md(i,o),$l(o,f,null,l);var I=o.memoizedState;if(f=I.cache,gr(o,un,f),f!==E.cache&&ud(o,[un],l,!0),Xl(),f=I.element,E.isDehydrated)if(E={element:f,isDehydrated:!1,cache:I.cache},o.updateQueue.baseState=E,o.memoizedState=E,o.flags&256){o=Og(i,o,f,l);break t}else if(f!==y){y=u(Error(s(424)),o),ma(y),o=Og(i,o,f,l);break t}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(he=po(i.firstChild),de=o,ee=!0,us=null,Ni=!0,l=Pm(o,null,f,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ms(),f===y){o=ks(i,o,l);break t}Un(i,o,f,l)}o=o.child}return o;case 26:return Ac(i,o),i===null?(l=Q_(o.type,null,o.pendingProps,null))?o.memoizedState=l:ee||(l=o.type,i=o.pendingProps,f=Gc(xt.current).createElement(l),f[He]=o,f[ze]=i,On(f,l,i),Ze(f),o.stateNode=f):o.memoizedState=Q_(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Ui(o),i===null&&ee&&(f=o.stateNode=W_(o.type,o.pendingProps,xt.current),de=o,Ni=!0,y=he,Rr(o.type)?(Ih=y,he=po(f.firstChild)):he=y),Un(i,o,o.pendingProps.children,l),Ac(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&ee&&((y=f=he)&&(f=Uw(f,o.type,o.pendingProps,Ni),f!==null?(o.stateNode=f,de=o,he=po(f.firstChild),Ni=!1,y=!0):y=!1),y||cs(o)),Ui(o),y=o.type,E=o.pendingProps,I=i!==null?i.memoizedProps:null,f=E.children,wh(y,E)?f=null:I!==null&&wh(y,I)&&(o.flags|=32),o.memoizedState!==null&&(y=Sd(i,o,$S,null,null,l),_u._currentValue=y),Ac(i,o),Un(i,o,f,l),o.child;case 6:return i===null&&ee&&((i=l=he)&&(l=Ow(l,o.pendingProps,Ni),l!==null?(o.stateNode=l,de=o,he=null,i=!0):i=!1),i||cs(o)),null;case 13:return zg(i,o,l);case 4:return _e(o,o.stateNode.containerInfo),f=o.pendingProps,i===null?o.child=Ea(o,null,f,l):Un(i,o,f,l),o.child;case 11:return Rg(i,o,o.type,o.pendingProps,l);case 7:return Un(i,o,o.pendingProps,l),o.child;case 8:return Un(i,o,o.pendingProps.children,l),o.child;case 12:return Un(i,o,o.pendingProps.children,l),o.child;case 10:return f=o.pendingProps,gr(o,o.type,f.value),Un(i,o,f.children,l),o.child;case 9:return y=o.type._context,f=o.pendingProps.children,_a(o),y=kn(y),f=f(y),o.flags|=1,Un(i,o,f,l),o.child;case 14:return Ng(i,o,o.type,o.pendingProps,l);case 15:return Mg(i,o,o.type,o.pendingProps,l);case 19:return Hg(i,o,l);case 31:return sw(i,o,l);case 22:return Pg(i,o,l,o.pendingProps);case 24:return _a(o),f=kn(un),i===null?(y=dd(),y===null&&(y=Ue,E=cd(),y.pooledCache=E,E.refCount++,E!==null&&(y.pooledCacheLanes|=l),y=E),o.memoizedState={parent:f,cache:y},pd(o),gr(o,un,y)):((i.lanes&l)!==0&&(md(i,o),$l(o,null,null,l),Xl()),y=i.memoizedState,E=o.memoizedState,y.parent!==f?(y={parent:f,cache:f},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),gr(o,un,f)):(f=E.cache,gr(o,un,f),f!==y.cache&&ud(o,[un],l,!0))),Un(i,o,o.pendingProps.children,l),o.child;case 29:throw o.pendingProps}throw Error(s(156,o.tag))}function Us(i){i.flags|=4}function Xd(i,o,l,f,y){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(y&335544128)===y)if(i.stateNode.complete)i.flags|=8192;else if(p_())i.flags|=8192;else throw Ta=cc,hd}else i.flags&=-16777217}function Gg(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!iy(o))if(p_())i.flags|=8192;else throw Ta=cc,hd}function bc(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?Si():536870912,i.lanes|=o,hl|=o)}function iu(i,o){if(!ee)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Ge(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,f=0;if(o)for(var y=i.child;y!==null;)l|=y.lanes|y.childLanes,f|=y.subtreeFlags&65011712,f|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)l|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=f,i.childLanes=l,o}function aw(i,o,l){var f=o.pendingProps;switch(Qe(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(o),null;case 1:return Ge(o),null;case 3:return l=o.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),Ps(un),Se(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Do(o)?Us(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ql())),Ge(o),null;case 26:var y=o.type,E=o.memoizedState;return i===null?(Us(o),E!==null?(Ge(o),Gg(o,E)):(Ge(o),Xd(o,y,null,f,l))):E?E!==i.memoizedState?(Us(o),Ge(o),Gg(o,E)):(Ge(o),o.flags&=-16777217):(i=i.memoizedProps,i!==f&&Us(o),Ge(o),Xd(o,y,i,f,l)),null;case 27:if(_i(o),l=xt.current,y=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==f&&Us(o);else{if(!f){if(o.stateNode===null)throw Error(s(166));return Ge(o),null}i=Tt.current,Do(o)?Fl(o):(i=W_(y,f,l),o.stateNode=i,Us(o))}return Ge(o),null;case 5:if(_i(o),y=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==f&&Us(o);else{if(!f){if(o.stateNode===null)throw Error(s(166));return Ge(o),null}if(E=Tt.current,Do(o))Fl(o);else{var I=Gc(xt.current);switch(E){case 1:E=I.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:E=I.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":E=I.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":E=I.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":E=I.createElement("div"),E.innerHTML="<script><\/script>",E=E.removeChild(E.firstChild);break;case"select":E=typeof f.is=="string"?I.createElement("select",{is:f.is}):I.createElement("select"),f.multiple?E.multiple=!0:f.size&&(E.size=f.size);break;default:E=typeof f.is=="string"?I.createElement(y,{is:f.is}):I.createElement(y)}}E[He]=o,E[ze]=f;t:for(I=o.child;I!==null;){if(I.tag===5||I.tag===6)E.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===o)break t;for(;I.sibling===null;){if(I.return===null||I.return===o)break t;I=I.return}I.sibling.return=I.return,I=I.sibling}o.stateNode=E;t:switch(On(E,y,f),y){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break t;case"img":f=!0;break t;default:f=!1}f&&Us(o)}}return Ge(o),Xd(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,l),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==f&&Us(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(s(166));if(i=xt.current,Do(o)){if(i=o.stateNode,l=o.memoizedProps,f=null,y=de,y!==null)switch(y.tag){case 27:case 5:f=y.memoizedProps}i[He]=o,i=!!(i.nodeValue===l||f!==null&&f.suppressHydrationWarning===!0||z_(i.nodeValue,l)),i||cs(o,!0)}else i=Gc(i).createTextNode(f),i[He]=o,o.stateNode=i}return Ge(o),null;case 31:if(l=o.memoizedState,i===null||i.memoizedState!==null){if(f=Do(o),l!==null){if(i===null){if(!f)throw Error(s(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[He]=o}else Ms(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ge(o),i=!1}else l=ql(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return o.flags&256?(Yi(o),o):(Yi(o),null);if((o.flags&128)!==0)throw Error(s(558))}return Ge(o),null;case 13:if(f=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=Do(o),f!==null&&f.dehydrated!==null){if(i===null){if(!y)throw Error(s(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(s(317));y[He]=o}else Ms(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ge(o),y=!1}else y=ql(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(Yi(o),o):(Yi(o),null)}return Yi(o),(o.flags&128)!==0?(o.lanes=l,o):(l=f!==null,i=i!==null&&i.memoizedState!==null,l&&(f=o.child,y=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(y=f.alternate.memoizedState.cachePool.pool),E=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(E=f.memoizedState.cachePool.pool),E!==y&&(f.flags|=2048)),l!==i&&l&&(o.child.flags|=8192),bc(o,o.updateQueue),Ge(o),null);case 4:return Se(),i===null&&yh(o.stateNode.containerInfo),Ge(o),null;case 10:return Ps(o.type),Ge(o),null;case 19:if(ct(nn),f=o.memoizedState,f===null)return Ge(o),null;if(y=(o.flags&128)!==0,E=f.rendering,E===null)if(y)iu(f,!1);else{if(tn!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(E=pc(i),E!==null){for(o.flags|=128,iu(f,!1),i=E.updateQueue,o.updateQueue=i,bc(o,i),o.subtreeFlags=0,i=l,l=o.child;l!==null;)Hl(l,i),l=l.sibling;return vt(nn,nn.current&1|2),ee&&kt(o,f.treeForkCount),o.child}i=i.sibling}f.tail!==null&&en()>Pc&&(o.flags|=128,y=!0,iu(f,!1),o.lanes=4194304)}else{if(!y)if(i=pc(E),i!==null){if(o.flags|=128,y=!0,i=i.updateQueue,o.updateQueue=i,bc(o,i),iu(f,!0),f.tail===null&&f.tailMode==="hidden"&&!E.alternate&&!ee)return Ge(o),null}else 2*en()-f.renderingStartTime>Pc&&l!==536870912&&(o.flags|=128,y=!0,iu(f,!1),o.lanes=4194304);f.isBackwards?(E.sibling=o.child,o.child=E):(i=f.last,i!==null?i.sibling=E:o.child=E,f.last=E)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=en(),i.sibling=null,l=nn.current,vt(nn,y?l&1|2:l&1),ee&&kt(o,f.treeForkCount),i):(Ge(o),null);case 22:case 23:return Yi(o),vd(),f=o.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?(l&536870912)!==0&&(o.flags&128)===0&&(Ge(o),o.subtreeFlags&6&&(o.flags|=8192)):Ge(o),l=o.updateQueue,l!==null&&bc(o,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==l&&(o.flags|=2048),i!==null&&ct(ya),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),o.memoizedState.cache!==l&&(o.flags|=2048),Ps(un),Ge(o),null;case 25:return null;case 30:return null}throw Error(s(156,o.tag))}function lw(i,o){switch(Qe(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Ps(un),Se(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return _i(o),null;case 31:if(o.memoizedState!==null){if(Yi(o),o.alternate===null)throw Error(s(340));Ms()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(Yi(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(s(340));Ms()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return ct(nn),null;case 4:return Se(),null;case 10:return Ps(o.type),null;case 22:case 23:return Yi(o),vd(),i!==null&&ct(ya),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return Ps(un),null;case 25:return null;default:return null}}function Fg(i,o){switch(Qe(o),o.tag){case 3:Ps(un),Se();break;case 26:case 27:case 5:_i(o);break;case 4:Se();break;case 31:o.memoizedState!==null&&Yi(o);break;case 13:Yi(o);break;case 19:ct(nn);break;case 10:Ps(o.type);break;case 22:case 23:Yi(o),vd(),i!==null&&ct(ya);break;case 24:Ps(un)}}function ou(i,o){try{var l=o.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var y=f.next;l=y;do{if((l.tag&i)===i){f=void 0;var E=l.create,I=l.inst;f=E(),I.destroy=f}l=l.next}while(l!==y)}}catch(P){Ie(o,o.return,P)}}function Sr(i,o,l){try{var f=o.updateQueue,y=f!==null?f.lastEffect:null;if(y!==null){var E=y.next;f=E;do{if((f.tag&i)===i){var I=f.inst,P=I.destroy;if(P!==void 0){I.destroy=void 0,y=o;var G=l,et=P;try{et()}catch(ht){Ie(y,G,ht)}}}f=f.next}while(f!==E)}}catch(ht){Ie(o,o.return,ht)}}function qg(i){var o=i.updateQueue;if(o!==null){var l=i.stateNode;try{Lm(o,l)}catch(f){Ie(i,i.return,f)}}}function Zg(i,o,l){l.props=wa(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(f){Ie(i,o,f)}}function su(i,o){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof l=="function"?i.refCleanup=l(f):l.current=f}}catch(y){Ie(i,o,y)}}function ds(i,o){var l=i.ref,f=i.refCleanup;if(l!==null)if(typeof f=="function")try{f()}catch(y){Ie(i,o,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(y){Ie(i,o,y)}else l.current=null}function Jg(i){var o=i.type,l=i.memoizedProps,f=i.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":l.autoFocus&&f.focus();break t;case"img":l.src?f.src=l.src:l.srcSet&&(f.srcset=l.srcSet)}}catch(y){Ie(i,i.return,y)}}function $d(i,o,l){try{var f=i.stateNode;Nw(f,i.type,l,o),f[ze]=o}catch(y){Ie(i,i.return,y)}}function Yg(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Rr(i.type)||i.tag===4}function Qd(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||Yg(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Rr(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function jd(i,o,l){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,o):(o=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,o.appendChild(i),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=vn));else if(f!==4&&(f===27&&Rr(i.type)&&(l=i.stateNode,o=null),i=i.child,i!==null))for(jd(i,o,l),i=i.sibling;i!==null;)jd(i,o,l),i=i.sibling}function Ic(i,o,l){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(f!==4&&(f===27&&Rr(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Ic(i,o,l),i=i.sibling;i!==null;)Ic(i,o,l),i=i.sibling}function Kg(i){var o=i.stateNode,l=i.memoizedProps;try{for(var f=i.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);On(o,f,l),o[He]=i,o[ze]=l}catch(E){Ie(i,i.return,E)}}var Os=!1,dn=!1,th=!1,Wg=typeof WeakSet=="function"?WeakSet:Set,bn=null;function uw(i,o){if(i=i.containerInfo,Eh=Wc,i=aa(i),os(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else t:{l=(l=i.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var y=f.anchorOffset,E=f.focusNode;f=f.focusOffset;try{l.nodeType,E.nodeType}catch{l=null;break t}var I=0,P=-1,G=-1,et=0,ht=0,gt=i,it=null;e:for(;;){for(var at;gt!==l||y!==0&&gt.nodeType!==3||(P=I+y),gt!==E||f!==0&&gt.nodeType!==3||(G=I+f),gt.nodeType===3&&(I+=gt.nodeValue.length),(at=gt.firstChild)!==null;)it=gt,gt=at;for(;;){if(gt===i)break e;if(it===l&&++et===y&&(P=I),it===E&&++ht===f&&(G=I),(at=gt.nextSibling)!==null)break;gt=it,it=gt.parentNode}gt=at}l=P===-1||G===-1?null:{start:P,end:G}}else l=null}l=l||{start:0,end:0}}else l=null;for(Sh={focusedElem:i,selectionRange:l},Wc=!1,bn=o;bn!==null;)if(o=bn,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,bn=i;else for(;bn!==null;){switch(o=bn,E=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)y=i[l],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&E!==null){i=void 0,l=o,y=E.memoizedProps,E=E.memoizedState,f=l.stateNode;try{var Dt=wa(l.type,y);i=f.getSnapshotBeforeUpdate(Dt,E),f.__reactInternalSnapshotBeforeUpdate=i}catch(Bt){Ie(l,l.return,Bt)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,l=i.nodeType,l===9)Ah(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Ah(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=o.sibling,i!==null){i.return=o.return,bn=i;break}bn=o.return}}function Xg(i,o,l){var f=l.flags;switch(l.tag){case 0:case 11:case 15:Bs(i,l),f&4&&ou(5,l);break;case 1:if(Bs(i,l),f&4)if(i=l.stateNode,o===null)try{i.componentDidMount()}catch(I){Ie(l,l.return,I)}else{var y=wa(l.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(y,o,i.__reactInternalSnapshotBeforeUpdate)}catch(I){Ie(l,l.return,I)}}f&64&&qg(l),f&512&&su(l,l.return);break;case 3:if(Bs(i,l),f&64&&(i=l.updateQueue,i!==null)){if(o=null,l.child!==null)switch(l.child.tag){case 27:case 5:o=l.child.stateNode;break;case 1:o=l.child.stateNode}try{Lm(i,o)}catch(I){Ie(l,l.return,I)}}break;case 27:o===null&&f&4&&Kg(l);case 26:case 5:Bs(i,l),o===null&&f&4&&Jg(l),f&512&&su(l,l.return);break;case 12:Bs(i,l);break;case 31:Bs(i,l),f&4&&jg(i,l);break;case 13:Bs(i,l),f&4&&t_(i,l),f&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=yw.bind(null,l),zw(i,l))));break;case 22:if(f=l.memoizedState!==null||Os,!f){o=o!==null&&o.memoizedState!==null||dn,y=Os;var E=dn;Os=f,(dn=o)&&!E?Hs(i,l,(l.subtreeFlags&8772)!==0):Bs(i,l),Os=y,dn=E}break;case 30:break;default:Bs(i,l)}}function $g(i){var o=i.alternate;o!==null&&(i.alternate=null,$g(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Xo(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Je=null,Mi=!1;function zs(i,o,l){for(l=l.child;l!==null;)Qg(i,o,l),l=l.sibling}function Qg(i,o,l){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Ke,l)}catch{}switch(l.tag){case 26:dn||ds(l,o),zs(i,o,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:dn||ds(l,o);var f=Je,y=Mi;Rr(l.type)&&(Je=l.stateNode,Mi=!1),zs(i,o,l),pu(l.stateNode),Je=f,Mi=y;break;case 5:dn||ds(l,o);case 6:if(f=Je,y=Mi,Je=null,zs(i,o,l),Je=f,Mi=y,Je!==null)if(Mi)try{(Je.nodeType===9?Je.body:Je.nodeName==="HTML"?Je.ownerDocument.body:Je).removeChild(l.stateNode)}catch(E){Ie(l,o,E)}else try{Je.removeChild(l.stateNode)}catch(E){Ie(l,o,E)}break;case 18:Je!==null&&(Mi?(i=Je,q_(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),El(i)):q_(Je,l.stateNode));break;case 4:f=Je,y=Mi,Je=l.stateNode.containerInfo,Mi=!0,zs(i,o,l),Je=f,Mi=y;break;case 0:case 11:case 14:case 15:Sr(2,l,o),dn||Sr(4,l,o),zs(i,o,l);break;case 1:dn||(ds(l,o),f=l.stateNode,typeof f.componentWillUnmount=="function"&&Zg(l,o,f)),zs(i,o,l);break;case 21:zs(i,o,l);break;case 22:dn=(f=dn)||l.memoizedState!==null,zs(i,o,l),dn=f;break;default:zs(i,o,l)}}function jg(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{El(i)}catch(l){Ie(o,o.return,l)}}}function t_(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{El(i)}catch(l){Ie(o,o.return,l)}}function cw(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new Wg),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new Wg),o;default:throw Error(s(435,i.tag))}}function Rc(i,o){var l=cw(i);o.forEach(function(f){if(!l.has(f)){l.add(f);var y=vw.bind(null,i,f);f.then(y,y)}})}function Pi(i,o){var l=o.deletions;if(l!==null)for(var f=0;f<l.length;f++){var y=l[f],E=i,I=o,P=I;t:for(;P!==null;){switch(P.tag){case 27:if(Rr(P.type)){Je=P.stateNode,Mi=!1;break t}break;case 5:Je=P.stateNode,Mi=!1;break t;case 3:case 4:Je=P.stateNode.containerInfo,Mi=!0;break t}P=P.return}if(Je===null)throw Error(s(160));Qg(E,I,y),Je=null,Mi=!1,E=y.alternate,E!==null&&(E.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)e_(o,i),o=o.sibling}var ko=null;function e_(i,o){var l=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Pi(o,i),Di(i),f&4&&(Sr(3,i,i.return),ou(3,i),Sr(5,i,i.return));break;case 1:Pi(o,i),Di(i),f&512&&(dn||l===null||ds(l,l.return)),f&64&&Os&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?f:l.concat(f))));break;case 26:var y=ko;if(Pi(o,i),Di(i),f&512&&(dn||l===null||ds(l,l.return)),f&4){var E=l!==null?l.memoizedState:null;if(f=i.memoizedState,l===null)if(f===null)if(i.stateNode===null){t:{f=i.type,l=i.memoizedProps,y=y.ownerDocument||y;e:switch(f){case"title":E=y.getElementsByTagName("title")[0],(!E||E[Bi]||E[He]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=y.createElement(f),y.head.insertBefore(E,y.querySelector("head > title"))),On(E,f,l),E[He]=i,Ze(E),f=E;break t;case"link":var I=ey("link","href",y).get(f+(l.href||""));if(I){for(var P=0;P<I.length;P++)if(E=I[P],E.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&E.getAttribute("rel")===(l.rel==null?null:l.rel)&&E.getAttribute("title")===(l.title==null?null:l.title)&&E.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){I.splice(P,1);break e}}E=y.createElement(f),On(E,f,l),y.head.appendChild(E);break;case"meta":if(I=ey("meta","content",y).get(f+(l.content||""))){for(P=0;P<I.length;P++)if(E=I[P],E.getAttribute("content")===(l.content==null?null:""+l.content)&&E.getAttribute("name")===(l.name==null?null:l.name)&&E.getAttribute("property")===(l.property==null?null:l.property)&&E.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&E.getAttribute("charset")===(l.charSet==null?null:l.charSet)){I.splice(P,1);break e}}E=y.createElement(f),On(E,f,l),y.head.appendChild(E);break;default:throw Error(s(468,f))}E[He]=i,Ze(E),f=E}i.stateNode=f}else ny(y,i.type,i.stateNode);else i.stateNode=ty(y,f,i.memoizedProps);else E!==f?(E===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):E.count--,f===null?ny(y,i.type,i.stateNode):ty(y,f,i.memoizedProps)):f===null&&i.stateNode!==null&&$d(i,i.memoizedProps,l.memoizedProps)}break;case 27:Pi(o,i),Di(i),f&512&&(dn||l===null||ds(l,l.return)),l!==null&&f&4&&$d(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Pi(o,i),Di(i),f&512&&(dn||l===null||ds(l,l.return)),i.flags&32){y=i.stateNode;try{We(y,"")}catch(Dt){Ie(i,i.return,Dt)}}f&4&&i.stateNode!=null&&(y=i.memoizedProps,$d(i,y,l!==null?l.memoizedProps:y)),f&1024&&(th=!0);break;case 6:if(Pi(o,i),Di(i),f&4){if(i.stateNode===null)throw Error(s(162));f=i.memoizedProps,l=i.stateNode;try{l.nodeValue=f}catch(Dt){Ie(i,i.return,Dt)}}break;case 3:if(Zc=null,y=ko,ko=Fc(o.containerInfo),Pi(o,i),ko=y,Di(i),f&4&&l!==null&&l.memoizedState.isDehydrated)try{El(o.containerInfo)}catch(Dt){Ie(i,i.return,Dt)}th&&(th=!1,n_(i));break;case 4:f=ko,ko=Fc(i.stateNode.containerInfo),Pi(o,i),Di(i),ko=f;break;case 12:Pi(o,i),Di(i);break;case 31:Pi(o,i),Di(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Rc(i,f)));break;case 13:Pi(o,i),Di(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Mc=en()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Rc(i,f)));break;case 22:y=i.memoizedState!==null;var G=l!==null&&l.memoizedState!==null,et=Os,ht=dn;if(Os=et||y,dn=ht||G,Pi(o,i),dn=ht,Os=et,Di(i),f&8192)t:for(o=i.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(l===null||G||Os||dn||Ca(i)),l=null,o=i;;){if(o.tag===5||o.tag===26){if(l===null){G=l=o;try{if(E=G.stateNode,y)I=E.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{P=G.stateNode;var gt=G.memoizedProps.style,it=gt!=null&&gt.hasOwnProperty("display")?gt.display:null;P.style.display=it==null||typeof it=="boolean"?"":(""+it).trim()}}catch(Dt){Ie(G,G.return,Dt)}}}else if(o.tag===6){if(l===null){G=o;try{G.stateNode.nodeValue=y?"":G.memoizedProps}catch(Dt){Ie(G,G.return,Dt)}}}else if(o.tag===18){if(l===null){G=o;try{var at=G.stateNode;y?Z_(at,!0):Z_(G.stateNode,!1)}catch(Dt){Ie(G,G.return,Dt)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break t;for(;o.sibling===null;){if(o.return===null||o.return===i)break t;l===o&&(l=null),o=o.return}l===o&&(l=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=i.updateQueue,f!==null&&(l=f.retryQueue,l!==null&&(f.retryQueue=null,Rc(i,l))));break;case 19:Pi(o,i),Di(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Rc(i,f)));break;case 30:break;case 21:break;default:Pi(o,i),Di(i)}}function Di(i){var o=i.flags;if(o&2){try{for(var l,f=i.return;f!==null;){if(Yg(f)){l=f;break}f=f.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var y=l.stateNode,E=Qd(i);Ic(i,E,y);break;case 5:var I=l.stateNode;l.flags&32&&(We(I,""),l.flags&=-33);var P=Qd(i);Ic(i,P,I);break;case 3:case 4:var G=l.stateNode.containerInfo,et=Qd(i);jd(i,et,G);break;default:throw Error(s(161))}}catch(ht){Ie(i,i.return,ht)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function n_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;n_(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Bs(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Xg(i,o.alternate,o),o=o.sibling}function Ca(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:Sr(4,o,o.return),Ca(o);break;case 1:ds(o,o.return);var l=o.stateNode;typeof l.componentWillUnmount=="function"&&Zg(o,o.return,l),Ca(o);break;case 27:pu(o.stateNode);case 26:case 5:ds(o,o.return),Ca(o);break;case 22:o.memoizedState===null&&Ca(o);break;case 30:Ca(o);break;default:Ca(o)}i=i.sibling}}function Hs(i,o,l){for(l=l&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,y=i,E=o,I=E.flags;switch(E.tag){case 0:case 11:case 15:Hs(y,E,l),ou(4,E);break;case 1:if(Hs(y,E,l),f=E,y=f.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(et){Ie(f,f.return,et)}if(f=E,y=f.updateQueue,y!==null){var P=f.stateNode;try{var G=y.shared.hiddenCallbacks;if(G!==null)for(y.shared.hiddenCallbacks=null,y=0;y<G.length;y++)Dm(G[y],P)}catch(et){Ie(f,f.return,et)}}l&&I&64&&qg(E),su(E,E.return);break;case 27:Kg(E);case 26:case 5:Hs(y,E,l),l&&f===null&&I&4&&Jg(E),su(E,E.return);break;case 12:Hs(y,E,l);break;case 31:Hs(y,E,l),l&&I&4&&jg(y,E);break;case 13:Hs(y,E,l),l&&I&4&&t_(y,E);break;case 22:E.memoizedState===null&&Hs(y,E,l),su(E,E.return);break;case 30:break;default:Hs(y,E,l)}o=o.sibling}}function eh(i,o){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Zl(l))}function nh(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Zl(i))}function Uo(i,o,l,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)i_(i,o,l,f),o=o.sibling}function i_(i,o,l,f){var y=o.flags;switch(o.tag){case 0:case 11:case 15:Uo(i,o,l,f),y&2048&&ou(9,o);break;case 1:Uo(i,o,l,f);break;case 3:Uo(i,o,l,f),y&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Zl(i)));break;case 12:if(y&2048){Uo(i,o,l,f),i=o.stateNode;try{var E=o.memoizedProps,I=E.id,P=E.onPostCommit;typeof P=="function"&&P(I,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(G){Ie(o,o.return,G)}}else Uo(i,o,l,f);break;case 31:Uo(i,o,l,f);break;case 13:Uo(i,o,l,f);break;case 23:break;case 22:E=o.stateNode,I=o.alternate,o.memoizedState!==null?E._visibility&2?Uo(i,o,l,f):ru(i,o):E._visibility&2?Uo(i,o,l,f):(E._visibility|=2,cl(i,o,l,f,(o.subtreeFlags&10256)!==0||!1)),y&2048&&eh(I,o);break;case 24:Uo(i,o,l,f),y&2048&&nh(o.alternate,o);break;default:Uo(i,o,l,f)}}function cl(i,o,l,f,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var E=i,I=o,P=l,G=f,et=I.flags;switch(I.tag){case 0:case 11:case 15:cl(E,I,P,G,y),ou(8,I);break;case 23:break;case 22:var ht=I.stateNode;I.memoizedState!==null?ht._visibility&2?cl(E,I,P,G,y):ru(E,I):(ht._visibility|=2,cl(E,I,P,G,y)),y&&et&2048&&eh(I.alternate,I);break;case 24:cl(E,I,P,G,y),y&&et&2048&&nh(I.alternate,I);break;default:cl(E,I,P,G,y)}o=o.sibling}}function ru(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var l=i,f=o,y=f.flags;switch(f.tag){case 22:ru(l,f),y&2048&&eh(f.alternate,f);break;case 24:ru(l,f),y&2048&&nh(f.alternate,f);break;default:ru(l,f)}o=o.sibling}}var au=8192;function fl(i,o,l){if(i.subtreeFlags&au)for(i=i.child;i!==null;)o_(i,o,l),i=i.sibling}function o_(i,o,l){switch(i.tag){case 26:fl(i,o,l),i.flags&au&&i.memoizedState!==null&&Xw(l,ko,i.memoizedState,i.memoizedProps);break;case 5:fl(i,o,l);break;case 3:case 4:var f=ko;ko=Fc(i.stateNode.containerInfo),fl(i,o,l),ko=f;break;case 22:i.memoizedState===null&&(f=i.alternate,f!==null&&f.memoizedState!==null?(f=au,au=16777216,fl(i,o,l),au=f):fl(i,o,l));break;default:fl(i,o,l)}}function s_(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function lu(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var f=o[l];bn=f,a_(f,i)}s_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)r_(i),i=i.sibling}function r_(i){switch(i.tag){case 0:case 11:case 15:lu(i),i.flags&2048&&Sr(9,i,i.return);break;case 3:lu(i);break;case 12:lu(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,Nc(i)):lu(i);break;default:lu(i)}}function Nc(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var f=o[l];bn=f,a_(f,i)}s_(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:Sr(8,o,o.return),Nc(o);break;case 22:l=o.stateNode,l._visibility&2&&(l._visibility&=-3,Nc(o));break;default:Nc(o)}i=i.sibling}}function a_(i,o){for(;bn!==null;){var l=bn;switch(l.tag){case 0:case 11:case 15:Sr(8,l,o);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var f=l.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Zl(l.memoizedState.cache)}if(f=l.child,f!==null)f.return=l,bn=f;else t:for(l=i;bn!==null;){f=bn;var y=f.sibling,E=f.return;if($g(f),f===l){bn=null;break t}if(y!==null){y.return=E,bn=y;break t}bn=E}}}var fw={getCacheForType:function(i){var o=kn(un),l=o.data.get(i);return l===void 0&&(l=i(),o.data.set(i,l)),l},cacheSignal:function(){return kn(un).controller.signal}},dw=typeof WeakMap=="function"?WeakMap:Map,Te=0,Ue=null,ne=null,se=0,be=0,Ki=null,wr=!1,dl=!1,ih=!1,Vs=0,tn=0,Cr=0,Aa=0,oh=0,Wi=0,hl=0,uu=null,Li=null,sh=!1,Mc=0,l_=0,Pc=1/0,Dc=null,Ar=null,_n=0,xr=null,pl=null,Gs=0,rh=0,ah=null,u_=null,cu=0,lh=null;function Xi(){return(Te&2)!==0&&se!==0?se&-se:rt.T!==null?ph():Wo()}function c_(){if(Wi===0)if((se&536870912)===0||ee){var i=Ti;Ti<<=1,(Ti&3932160)===0&&(Ti=262144),Wi=i}else Wi=536870912;return i=Ji.current,i!==null&&(i.flags|=32),Wi}function ki(i,o,l){(i===Ue&&(be===2||be===9)||i.cancelPendingCommit!==null)&&(ml(i,0),br(i,se,Wi,!1)),wi(i,l),((Te&2)===0||i!==Ue)&&(i===Ue&&((Te&2)===0&&(Aa|=l),tn===4&&br(i,se,Wi,!1)),hs(i))}function f_(i,o,l){if((Te&6)!==0)throw Error(s(327));var f=!l&&(o&127)===0&&(o&i.expiredLanes)===0||Mn(i,o),y=f?mw(i,o):ch(i,o,!0),E=f;do{if(y===0){dl&&!f&&br(i,o,0,!1);break}else{if(l=i.current.alternate,E&&!hw(l)){y=ch(i,o,!1),E=!1;continue}if(y===2){if(E=o,i.errorRecoveryDisabledLanes&E)var I=0;else I=i.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){o=I;t:{var P=i;y=uu;var G=P.current.memoizedState.isDehydrated;if(G&&(ml(P,I).flags|=256),I=ch(P,I,!1),I!==2){if(ih&&!G){P.errorRecoveryDisabledLanes|=E,Aa|=E,y=4;break t}E=Li,Li=y,E!==null&&(Li===null?Li=E:Li.push.apply(Li,E))}y=I}if(E=!1,y!==2)continue}}if(y===1){ml(i,0),br(i,o,0,!0);break}t:{switch(f=i,E=y,E){case 0:case 1:throw Error(s(345));case 4:if((o&4194048)!==o)break;case 6:br(f,o,Wi,!wr);break t;case 2:Li=null;break;case 3:case 5:break;default:throw Error(s(329))}if((o&62914560)===o&&(y=Mc+300-en(),10<y)){if(br(f,o,Wi,!wr),Ei(f,0,!0)!==0)break t;Gs=o,f.timeoutHandle=G_(d_.bind(null,f,l,Li,Dc,sh,o,Wi,Aa,hl,wr,E,"Throttled",-0,0),y);break t}d_(f,l,Li,Dc,sh,o,Wi,Aa,hl,wr,E,null,-0,0)}}break}while(!0);hs(i)}function d_(i,o,l,f,y,E,I,P,G,et,ht,gt,it,at){if(i.timeoutHandle=-1,gt=o.subtreeFlags,gt&8192||(gt&16785408)===16785408){gt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:vn},o_(o,E,gt);var Dt=(E&62914560)===E?Mc-en():(E&4194048)===E?l_-en():0;if(Dt=$w(gt,Dt),Dt!==null){Gs=E,i.cancelPendingCommit=Dt(T_.bind(null,i,o,E,l,f,y,I,P,G,ht,gt,null,it,at)),br(i,E,I,!et);return}}T_(i,o,E,l,f,y,I,P,G)}function hw(i){for(var o=i;;){var l=o.tag;if((l===0||l===11||l===15)&&o.flags&16384&&(l=o.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var f=0;f<l.length;f++){var y=l[f],E=y.getSnapshot;y=y.value;try{if(!An(E(),y))return!1}catch{return!1}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function br(i,o,l,f){o&=~oh,o&=~Aa,i.suspendedLanes|=o,i.pingedLanes&=~o,f&&(i.warmLanes|=o),f=i.expirationTimes;for(var y=o;0<y;){var E=31-Oe(y),I=1<<E;f[E]=-1,y&=~I}l!==0&&Eo(i,l,o)}function Lc(){return(Te&6)===0?(fu(0),!1):!0}function uh(){if(ne!==null){if(be===0)var i=ne.return;else i=ne,Lo=fs=null,Ad(i),sl=null,Yl=0,i=ne;for(;i!==null;)Fg(i.alternate,i),i=i.return;ne=null}}function ml(i,o){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,Dw(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Gs=0,uh(),Ue=i,ne=l=fo(i.current,null),se=o,be=0,Ki=null,wr=!1,dl=Mn(i,o),ih=!1,hl=Wi=oh=Aa=Cr=tn=0,Li=uu=null,sh=!1,(o&8)!==0&&(o|=o&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=o;0<f;){var y=31-Oe(f),E=1<<y;o|=i[y],f&=~E}return Vs=o,da(),l}function h_(i,o){Xt=null,rt.H=eu,o===ol||o===uc?(o=Rm(),be=3):o===hd?(o=Rm(),be=4):be=o===Vd?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Ki=o,ne===null&&(tn=1,wc(i,u(o,i.current)))}function p_(){var i=Ji.current;return i===null?!0:(se&4194048)===se?ho===null:(se&62914560)===se||(se&536870912)!==0?i===ho:!1}function m_(){var i=rt.H;return rt.H=eu,i===null?eu:i}function g_(){var i=rt.A;return rt.A=fw,i}function kc(){tn=4,wr||(se&4194048)!==se&&Ji.current!==null||(dl=!0),(Cr&134217727)===0&&(Aa&134217727)===0||Ue===null||br(Ue,se,Wi,!1)}function ch(i,o,l){var f=Te;Te|=2;var y=m_(),E=g_();(Ue!==i||se!==o)&&(Dc=null,ml(i,o)),o=!1;var I=tn;t:do try{if(be!==0&&ne!==null){var P=ne,G=Ki;switch(be){case 8:uh(),I=6;break t;case 3:case 2:case 9:case 6:Ji.current===null&&(o=!0);var et=be;if(be=0,Ki=null,gl(i,P,G,et),l&&dl){I=0;break t}break;default:et=be,be=0,Ki=null,gl(i,P,G,et)}}pw(),I=tn;break}catch(ht){h_(i,ht)}while(!0);return o&&i.shellSuspendCounter++,Lo=fs=null,Te=f,rt.H=y,rt.A=E,ne===null&&(Ue=null,se=0,da()),I}function pw(){for(;ne!==null;)__(ne)}function mw(i,o){var l=Te;Te|=2;var f=m_(),y=g_();Ue!==i||se!==o?(Dc=null,Pc=en()+500,ml(i,o)):dl=Mn(i,o);t:do try{if(be!==0&&ne!==null){o=ne;var E=Ki;e:switch(be){case 1:be=0,Ki=null,gl(i,o,E,1);break;case 2:case 9:if(bm(E)){be=0,Ki=null,y_(o);break}o=function(){be!==2&&be!==9||Ue!==i||(be=7),hs(i)},E.then(o,o);break t;case 3:be=7;break t;case 4:be=5;break t;case 7:bm(E)?(be=0,Ki=null,y_(o)):(be=0,Ki=null,gl(i,o,E,7));break;case 5:var I=null;switch(ne.tag){case 26:I=ne.memoizedState;case 5:case 27:var P=ne;if(I?iy(I):P.stateNode.complete){be=0,Ki=null;var G=P.sibling;if(G!==null)ne=G;else{var et=P.return;et!==null?(ne=et,Uc(et)):ne=null}break e}}be=0,Ki=null,gl(i,o,E,5);break;case 6:be=0,Ki=null,gl(i,o,E,6);break;case 8:uh(),tn=6;break t;default:throw Error(s(462))}}gw();break}catch(ht){h_(i,ht)}while(!0);return Lo=fs=null,rt.H=f,rt.A=y,Te=l,ne!==null?0:(Ue=null,se=0,da(),tn)}function gw(){for(;ne!==null&&!Jo();)__(ne)}function __(i){var o=Vg(i.alternate,i,Vs);i.memoizedProps=i.pendingProps,o===null?Uc(i):ne=o}function y_(i){var o=i,l=o.alternate;switch(o.tag){case 15:case 0:o=kg(l,o,o.pendingProps,o.type,void 0,se);break;case 11:o=kg(l,o,o.pendingProps,o.type.render,o.ref,se);break;case 5:Ad(o);default:Fg(l,o),o=ne=Hl(o,Vs),o=Vg(l,o,Vs)}i.memoizedProps=i.pendingProps,o===null?Uc(i):ne=o}function gl(i,o,l,f){Lo=fs=null,Ad(o),sl=null,Yl=0;var y=o.return;try{if(ow(i,y,o,l,se)){tn=1,wc(i,u(l,i.current)),ne=null;return}}catch(E){if(y!==null)throw ne=y,E;tn=1,wc(i,u(l,i.current)),ne=null;return}o.flags&32768?(ee||f===1?i=!0:dl||(se&536870912)!==0?i=!1:(wr=i=!0,(f===2||f===9||f===3||f===6)&&(f=Ji.current,f!==null&&f.tag===13&&(f.flags|=16384))),v_(o,i)):Uc(o)}function Uc(i){var o=i;do{if((o.flags&32768)!==0){v_(o,wr);return}i=o.return;var l=aw(o.alternate,o,Vs);if(l!==null){ne=l;return}if(o=o.sibling,o!==null){ne=o;return}ne=o=i}while(o!==null);tn===0&&(tn=5)}function v_(i,o){do{var l=lw(i.alternate,i);if(l!==null){l.flags&=32767,ne=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!o&&(i=i.sibling,i!==null)){ne=i;return}ne=i=l}while(i!==null);tn=6,ne=null}function T_(i,o,l,f,y,E,I,P,G){i.cancelPendingCommit=null;do Oc();while(_n!==0);if((Te&6)!==0)throw Error(s(327));if(o!==null){if(o===i.current)throw Error(s(177));if(E=o.lanes|o.childLanes,E|=$a,Ss(i,l,E,I,P,G),i===Ue&&(ne=Ue=null,se=0),pl=o,xr=i,Gs=l,rh=E,ah=y,u_=f,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Tw(vi,function(){return A_(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||f){f=rt.T,rt.T=null,y=At.p,At.p=2,I=Te,Te|=4;try{uw(i,o,l)}finally{Te=I,At.p=y,rt.T=f}}_n=1,E_(),S_(),w_()}}function E_(){if(_n===1){_n=0;var i=xr,o=pl,l=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||l){l=rt.T,rt.T=null;var f=At.p;At.p=2;var y=Te;Te|=4;try{e_(o,i);var E=Sh,I=aa(i.containerInfo),P=E.focusedElem,G=E.selectionRange;if(I!==P&&P&&P.ownerDocument&&Ya(P.ownerDocument.documentElement,P)){if(G!==null&&os(P)){var et=G.start,ht=G.end;if(ht===void 0&&(ht=et),"selectionStart"in P)P.selectionStart=et,P.selectionEnd=Math.min(ht,P.value.length);else{var gt=P.ownerDocument||document,it=gt&&gt.defaultView||window;if(it.getSelection){var at=it.getSelection(),Dt=P.textContent.length,Bt=Math.min(G.start,Dt),Pe=G.end===void 0?Bt:Math.min(G.end,Dt);!at.extend&&Bt>Pe&&(I=Pe,Pe=Bt,Bt=I);var W=ra(P,Bt),Z=ra(P,Pe);if(W&&Z&&(at.rangeCount!==1||at.anchorNode!==W.node||at.anchorOffset!==W.offset||at.focusNode!==Z.node||at.focusOffset!==Z.offset)){var tt=gt.createRange();tt.setStart(W.node,W.offset),at.removeAllRanges(),Bt>Pe?(at.addRange(tt),at.extend(Z.node,Z.offset)):(tt.setEnd(Z.node,Z.offset),at.addRange(tt))}}}}for(gt=[],at=P;at=at.parentNode;)at.nodeType===1&&gt.push({element:at,left:at.scrollLeft,top:at.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<gt.length;P++){var pt=gt[P];pt.element.scrollLeft=pt.left,pt.element.scrollTop=pt.top}}Wc=!!Eh,Sh=Eh=null}finally{Te=y,At.p=f,rt.T=l}}i.current=o,_n=2}}function S_(){if(_n===2){_n=0;var i=xr,o=pl,l=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||l){l=rt.T,rt.T=null;var f=At.p;At.p=2;var y=Te;Te|=4;try{Xg(i,o.alternate,o)}finally{Te=y,At.p=f,rt.T=l}}_n=3}}function w_(){if(_n===4||_n===3){_n=0,vs();var i=xr,o=pl,l=Gs,f=u_;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?_n=5:(_n=0,pl=xr=null,C_(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(Ar=null),Pt(l),o=o.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Ke,o,void 0,(o.current.flags&128)===128)}catch{}if(f!==null){o=rt.T,y=At.p,At.p=2,rt.T=null;try{for(var E=i.onRecoverableError,I=0;I<f.length;I++){var P=f[I];E(P.value,{componentStack:P.stack})}}finally{rt.T=o,At.p=y}}(Gs&3)!==0&&Oc(),hs(i),y=i.pendingLanes,(l&261930)!==0&&(y&42)!==0?i===lh?cu++:(cu=0,lh=i):cu=0,fu(0)}}function C_(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Zl(o)))}function Oc(){return E_(),S_(),w_(),A_()}function A_(){if(_n!==5)return!1;var i=xr,o=rh;rh=0;var l=Pt(Gs),f=rt.T,y=At.p;try{At.p=32>l?32:l,rt.T=null,l=ah,ah=null;var E=xr,I=Gs;if(_n=0,pl=xr=null,Gs=0,(Te&6)!==0)throw Error(s(331));var P=Te;if(Te|=4,r_(E.current),i_(E,E.current,I,l),Te=P,fu(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Ke,E)}catch{}return!0}finally{At.p=y,rt.T=f,C_(i,o)}}function x_(i,o,l){o=u(l,o),o=Hd(i.stateNode,o,2),i=vr(i,o,2),i!==null&&(wi(i,2),hs(i))}function Ie(i,o,l){if(i.tag===3)x_(i,i,l);else for(;o!==null;){if(o.tag===3){x_(o,i,l);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Ar===null||!Ar.has(f))){i=u(l,i),l=bg(2),f=vr(o,l,2),f!==null&&(Ig(l,f,o,i),wi(f,2),hs(f));break}}o=o.return}}function fh(i,o,l){var f=i.pingCache;if(f===null){f=i.pingCache=new dw;var y=new Set;f.set(o,y)}else y=f.get(o),y===void 0&&(y=new Set,f.set(o,y));y.has(l)||(ih=!0,y.add(l),i=_w.bind(null,i,o,l),o.then(i,i))}function _w(i,o,l){var f=i.pingCache;f!==null&&f.delete(o),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,Ue===i&&(se&l)===l&&(tn===4||tn===3&&(se&62914560)===se&&300>en()-Mc?(Te&2)===0&&ml(i,0):oh|=l,hl===se&&(hl=0)),hs(i)}function b_(i,o){o===0&&(o=Si()),i=co(i,o),i!==null&&(wi(i,o),hs(i))}function yw(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),b_(i,l)}function vw(i,o){var l=0;switch(i.tag){case 31:case 13:var f=i.stateNode,y=i.memoizedState;y!==null&&(l=y.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(s(314))}f!==null&&f.delete(o),b_(i,l)}function Tw(i,o){return De(i,o)}var zc=null,_l=null,dh=!1,Bc=!1,hh=!1,Ir=0;function hs(i){i!==_l&&i.next===null&&(_l===null?zc=_l=i:_l=_l.next=i),Bc=!0,dh||(dh=!0,Sw())}function fu(i,o){if(!hh&&Bc){hh=!0;do for(var l=!1,f=zc;f!==null;){if(i!==0){var y=f.pendingLanes;if(y===0)var E=0;else{var I=f.suspendedLanes,P=f.pingedLanes;E=(1<<31-Oe(42|i)+1)-1,E&=y&~(I&~P),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(l=!0,M_(f,E))}else E=se,E=Ei(f,f===Ue?E:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(E&3)===0||Mn(f,E)||(l=!0,M_(f,E));f=f.next}while(l);hh=!1}}function Ew(){I_()}function I_(){Bc=dh=!1;var i=0;Ir!==0&&Pw()&&(i=Ir);for(var o=en(),l=null,f=zc;f!==null;){var y=f.next,E=R_(f,o);E===0?(f.next=null,l===null?zc=y:l.next=y,y===null&&(_l=l)):(l=f,(i!==0||(E&3)!==0)&&(Bc=!0)),f=y}_n!==0&&_n!==5||fu(i),Ir!==0&&(Ir=0)}function R_(i,o){for(var l=i.suspendedLanes,f=i.pingedLanes,y=i.expirationTimes,E=i.pendingLanes&-62914561;0<E;){var I=31-Oe(E),P=1<<I,G=y[I];G===-1?((P&l)===0||(P&f)!==0)&&(y[I]=er(P,o)):G<=o&&(i.expiredLanes|=P),E&=~P}if(o=Ue,l=se,l=Ei(i,i===o?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,l===0||i===o&&(be===2||be===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&sn(f),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Mn(i,l)){if(o=l&-l,o===i.callbackPriority)return o;switch(f!==null&&sn(f),Pt(l)){case 2:case 8:l=To;break;case 32:l=vi;break;case 268435456:l=Yo;break;default:l=vi}return f=N_.bind(null,i),l=De(l,f),i.callbackPriority=o,i.callbackNode=l,o}return f!==null&&f!==null&&sn(f),i.callbackPriority=2,i.callbackNode=null,2}function N_(i,o){if(_n!==0&&_n!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Oc()&&i.callbackNode!==l)return null;var f=se;return f=Ei(i,i===Ue?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(f_(i,f,o),R_(i,en()),i.callbackNode!=null&&i.callbackNode===l?N_.bind(null,i):null)}function M_(i,o){if(Oc())return null;f_(i,o,!0)}function Sw(){Lw(function(){(Te&6)!==0?De(no,Ew):I_()})}function ph(){if(Ir===0){var i=nl;i===0&&(i=Hn,Hn<<=1,(Hn&261888)===0&&(Hn=256)),Ir=i}return Ir}function P_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:so(""+i)}function D_(i,o){var l=o.ownerDocument.createElement("input");return l.name=o.name,l.value=o.value,i.id&&l.setAttribute("form",i.id),o.parentNode.insertBefore(l,o),i=new FormData(i),l.parentNode.removeChild(l),i}function ww(i,o,l,f,y){if(o==="submit"&&l&&l.stateNode===y){var E=P_((y[ze]||null).action),I=f.submitter;I&&(o=(o=I[ze]||null)?P_(o.formAction):I.getAttribute("formAction"),o!==null&&(E=o,I=null));var P=new Sn("action","action",null,f,y);i.push({event:P,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Ir!==0){var G=I?D_(y,I):new FormData(y);Ld(l,{pending:!0,data:G,method:y.method,action:E},null,G)}}else typeof E=="function"&&(P.preventDefault(),G=I?D_(y,I):new FormData(y),Ld(l,{pending:!0,data:G,method:y.method,action:E},E,G))},currentTarget:y}]})}}for(var mh=0;mh<as.length;mh++){var gh=as[mh],Cw=gh.toLowerCase(),Aw=gh[0].toUpperCase()+gh.slice(1);Ii(Cw,"on"+Aw)}Ii(ua,"onAnimationEnd"),Ii(ic,"onAnimationIteration"),Ii(ca,"onAnimationStart"),Ii("dblclick","onDoubleClick"),Ii("focusin","onFocus"),Ii("focusout","onBlur"),Ii(sd,"onTransitionRun"),Ii(oc,"onTransitionStart"),Ii(rd,"onTransitionCancel"),Ii(pr,"onTransitionEnd"),Zn("onMouseEnter",["mouseout","mouseover"]),Zn("onMouseLeave",["mouseout","mouseover"]),Zn("onPointerEnter",["pointerout","pointerover"]),Zn("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(du));function L_(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var f=i[l],y=f.event;f=f.listeners;t:{var E=void 0;if(o)for(var I=f.length-1;0<=I;I--){var P=f[I],G=P.instance,et=P.currentTarget;if(P=P.listener,G!==E&&y.isPropagationStopped())break t;E=P,y.currentTarget=et;try{E(y)}catch(ht){fa(ht)}y.currentTarget=null,E=G}else for(I=0;I<f.length;I++){if(P=f[I],G=P.instance,et=P.currentTarget,P=P.listener,G!==E&&y.isPropagationStopped())break t;E=P,y.currentTarget=et;try{E(y)}catch(ht){fa(ht)}y.currentTarget=null,E=G}}}}function ie(i,o){var l=o[si];l===void 0&&(l=o[si]=new Set);var f=i+"__bubble";l.has(f)||(k_(o,i,2,!1),l.add(f))}function _h(i,o,l){var f=0;o&&(f|=4),k_(l,i,f,o)}var Hc="_reactListening"+Math.random().toString(36).slice(2);function yh(i){if(!i[Hc]){i[Hc]=!0,As.forEach(function(l){l!=="selectionchange"&&(xw.has(l)||_h(l,!1,i),_h(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Hc]||(o[Hc]=!0,_h("selectionchange",!1,o))}}function k_(i,o,l,f){switch(cy(o)){case 2:var y=tC;break;case 8:y=eC;break;default:y=Dh}l=y.bind(null,o,l,i),y=void 0,!yt||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),f?y!==void 0?i.addEventListener(o,l,{capture:!0,passive:y}):i.addEventListener(o,l,!0):y!==void 0?i.addEventListener(o,l,{passive:y}):i.addEventListener(o,l,!1)}function vh(i,o,l,f,y){var E=f;if((o&1)===0&&(o&2)===0&&f!==null)t:for(;;){if(f===null)return;var I=f.tag;if(I===3||I===4){var P=f.stateNode.containerInfo;if(P===y)break;if(I===4)for(I=f.return;I!==null;){var G=I.tag;if((G===3||G===4)&&I.stateNode.containerInfo===y)return;I=I.return}for(;P!==null;){if(I=Ci(P),I===null)return;if(G=I.tag,G===5||G===6||G===26||G===27){f=E=I;continue t}P=P.parentNode}}f=f.return}Gi(function(){var et=E,ht=Tn(l),gt=[];t:{var it=sc.get(i);if(it!==void 0){var at=Sn,Dt=i;switch(i){case"keypress":if(En(l)===0)break t;case"keydown":case"keyup":at=ea;break;case"focusin":Dt="focus",at=bs;break;case"focusout":Dt="blur",at=bs;break;case"beforeblur":case"afterblur":at=bs;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":at=Wr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":at=Fa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":at=R;break;case ua:case ic:case ca:at=ir;break;case pr:at=Q;break;case"scroll":case"scrollend":at=Kt;break;case"wheel":at=wt;break;case"copy":case"cut":case"paste":at=ai;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":at=m;break;case"toggle":case"beforetoggle":at=ke}var Bt=(o&4)!==0,Pe=!Bt&&(i==="scroll"||i==="scrollend"),W=Bt?it!==null?it+"Capture":null:it;Bt=[];for(var Z=et,tt;Z!==null;){var pt=Z;if(tt=pt.stateNode,pt=pt.tag,pt!==5&&pt!==26&&pt!==27||tt===null||W===null||(pt=Pn(Z,W),pt!=null&&Bt.push(hu(Z,pt,tt))),Pe)break;Z=Z.return}0<Bt.length&&(it=new at(it,Dt,null,l,ht),gt.push({event:it,listeners:Bt}))}}if((o&7)===0){t:{if(it=i==="mouseover"||i==="pointerover",at=i==="mouseout"||i==="pointerout",it&&l!==es&&(Dt=l.relatedTarget||l.fromElement)&&(Ci(Dt)||Dt[Gn]))break t;if((at||it)&&(it=ht.window===ht?ht:(it=ht.ownerDocument)?it.defaultView||it.parentWindow:window,at?(Dt=l.relatedTarget||l.toElement,at=et,Dt=Dt?Ci(Dt):null,Dt!==null&&(Pe=c(Dt),Bt=Dt.tag,Dt!==Pe||Bt!==5&&Bt!==27&&Bt!==6)&&(Dt=null)):(at=null,Dt=et),at!==Dt)){if(Bt=Wr,pt="onMouseLeave",W="onMouseEnter",Z="mouse",(i==="pointerout"||i==="pointerover")&&(Bt=m,pt="onPointerLeave",W="onPointerEnter",Z="pointer"),Pe=at==null?it:an(at),tt=Dt==null?it:an(Dt),it=new Bt(pt,Z+"leave",at,l,ht),it.target=Pe,it.relatedTarget=tt,pt=null,Ci(ht)===et&&(Bt=new Bt(W,Z+"enter",Dt,l,ht),Bt.target=tt,Bt.relatedTarget=Pe,pt=Bt),Pe=pt,at&&Dt)e:{for(Bt=bw,W=at,Z=Dt,tt=0,pt=W;pt;pt=Bt(pt))tt++;pt=0;for(var zt=Z;zt;zt=Bt(zt))pt++;for(;0<tt-pt;)W=Bt(W),tt--;for(;0<pt-tt;)Z=Bt(Z),pt--;for(;tt--;){if(W===Z||Z!==null&&W===Z.alternate){Bt=W;break e}W=Bt(W),Z=Bt(Z)}Bt=null}else Bt=null;at!==null&&U_(gt,it,at,Bt,!1),Dt!==null&&Pe!==null&&U_(gt,Pe,Dt,Bt,!0)}}t:{if(it=et?an(et):window,at=it.nodeName&&it.nodeName.toLowerCase(),at==="select"||at==="input"&&it.type==="file")var pe=sa;else if(ao(it))if(Qu)pe=od;else{pe=id;var Lt=Mo}else at=it.nodeName,!at||at.toLowerCase()!=="input"||it.type!=="checkbox"&&it.type!=="radio"?et&&oo(et.elementType)&&(pe=sa):pe=cr;if(pe&&(pe=pe(i,et))){$u(gt,pe,l,ht);break t}Lt&&Lt(i,it,et),i==="focusout"&&et&&it.type==="number"&&et.memoizedProps.value!=null&&pn(it,"number",it.value)}switch(Lt=et?an(et):window,i){case"focusin":(ao(Lt)||Lt.contentEditable==="true")&&(ss=Lt,Wa=et,la=null);break;case"focusout":la=Wa=ss=null;break;case"mousedown":dr=!0;break;case"contextmenu":case"mouseup":case"dragend":dr=!1,ec(gt,l,ht);break;case"selectionchange":if(Ka)break;case"keydown":case"keyup":ec(gt,l,ht)}var jt;if(Ve)t:{switch(i){case"compositionstart":var re="onCompositionStart";break t;case"compositionend":re="onCompositionEnd";break t;case"compositionupdate":re="onCompositionUpdate";break t}re=void 0}else ar?rr(i,l)&&(re="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(re="onCompositionStart");re&&(li&&l.locale!=="ko"&&(ar||re!=="onCompositionStart"?re==="onCompositionEnd"&&ar&&(jt=Xe()):(Gt=ht,we="value"in Gt?Gt.value:Gt.textContent,ar=!0)),Lt=Vc(et,re),0<Lt.length&&(re=new Fi(re,i,null,l,ht),gt.push({event:re,listeners:Lt}),jt?re.data=jt:(jt=zl(l),jt!==null&&(re.data=jt)))),(jt=No?Zi(i,l):lr(i,l))&&(re=Vc(et,"onBeforeInput"),0<re.length&&(Lt=new Fi("onBeforeInput","beforeinput",null,l,ht),gt.push({event:Lt,listeners:re}),Lt.data=jt)),ww(gt,i,et,l,ht)}L_(gt,o)})}function hu(i,o,l){return{instance:i,listener:o,currentTarget:l}}function Vc(i,o){for(var l=o+"Capture",f=[];i!==null;){var y=i,E=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||E===null||(y=Pn(i,l),y!=null&&f.unshift(hu(i,y,E)),y=Pn(i,o),y!=null&&f.push(hu(i,y,E))),i.tag===3)return f;i=i.return}return[]}function bw(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function U_(i,o,l,f,y){for(var E=o._reactName,I=[];l!==null&&l!==f;){var P=l,G=P.alternate,et=P.stateNode;if(P=P.tag,G!==null&&G===f)break;P!==5&&P!==26&&P!==27||et===null||(G=et,y?(et=Pn(l,E),et!=null&&I.unshift(hu(l,et,G))):y||(et=Pn(l,E),et!=null&&I.push(hu(l,et,G)))),l=l.return}I.length!==0&&i.push({event:o,listeners:I})}var Iw=/\r\n?/g,Rw=/\u0000|\uFFFD/g;function O_(i){return(typeof i=="string"?i:""+i).replace(Iw,`
`).replace(Rw,"")}function z_(i,o){return o=O_(o),O_(i)===o}function Me(i,o,l,f,y,E){switch(l){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||We(i,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&We(i,""+f);break;case"className":Zt(i,"class",f);break;case"tabIndex":Zt(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Zt(i,l,f);break;case"style":bo(i,f,E);break;case"data":if(o!=="object"){Zt(i,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||l!=="href")){i.removeAttribute(l);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(l);break}f=so(""+f),i.setAttribute(l,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(l==="formAction"?(o!=="input"&&Me(i,o,"name",y.name,y,null),Me(i,o,"formEncType",y.formEncType,y,null),Me(i,o,"formMethod",y.formMethod,y,null),Me(i,o,"formTarget",y.formTarget,y,null)):(Me(i,o,"encType",y.encType,y,null),Me(i,o,"method",y.method,y,null),Me(i,o,"target",y.target,y,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(l);break}f=so(""+f),i.setAttribute(l,f);break;case"onClick":f!=null&&(i.onclick=vn);break;case"onScroll":f!=null&&ie("scroll",i);break;case"onScrollEnd":f!=null&&ie("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(s(61));if(l=f.__html,l!=null){if(y.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}l=so(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,""+f):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":f===!0?i.setAttribute(l,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,f):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(l,f):i.removeAttribute(l);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(l):i.setAttribute(l,f);break;case"popover":ie("beforetoggle",i),ie("toggle",i),$t(i,"popover",f);break;case"xlinkActuate":Re(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Re(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Re(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Re(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Re(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Re(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Re(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Re(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Re(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":$t(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Io.get(l)||l,$t(i,l,f))}}function Th(i,o,l,f,y,E){switch(l){case"style":bo(i,f,E);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(s(61));if(l=f.__html,l!=null){if(y.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"children":typeof f=="string"?We(i,f):(typeof f=="number"||typeof f=="bigint")&&We(i,""+f);break;case"onScroll":f!=null&&ie("scroll",i);break;case"onScrollEnd":f!=null&&ie("scrollend",i);break;case"onClick":f!=null&&(i.onclick=vn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$o.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(y=l.endsWith("Capture"),o=l.slice(2,y?l.length-7:void 0),E=i[ze]||null,E=E!=null?E[l]:null,typeof E=="function"&&i.removeEventListener(o,E,y),typeof f=="function")){typeof E!="function"&&E!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(o,f,y);break t}l in i?i[l]=f:f===!0?i.setAttribute(l,""):$t(i,l,f)}}}function On(i,o,l){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ie("error",i),ie("load",i);var f=!1,y=!1,E;for(E in l)if(l.hasOwnProperty(E)){var I=l[E];if(I!=null)switch(E){case"src":f=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:Me(i,o,E,I,l,null)}}y&&Me(i,o,"srcSet",l.srcSet,l,null),f&&Me(i,o,"src",l.src,l,null);return;case"input":ie("invalid",i);var P=E=I=y=null,G=null,et=null;for(f in l)if(l.hasOwnProperty(f)){var ht=l[f];if(ht!=null)switch(f){case"name":y=ht;break;case"type":I=ht;break;case"checked":G=ht;break;case"defaultChecked":et=ht;break;case"value":E=ht;break;case"defaultValue":P=ht;break;case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(s(137,o));break;default:Me(i,o,f,ht,l,null)}}xo(i,E,P,G,et,I,y,!1);return;case"select":ie("invalid",i),f=I=E=null;for(y in l)if(l.hasOwnProperty(y)&&(P=l[y],P!=null))switch(y){case"value":E=P;break;case"defaultValue":I=P;break;case"multiple":f=P;default:Me(i,o,y,P,l,null)}o=E,l=I,i.multiple=!!f,o!=null?ve(i,!!f,o,!1):l!=null&&ve(i,!!f,l,!0);return;case"textarea":ie("invalid",i),E=y=f=null;for(I in l)if(l.hasOwnProperty(I)&&(P=l[I],P!=null))switch(I){case"value":f=P;break;case"defaultValue":y=P;break;case"children":E=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(91));break;default:Me(i,o,I,P,l,null)}Kn(i,f,y,E);return;case"option":for(G in l)if(l.hasOwnProperty(G)&&(f=l[G],f!=null))switch(G){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Me(i,o,G,f,l,null)}return;case"dialog":ie("beforetoggle",i),ie("toggle",i),ie("cancel",i),ie("close",i);break;case"iframe":case"object":ie("load",i);break;case"video":case"audio":for(f=0;f<du.length;f++)ie(du[f],i);break;case"image":ie("error",i),ie("load",i);break;case"details":ie("toggle",i);break;case"embed":case"source":case"link":ie("error",i),ie("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(et in l)if(l.hasOwnProperty(et)&&(f=l[et],f!=null))switch(et){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:Me(i,o,et,f,l,null)}return;default:if(oo(o)){for(ht in l)l.hasOwnProperty(ht)&&(f=l[ht],f!==void 0&&Th(i,o,ht,f,l,void 0));return}}for(P in l)l.hasOwnProperty(P)&&(f=l[P],f!=null&&Me(i,o,P,f,l,null))}function Nw(i,o,l,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,E=null,I=null,P=null,G=null,et=null,ht=null;for(at in l){var gt=l[at];if(l.hasOwnProperty(at)&&gt!=null)switch(at){case"checked":break;case"value":break;case"defaultValue":G=gt;default:f.hasOwnProperty(at)||Me(i,o,at,null,f,gt)}}for(var it in f){var at=f[it];if(gt=l[it],f.hasOwnProperty(it)&&(at!=null||gt!=null))switch(it){case"type":E=at;break;case"name":y=at;break;case"checked":et=at;break;case"defaultChecked":ht=at;break;case"value":I=at;break;case"defaultValue":P=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(s(137,o));break;default:at!==gt&&Me(i,o,it,at,f,gt)}}jo(i,I,P,G,et,ht,E,y);return;case"select":at=I=P=it=null;for(E in l)if(G=l[E],l.hasOwnProperty(E)&&G!=null)switch(E){case"value":break;case"multiple":at=G;default:f.hasOwnProperty(E)||Me(i,o,E,null,f,G)}for(y in f)if(E=f[y],G=l[y],f.hasOwnProperty(y)&&(E!=null||G!=null))switch(y){case"value":it=E;break;case"defaultValue":P=E;break;case"multiple":I=E;default:E!==G&&Me(i,o,y,E,f,G)}o=P,l=I,f=at,it!=null?ve(i,!!l,it,!1):!!f!=!!l&&(o!=null?ve(i,!!l,o,!0):ve(i,!!l,l?[]:"",!1));return;case"textarea":at=it=null;for(P in l)if(y=l[P],l.hasOwnProperty(P)&&y!=null&&!f.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:Me(i,o,P,null,f,y)}for(I in f)if(y=f[I],E=l[I],f.hasOwnProperty(I)&&(y!=null||E!=null))switch(I){case"value":it=y;break;case"defaultValue":at=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(s(91));break;default:y!==E&&Me(i,o,I,y,f,E)}Yn(i,it,at);return;case"option":for(var Dt in l)if(it=l[Dt],l.hasOwnProperty(Dt)&&it!=null&&!f.hasOwnProperty(Dt))switch(Dt){case"selected":i.selected=!1;break;default:Me(i,o,Dt,null,f,it)}for(G in f)if(it=f[G],at=l[G],f.hasOwnProperty(G)&&it!==at&&(it!=null||at!=null))switch(G){case"selected":i.selected=it&&typeof it!="function"&&typeof it!="symbol";break;default:Me(i,o,G,it,f,at)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Bt in l)it=l[Bt],l.hasOwnProperty(Bt)&&it!=null&&!f.hasOwnProperty(Bt)&&Me(i,o,Bt,null,f,it);for(et in f)if(it=f[et],at=l[et],f.hasOwnProperty(et)&&it!==at&&(it!=null||at!=null))switch(et){case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(s(137,o));break;default:Me(i,o,et,it,f,at)}return;default:if(oo(o)){for(var Pe in l)it=l[Pe],l.hasOwnProperty(Pe)&&it!==void 0&&!f.hasOwnProperty(Pe)&&Th(i,o,Pe,void 0,f,it);for(ht in f)it=f[ht],at=l[ht],!f.hasOwnProperty(ht)||it===at||it===void 0&&at===void 0||Th(i,o,ht,it,f,at);return}}for(var W in l)it=l[W],l.hasOwnProperty(W)&&it!=null&&!f.hasOwnProperty(W)&&Me(i,o,W,null,f,it);for(gt in f)it=f[gt],at=l[gt],!f.hasOwnProperty(gt)||it===at||it==null&&at==null||Me(i,o,gt,it,f,at)}function B_(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Mw(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,l=performance.getEntriesByType("resource"),f=0;f<l.length;f++){var y=l[f],E=y.transferSize,I=y.initiatorType,P=y.duration;if(E&&P&&B_(I)){for(I=0,P=y.responseEnd,f+=1;f<l.length;f++){var G=l[f],et=G.startTime;if(et>P)break;var ht=G.transferSize,gt=G.initiatorType;ht&&B_(gt)&&(G=G.responseEnd,I+=ht*(G<P?1:(P-et)/(G-et)))}if(--f,o+=8*(E+I)/(y.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Eh=null,Sh=null;function Gc(i){return i.nodeType===9?i:i.ownerDocument}function H_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function V_(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function wh(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ch=null;function Pw(){var i=window.event;return i&&i.type==="popstate"?i===Ch?!1:(Ch=i,!0):(Ch=null,!1)}var G_=typeof setTimeout=="function"?setTimeout:void 0,Dw=typeof clearTimeout=="function"?clearTimeout:void 0,F_=typeof Promise=="function"?Promise:void 0,Lw=typeof queueMicrotask=="function"?queueMicrotask:typeof F_<"u"?function(i){return F_.resolve(null).then(i).catch(kw)}:G_;function kw(i){setTimeout(function(){throw i})}function Rr(i){return i==="head"}function q_(i,o){var l=o,f=0;do{var y=l.nextSibling;if(i.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"||l==="/&"){if(f===0){i.removeChild(y),El(o);return}f--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")f++;else if(l==="html")pu(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,pu(l);for(var E=l.firstChild;E;){var I=E.nextSibling,P=E.nodeName;E[Bi]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&E.rel.toLowerCase()==="stylesheet"||l.removeChild(E),E=I}}else l==="body"&&pu(i.ownerDocument.body);l=y}while(l);El(o)}function Z_(i,o){var l=i;i=0;do{var f=l.nextSibling;if(l.nodeType===1?o?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(o?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=f}while(l)}function Ah(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var l=o;switch(o=o.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Ah(l),Xo(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function Uw(i,o,l,f){for(;i.nodeType===1;){var y=l;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[Bi])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(E=i.getAttribute("rel"),E==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(E!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(E=i.getAttribute("src"),(E!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&E&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var E=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===E)return i}else return i;if(i=po(i.nextSibling),i===null)break}return null}function Ow(i,o,l){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=po(i.nextSibling),i===null))return null;return i}function J_(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=po(i.nextSibling),i===null))return null;return i}function xh(i){return i.data==="$?"||i.data==="$~"}function bh(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function zw(i,o){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||l.readyState!=="loading")o();else{var f=function(){o(),l.removeEventListener("DOMContentLoaded",f)};l.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function po(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var Ih=null;function Y_(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(o===0)return po(i.nextSibling);o--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||o++}i=i.nextSibling}return null}function K_(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(o===0)return i;o--}else l!=="/$"&&l!=="/&"||o++}i=i.previousSibling}return null}function W_(i,o,l){switch(o=Gc(l),i){case"html":if(i=o.documentElement,!i)throw Error(s(452));return i;case"head":if(i=o.head,!i)throw Error(s(453));return i;case"body":if(i=o.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function pu(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Xo(i)}var mo=new Map,X_=new Set;function Fc(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Fs=At.d;At.d={f:Bw,r:Hw,D:Vw,C:Gw,L:Fw,m:qw,X:Jw,S:Zw,M:Yw};function Bw(){var i=Fs.f(),o=Lc();return i||o}function Hw(i){var o=Fn(i);o!==null&&o.tag===5&&o.type==="form"?hg(o):Fs.r(i)}var yl=typeof document>"u"?null:document;function $_(i,o,l){var f=yl;if(f&&typeof o=="string"&&o){var y=Ae(o);y='link[rel="'+i+'"][href="'+y+'"]',typeof l=="string"&&(y+='[crossorigin="'+l+'"]'),X_.has(y)||(X_.add(y),i={rel:i,crossOrigin:l,href:o},f.querySelector(y)===null&&(o=f.createElement("link"),On(o,"link",i),Ze(o),f.head.appendChild(o)))}}function Vw(i){Fs.D(i),$_("dns-prefetch",i,null)}function Gw(i,o){Fs.C(i,o),$_("preconnect",i,o)}function Fw(i,o,l){Fs.L(i,o,l);var f=yl;if(f&&i&&o){var y='link[rel="preload"][as="'+Ae(o)+'"]';o==="image"&&l&&l.imageSrcSet?(y+='[imagesrcset="'+Ae(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(y+='[imagesizes="'+Ae(l.imageSizes)+'"]')):y+='[href="'+Ae(i)+'"]';var E=y;switch(o){case"style":E=vl(i);break;case"script":E=Tl(i)}mo.has(E)||(i=x({rel:"preload",href:o==="image"&&l&&l.imageSrcSet?void 0:i,as:o},l),mo.set(E,i),f.querySelector(y)!==null||o==="style"&&f.querySelector(mu(E))||o==="script"&&f.querySelector(gu(E))||(o=f.createElement("link"),On(o,"link",i),Ze(o),f.head.appendChild(o)))}}function qw(i,o){Fs.m(i,o);var l=yl;if(l&&i){var f=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+Ae(f)+'"][href="'+Ae(i)+'"]',E=y;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=Tl(i)}if(!mo.has(E)&&(i=x({rel:"modulepreload",href:i},o),mo.set(E,i),l.querySelector(y)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(gu(E)))return}f=l.createElement("link"),On(f,"link",i),Ze(f),l.head.appendChild(f)}}}function Zw(i,o,l){Fs.S(i,o,l);var f=yl;if(f&&i){var y=qn(f).hoistableStyles,E=vl(i);o=o||"default";var I=y.get(E);if(!I){var P={loading:0,preload:null};if(I=f.querySelector(mu(E)))P.loading=5;else{i=x({rel:"stylesheet",href:i,"data-precedence":o},l),(l=mo.get(E))&&Rh(i,l);var G=I=f.createElement("link");Ze(G),On(G,"link",i),G._p=new Promise(function(et,ht){G.onload=et,G.onerror=ht}),G.addEventListener("load",function(){P.loading|=1}),G.addEventListener("error",function(){P.loading|=2}),P.loading|=4,qc(I,o,f)}I={type:"stylesheet",instance:I,count:1,state:P},y.set(E,I)}}}function Jw(i,o){Fs.X(i,o);var l=yl;if(l&&i){var f=qn(l).hoistableScripts,y=Tl(i),E=f.get(y);E||(E=l.querySelector(gu(y)),E||(i=x({src:i,async:!0},o),(o=mo.get(y))&&Nh(i,o),E=l.createElement("script"),Ze(E),On(E,"link",i),l.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},f.set(y,E))}}function Yw(i,o){Fs.M(i,o);var l=yl;if(l&&i){var f=qn(l).hoistableScripts,y=Tl(i),E=f.get(y);E||(E=l.querySelector(gu(y)),E||(i=x({src:i,async:!0,type:"module"},o),(o=mo.get(y))&&Nh(i,o),E=l.createElement("script"),Ze(E),On(E,"link",i),l.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},f.set(y,E))}}function Q_(i,o,l,f){var y=(y=xt.current)?Fc(y):null;if(!y)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(o=vl(l.href),l=qn(y).hoistableStyles,f=l.get(o),f||(f={type:"style",instance:null,count:0,state:null},l.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=vl(l.href);var E=qn(y).hoistableStyles,I=E.get(i);if(I||(y=y.ownerDocument||y,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(i,I),(E=y.querySelector(mu(i)))&&!E._p&&(I.instance=E,I.state.loading=5),mo.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},mo.set(i,l),E||Kw(y,i,l,I.state))),o&&f===null)throw Error(s(528,""));return I}if(o&&f!==null)throw Error(s(529,""));return null;case"script":return o=l.async,l=l.src,typeof l=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Tl(l),l=qn(y).hoistableScripts,f=l.get(o),f||(f={type:"script",instance:null,count:0,state:null},l.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function vl(i){return'href="'+Ae(i)+'"'}function mu(i){return'link[rel="stylesheet"]['+i+"]"}function j_(i){return x({},i,{"data-precedence":i.precedence,precedence:null})}function Kw(i,o,l,f){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=i.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),On(o,"link",l),Ze(o),i.head.appendChild(o))}function Tl(i){return'[src="'+Ae(i)+'"]'}function gu(i){return"script[async]"+i}function ty(i,o,l){if(o.count++,o.instance===null)switch(o.type){case"style":var f=i.querySelector('style[data-href~="'+Ae(l.href)+'"]');if(f)return o.instance=f,Ze(f),f;var y=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),Ze(f),On(f,"style",y),qc(f,l.precedence,i),o.instance=f;case"stylesheet":y=vl(l.href);var E=i.querySelector(mu(y));if(E)return o.state.loading|=4,o.instance=E,Ze(E),E;f=j_(l),(y=mo.get(y))&&Rh(f,y),E=(i.ownerDocument||i).createElement("link"),Ze(E);var I=E;return I._p=new Promise(function(P,G){I.onload=P,I.onerror=G}),On(E,"link",f),o.state.loading|=4,qc(E,l.precedence,i),o.instance=E;case"script":return E=Tl(l.src),(y=i.querySelector(gu(E)))?(o.instance=y,Ze(y),y):(f=l,(y=mo.get(E))&&(f=x({},l),Nh(f,y)),i=i.ownerDocument||i,y=i.createElement("script"),Ze(y),On(y,"link",f),i.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(s(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(f=o.instance,o.state.loading|=4,qc(f,l.precedence,i));return o.instance}function qc(i,o,l){for(var f=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=f.length?f[f.length-1]:null,E=y,I=0;I<f.length;I++){var P=f[I];if(P.dataset.precedence===o)E=P;else if(E!==y)break}E?E.parentNode.insertBefore(i,E.nextSibling):(o=l.nodeType===9?l.head:l,o.insertBefore(i,o.firstChild))}function Rh(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function Nh(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Zc=null;function ey(i,o,l){if(Zc===null){var f=new Map,y=Zc=new Map;y.set(l,f)}else y=Zc,f=y.get(l),f||(f=new Map,y.set(l,f));if(f.has(i))return f;for(f.set(i,null),l=l.getElementsByTagName(i),y=0;y<l.length;y++){var E=l[y];if(!(E[Bi]||E[He]||i==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var I=E.getAttribute(o)||"";I=i+I;var P=f.get(I);P?P.push(E):f.set(I,[E])}}return f}function ny(i,o,l){i=i.ownerDocument||i,i.head.insertBefore(l,o==="title"?i.querySelector("head > title"):null)}function Ww(i,o,l){if(l===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function iy(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function Xw(i,o,l,f){if(l.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var y=vl(f.href),E=o.querySelector(mu(y));if(E){o=E._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=Jc.bind(i),o.then(i,i)),l.state.loading|=4,l.instance=E,Ze(E);return}E=o.ownerDocument||o,f=j_(f),(y=mo.get(y))&&Rh(f,y),E=E.createElement("link"),Ze(E);var I=E;I._p=new Promise(function(P,G){I.onload=P,I.onerror=G}),On(E,"link",f),l.instance=E}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,o),(o=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=Jc.bind(i),o.addEventListener("load",l),o.addEventListener("error",l))}}var Mh=0;function $w(i,o){return i.stylesheets&&i.count===0&&Kc(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var f=setTimeout(function(){if(i.stylesheets&&Kc(i,i.stylesheets),i.unsuspend){var E=i.unsuspend;i.unsuspend=null,E()}},6e4+o);0<i.imgBytes&&Mh===0&&(Mh=62500*Mw());var y=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Kc(i,i.stylesheets),i.unsuspend)){var E=i.unsuspend;i.unsuspend=null,E()}},(i.imgBytes>Mh?50:800)+o);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(f),clearTimeout(y)}}:null}function Jc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Kc(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Yc=null;function Kc(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Yc=new Map,o.forEach(Qw,i),Yc=null,Jc.call(i))}function Qw(i,o){if(!(o.state.loading&4)){var l=Yc.get(i);if(l)var f=l.get(null);else{l=new Map,Yc.set(i,l);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<y.length;E++){var I=y[E];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(l.set(I.dataset.precedence,I),f=I)}f&&l.set(null,f)}y=o.instance,I=y.getAttribute("data-precedence"),E=l.get(I)||f,E===f&&l.set(null,y),l.set(I,y),this.count++,f=Jc.bind(this),y.addEventListener("load",f),y.addEventListener("error",f),E?E.parentNode.insertBefore(y,E.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),o.state.loading|=4}}var _u={$$typeof:lt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function jw(i,o,l,f,y,E,I,P,G){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=f,this.onUncaughtError=y,this.onCaughtError=E,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function oy(i,o,l,f,y,E,I,P,G,et,ht,gt){return i=new jw(i,o,l,I,G,et,ht,gt,P),o=1,E===!0&&(o|=24),E=$n(3,null,null,o),i.current=E,E.stateNode=i,o=cd(),o.refCount++,i.pooledCache=o,o.refCount++,E.memoizedState={element:f,isDehydrated:l,cache:o},pd(E),i}function sy(i){return i?(i=Rs,i):Rs}function ry(i,o,l,f,y,E){y=sy(y),f.context===null?f.context=y:f.pendingContext=y,f=yr(o),f.payload={element:l},E=E===void 0?null:E,E!==null&&(f.callback=E),l=vr(i,f,o),l!==null&&(ki(l,i,o),Wl(l,i,o))}function ay(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function Ph(i,o){ay(i,o),(i=i.alternate)&&ay(i,o)}function ly(i){if(i.tag===13||i.tag===31){var o=co(i,67108864);o!==null&&ki(o,i,67108864),Ph(i,67108864)}}function uy(i){if(i.tag===13||i.tag===31){var o=Xi();o=rn(o);var l=co(i,o);l!==null&&ki(l,i,o),Ph(i,o)}}var Wc=!0;function tC(i,o,l,f){var y=rt.T;rt.T=null;var E=At.p;try{At.p=2,Dh(i,o,l,f)}finally{At.p=E,rt.T=y}}function eC(i,o,l,f){var y=rt.T;rt.T=null;var E=At.p;try{At.p=8,Dh(i,o,l,f)}finally{At.p=E,rt.T=y}}function Dh(i,o,l,f){if(Wc){var y=Lh(f);if(y===null)vh(i,o,f,Xc,l),fy(i,f);else if(iC(y,i,o,l,f))f.stopPropagation();else if(fy(i,f),o&4&&-1<nC.indexOf(i)){for(;y!==null;){var E=Fn(y);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var I=ni(E.pendingLanes);if(I!==0){var P=E;for(P.pendingLanes|=2,P.entangledLanes|=2;I;){var G=1<<31-Oe(I);P.entanglements[1]|=G,I&=~G}hs(E),(Te&6)===0&&(Pc=en()+500,fu(0))}}break;case 31:case 13:P=co(E,2),P!==null&&ki(P,E,2),Lc(),Ph(E,2)}if(E=Lh(f),E===null&&vh(i,o,f,Xc,l),E===y)break;y=E}y!==null&&f.stopPropagation()}else vh(i,o,f,null,l)}}function Lh(i){return i=Tn(i),kh(i)}var Xc=null;function kh(i){if(Xc=null,i=Ci(i),i!==null){var o=c(i);if(o===null)i=null;else{var l=o.tag;if(l===13){if(i=d(o),i!==null)return i;i=null}else if(l===31){if(i=_(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Xc=i,null}function cy(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(eo()){case no:return 2;case To:return 8;case vi:case tr:return 32;case Yo:return 268435456;default:return 32}default:return 32}}var Uh=!1,Nr=null,Mr=null,Pr=null,yu=new Map,vu=new Map,Dr=[],nC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fy(i,o){switch(i){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":Pr=null;break;case"pointerover":case"pointerout":yu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":vu.delete(o.pointerId)}}function Tu(i,o,l,f,y,E){return i===null||i.nativeEvent!==E?(i={blockedOn:o,domEventName:l,eventSystemFlags:f,nativeEvent:E,targetContainers:[y]},o!==null&&(o=Fn(o),o!==null&&ly(o)),i):(i.eventSystemFlags|=f,o=i.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),i)}function iC(i,o,l,f,y){switch(o){case"focusin":return Nr=Tu(Nr,i,o,l,f,y),!0;case"dragenter":return Mr=Tu(Mr,i,o,l,f,y),!0;case"mouseover":return Pr=Tu(Pr,i,o,l,f,y),!0;case"pointerover":var E=y.pointerId;return yu.set(E,Tu(yu.get(E)||null,i,o,l,f,y)),!0;case"gotpointercapture":return E=y.pointerId,vu.set(E,Tu(vu.get(E)||null,i,o,l,f,y)),!0}return!1}function dy(i){var o=Ci(i.target);if(o!==null){var l=c(o);if(l!==null){if(o=l.tag,o===13){if(o=d(l),o!==null){i.blockedOn=o,Vn(i.priority,function(){uy(l)});return}}else if(o===31){if(o=_(l),o!==null){i.blockedOn=o,Vn(i.priority,function(){uy(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function $c(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=Lh(i.nativeEvent);if(l===null){l=i.nativeEvent;var f=new l.constructor(l.type,l);es=f,l.target.dispatchEvent(f),es=null}else return o=Fn(l),o!==null&&ly(o),i.blockedOn=l,!1;o.shift()}return!0}function hy(i,o,l){$c(i)&&l.delete(o)}function oC(){Uh=!1,Nr!==null&&$c(Nr)&&(Nr=null),Mr!==null&&$c(Mr)&&(Mr=null),Pr!==null&&$c(Pr)&&(Pr=null),yu.forEach(hy),vu.forEach(hy)}function Qc(i,o){i.blockedOn===o&&(i.blockedOn=null,Uh||(Uh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,oC)))}var jc=null;function py(i){jc!==i&&(jc=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){jc===i&&(jc=null);for(var o=0;o<i.length;o+=3){var l=i[o],f=i[o+1],y=i[o+2];if(typeof f!="function"){if(kh(f||l)===null)continue;break}var E=Fn(l);E!==null&&(i.splice(o,3),o-=3,Ld(E,{pending:!0,data:y,method:l.method,action:f},f,y))}}))}function El(i){function o(G){return Qc(G,i)}Nr!==null&&Qc(Nr,i),Mr!==null&&Qc(Mr,i),Pr!==null&&Qc(Pr,i),yu.forEach(o),vu.forEach(o);for(var l=0;l<Dr.length;l++){var f=Dr[l];f.blockedOn===i&&(f.blockedOn=null)}for(;0<Dr.length&&(l=Dr[0],l.blockedOn===null);)dy(l),l.blockedOn===null&&Dr.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(f=0;f<l.length;f+=3){var y=l[f],E=l[f+1],I=y[ze]||null;if(typeof E=="function")I||py(l);else if(I){var P=null;if(E&&E.hasAttribute("formAction")){if(y=E,I=E[ze]||null)P=I.formAction;else if(kh(y)!==null)continue}else P=I.action;typeof P=="function"?l[f+1]=P:(l.splice(f,3),f-=3),py(l)}}}function my(){function i(E){E.canIntercept&&E.info==="react-transition"&&E.intercept({handler:function(){return new Promise(function(I){return y=I})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),f||setTimeout(l,20)}function l(){if(!f&&!navigation.transition){var E=navigation.currentEntry;E&&E.url!=null&&navigation.navigate(E.url,{state:E.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,y=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(l,100),function(){f=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function Oh(i){this._internalRoot=i}tf.prototype.render=Oh.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(s(409));var l=o.current,f=Xi();ry(l,f,i,o,null,null)},tf.prototype.unmount=Oh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;ry(i.current,2,null,i,null,null),Lc(),o[Gn]=null}};function tf(i){this._internalRoot=i}tf.prototype.unstable_scheduleHydration=function(i){if(i){var o=Wo();i={blockedOn:null,target:i,priority:o};for(var l=0;l<Dr.length&&o!==0&&o<Dr[l].priority;l++);Dr.splice(l,0,i),l===0&&dy(i)}};var gy=t.version;if(gy!=="19.2.4")throw Error(s(527,gy,"19.2.4"));At.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=v(o),i=i!==null?w(i):null,i=i===null?null:i.stateNode,i};var sC={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:rt,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ef=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ef.isDisabled&&ef.supportsFiber)try{Ke=ef.inject(sC),qe=ef}catch{}}return Su.createRoot=function(i,o){if(!a(i))throw Error(s(299));var l=!1,f="",y=wg,E=Cg,I=Ag;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(I=o.onRecoverableError)),o=oy(i,1,!1,null,null,l,f,null,y,E,I,my),i[Gn]=o.current,yh(i),new Oh(o)},Su.hydrateRoot=function(i,o,l){if(!a(i))throw Error(s(299));var f=!1,y="",E=wg,I=Cg,P=Ag,G=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onUncaughtError!==void 0&&(E=l.onUncaughtError),l.onCaughtError!==void 0&&(I=l.onCaughtError),l.onRecoverableError!==void 0&&(P=l.onRecoverableError),l.formState!==void 0&&(G=l.formState)),o=oy(i,1,!0,o,l??null,f,y,G,E,I,P,my),o.context=sy(null),l=o.current,f=Xi(),f=rn(f),y=yr(f),y.callback=null,vr(l,y,f),l=f,o.current.lanes=l,wi(o,l),hs(o),i[Gn]=o.current,yh(i),new tf(o)},Su.version="19.2.4",Su}var xy;function pC(){if(xy)return Hh.exports;xy=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Hh.exports=hC(),Hh.exports}var mC=pC();const gC=Ff(mC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yC=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),by=e=>{const t=yC(e);return t.charAt(0).toUpperCase()+t.slice(1)},ET=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),vC=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var TC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=Et.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:c,iconNode:d,..._},T)=>Et.createElement("svg",{ref:T,...TC,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:ET("lucide",a),...!c&&!vC(_)&&{"aria-hidden":"true"},..._},[...d.map(([v,w])=>Et.createElement(v,w)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=(e,t)=>{const n=Et.forwardRef(({className:s,...a},c)=>Et.createElement(EC,{ref:c,iconNode:t,className:ET(`lucide-${_C(by(e))}`,`lucide-${e}`,s),...a}));return n.displayName=by(e),n};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],bu=te("arrow-right",SC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],CC=te("bell",wC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],nf=te("camera",AC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],bC=te("chart-column",xC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Iy=te("chevron-left",IC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],of=te("circle-check-big",RC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],MC=te("circle-check",NC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]],DC=te("circle-stop",PC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Ry=te("circle-user",LC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],UC=te("download",kC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],zC=te("external-link",OC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],HC=te("file-text",BC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],GC=te("globe",VC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=[["path",{d:"M11 14h2a2 2 0 0 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 16",key:"1v1a37"}],["path",{d:"m14.45 13.39 5.05-4.694C20.196 8 21 6.85 21 5.75a2.75 2.75 0 0 0-4.797-1.837.276.276 0 0 1-.406 0A2.75 2.75 0 0 0 11 5.75c0 1.2.802 2.248 1.5 2.946L16 11.95",key:"fhfbnt"}],["path",{d:"m2 15 6 6",key:"10dquu"}],["path",{d:"m7 20 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a1 1 0 0 0-2.75-2.91",key:"1x6kdw"}]],qC=te("hand-heart",FC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],JC=te("image",ZC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],KC=te("info",YC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],XC=te("lock",WC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],QC=te("log-out",$C);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],tA=te("mail",jC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],mf=te("map-pin",eA);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],iA=te("map",nA);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],sA=te("message-circle",oA);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Ny=te("message-square",rA);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],lA=te("mic",aA);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]],cA=te("music-2",uA);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],dA=te("navigation",fA);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],My=te("paperclip",hA);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],mA=te("pause",pA);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],_A=te("play",gA);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],vA=te("plus",yA);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],EA=te("printer",TA);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],Py=te("qr-code",SA);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],Dy=te("repeat",wA);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],AA=te("send",CA);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],bA=te("sliders-horizontal",xA);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],RA=te("smile",IA);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Ly=te("sparkles",NA);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],sf=te("sprout",MA);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],DA=te("user-plus",PA);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],gf=te("users",LA);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],rf=te("x",kA);var ue=(e=>(e.IDENTIFIED="IDENTIFIED",e.IDEAS_FORMING="IDEAS_FORMING",e.IN_PROGRESS="IN_PROGRESS",e.COMPLETED="COMPLETED",e))(ue||{});const UA=({plot:e,onClick:t})=>{const n=a=>{switch(a){case ue.IDENTIFIED:return"bg-red-100 text-red-700 border-red-200";case ue.IDEAS_FORMING:return"bg-yellow-100 text-yellow-800 border-yellow-200";case ue.IN_PROGRESS:return"bg-emerald-100 text-emerald-700 border-emerald-200";case ue.COMPLETED:return"bg-blue-100 text-blue-700 border-blue-200"}},s=a=>{switch(a){case ue.IDENTIFIED:return"Identified";case ue.IDEAS_FORMING:return"Ideas Forming";case ue.IN_PROGRESS:return"In Progress";case ue.COMPLETED:return"Completed"}};return N.jsxs("div",{onClick:()=>t(e),className:`bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden mb-4 active:bg-gray-50 transition-colors cursor-pointer ${e.status===ue.COMPLETED?"opacity-90":""}`,children:[N.jsxs("div",{className:"relative h-48 bg-gray-200",children:[N.jsx("img",{src:e.imageUrl,alt:e.title,className:`w-full h-full object-cover ${e.status===ue.COMPLETED?"grayscale-[50%]":""}`}),N.jsxs("div",{className:`absolute top-3 right-3 px-3 py-1 rounded-full text-xs font-bold border ${n(e.status)} shadow-sm flex items-center gap-1`,children:[e.status===ue.COMPLETED&&N.jsx(MC,{size:12}),s(e.status)]})]}),N.jsxs("div",{className:"p-4",children:[N.jsx("div",{className:"flex items-start justify-between mb-2",children:N.jsx("h3",{className:`font-bold text-lg text-gray-900 leading-tight ${e.status===ue.COMPLETED?"line-through text-gray-500":""}`,children:e.title})}),N.jsxs("div",{className:"flex items-center text-gray-500 text-sm mb-3",children:[N.jsx(mf,{size:14,className:"mr-1"}),N.jsx("span",{className:"truncate",children:e.locationName})]}),N.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.volunteerRequestSent&&N.jsxs("span",{className:"text-xs bg-orange-100 text-orange-700 border border-orange-200 px-2 py-1 rounded-md flex items-center gap-1 font-medium",children:[N.jsx(gf,{size:12})," Help Requested"]}),e.tags.slice(0,3).map(a=>N.jsxs("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-md",children:["#",a]},a))]}),N.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-50",children:[N.jsxs("div",{className:"flex items-center text-gray-500 text-sm",children:[N.jsx(sA,{size:16,className:"mr-1"}),N.jsxs("span",{children:[e.comments.length," Discussion"]})]}),N.jsxs("button",{className:"text-emerald-600 text-sm font-semibold flex items-center hover:text-emerald-700",children:["Open Room ",N.jsx(bu,{size:14,className:"ml-1"})]})]})]})]})},kr=({children:e,variant:t="primary",className:n="",isLoading:s=!1,...a})=>{const c="px-4 py-3 rounded-lg font-medium transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",d={primary:"bg-emerald-600 text-white hover:bg-emerald-700 shadow-md",secondary:"bg-white text-gray-800 border border-gray-200 hover:bg-gray-50 shadow-sm",danger:"bg-red-50 text-red-600 hover:bg-red-100 border border-red-100",ghost:"bg-transparent text-gray-600 hover:bg-gray-100"};return N.jsx("button",{className:`${c} ${d[t]} ${n}`,disabled:s||a.disabled,...a,children:s?N.jsx("span",{className:"w-5 h-5 border-2 border-current border-t-transparent rounded-full animate-spin"}):e})};var wu={exports:{}},qh={},Zh,ky;function OA(){if(ky)return Zh;ky=1;function e(t,n){typeof n=="boolean"&&(n={forever:n}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=n||{},this._maxRetryTime=n&&n.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}return Zh=e,e.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},e.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},e.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var n=new Date().getTime();if(t&&n-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var s=this._timeouts.shift();if(s===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),s=this._cachedTimeouts.slice(-1);else return!1;var a=this;return this._timer=setTimeout(function(){a._attempts++,a._operationTimeoutCb&&(a._timeout=setTimeout(function(){a._operationTimeoutCb(a._attempts)},a._operationTimeout),a._options.unref&&a._timeout.unref()),a._fn(a._attempts)},s),this._options.unref&&this._timer.unref(),!0},e.prototype.attempt=function(t,n){this._fn=t,n&&(n.timeout&&(this._operationTimeout=n.timeout),n.cb&&(this._operationTimeoutCb=n.cb));var s=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){s._operationTimeoutCb()},s._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},e.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)},e.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)},e.prototype.start=e.prototype.try,e.prototype.errors=function(){return this._errors},e.prototype.attempts=function(){return this._attempts},e.prototype.mainError=function(){if(this._errors.length===0)return null;for(var t={},n=null,s=0,a=0;a<this._errors.length;a++){var c=this._errors[a],d=c.message,_=(t[d]||0)+1;t[d]=_,_>=s&&(n=c,s=_)}return n},Zh}var Uy;function zA(){return Uy||(Uy=1,(function(e){var t=OA();e.operation=function(n){var s=e.timeouts(n);return new t(s,{forever:n&&(n.forever||n.retries===1/0),unref:n&&n.unref,maxRetryTime:n&&n.maxRetryTime})},e.timeouts=function(n){if(n instanceof Array)return[].concat(n);var s={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var a in n)s[a]=n[a];if(s.minTimeout>s.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var c=[],d=0;d<s.retries;d++)c.push(this.createTimeout(d,s));return n&&n.forever&&!c.length&&c.push(this.createTimeout(d,s)),c.sort(function(_,T){return _-T}),c},e.createTimeout=function(n,s){var a=s.randomize?Math.random()+1:1,c=Math.round(a*Math.max(s.minTimeout,1)*Math.pow(s.factor,n));return c=Math.min(c,s.maxTimeout),c},e.wrap=function(n,s,a){if(s instanceof Array&&(a=s,s=null),!a){a=[];for(var c in n)typeof n[c]=="function"&&a.push(c)}for(var d=0;d<a.length;d++){var _=a[d],T=n[_];n[_]=(function(w){var x=e.operation(s),b=Array.prototype.slice.call(arguments,1),U=b.pop();b.push(function(Y){x.retry(Y)||(Y&&(arguments[0]=x.mainError()),U.apply(this,arguments))}),x.attempt(function(){w.apply(n,b)})}).bind(n,T),n[_].options=s}}})(qh)),qh}var Jh,Oy;function BA(){return Oy||(Oy=1,Jh=zA()),Jh}var zy;function HA(){if(zy)return wu.exports;zy=1;const e=BA(),t=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class n extends Error{constructor(_){super(),_ instanceof Error?(this.originalError=_,{message:_}=_):(this.originalError=new Error(_),this.originalError.stack=this.stack),this.name="AbortError",this.message=_}}const s=(d,_,T)=>{const v=T.retries-(_-1);return d.attemptNumber=_,d.retriesLeft=v,d},a=d=>t.includes(d),c=(d,_)=>new Promise((T,v)=>{_={onFailedAttempt:()=>{},retries:10,..._};const w=e.operation(_);w.attempt(async x=>{try{T(await d(x))}catch(b){if(!(b instanceof Error)){v(new TypeError(`Non-error was thrown: "${b}". You should only throw errors.`));return}if(b instanceof n)w.stop(),v(b.originalError);else if(b instanceof TypeError&&!a(b.message))w.stop(),v(b);else{s(b,x,_);try{await _.onFailedAttempt(b)}catch(U){v(U);return}w.retry(b)||v(w.mainError())}}})});return wu.exports=c,wu.exports.default=c,wu.exports.AbortError=n,wu.exports}var ST=HA();const VA=Ff(ST);var GA={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let FA,qA;function ZA(){return{geminiUrl:FA,vertexUrl:qA}}function JA(e,t,n,s){var a,c;if(!(e!=null&&e.baseUrl)){const d=ZA();return t?(a=d.vertexUrl)!==null&&a!==void 0?a:n:(c=d.geminiUrl)!==null&&c!==void 0?c:s}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qs{}function Nt(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(s,a)=>{if(Object.prototype.hasOwnProperty.call(t,a)){const c=t[a];return c!=null?String(c):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function p(e,t,n){for(let c=0;c<t.length-1;c++){const d=t[c];if(d.endsWith("[]")){const _=d.slice(0,-2);if(!(_ in e))if(Array.isArray(n))e[_]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${d}`);if(Array.isArray(e[_])){const T=e[_];if(Array.isArray(n))for(let v=0;v<T.length;v++){const w=T[v];p(w,t.slice(c+1),n[v])}else for(const v of T)p(v,t.slice(c+1),n)}return}else if(d.endsWith("[0]")){const _=d.slice(0,-3);_ in e||(e[_]=[{}]);const T=e[_];p(T[0],t.slice(c+1),n);return}(!e[d]||typeof e[d]!="object")&&(e[d]={}),e=e[d]}const s=t[t.length-1],a=e[s];if(a!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===a)return;if(typeof a=="object"&&typeof n=="object"&&a!==null&&n!==null)Object.assign(a,n);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[s]=n}function h(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let s=0;s<t.length;s++){if(typeof e!="object"||e===null)return n;const a=t[s];if(a.endsWith("[]")){const c=a.slice(0,-2);if(c in e){const d=e[c];return Array.isArray(d)?d.map(_=>h(_,t.slice(s+1),n)):n}else return n}else e=e[a]}return e}catch(s){if(s instanceof TypeError)return n;throw s}}function YA(e,t){for(const[n,s]of Object.entries(t)){const a=n.split("."),c=s.split("."),d=new Set;let _=-1;for(let T=0;T<a.length;T++)if(a[T]==="*"){_=T;break}if(_!==-1&&c.length>_)for(let T=_;T<c.length;T++){const v=c[T];v!=="*"&&!v.endsWith("[]")&&!v.endsWith("[0]")&&d.add(v)}lp(e,a,c,0,d)}}function lp(e,t,n,s,a){if(s>=t.length||typeof e!="object"||e===null)return;const c=t[s];if(c.endsWith("[]")){const d=c.slice(0,-2),_=e;if(d in _&&Array.isArray(_[d]))for(const T of _[d])lp(T,t,n,s+1,a)}else if(c==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const d=e,_=Object.keys(d).filter(v=>!v.startsWith("_")&&!a.has(v)),T={};for(const v of _)T[v]=d[v];for(const[v,w]of Object.entries(T)){const x=[];for(const b of n.slice(s))b==="*"?x.push(v):x.push(b);p(d,x,w)}for(const v of _)delete d[v]}}else{const d=e;c in d&&lp(d[c],t,n,s+1,a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Op(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KA(e){const t={},n=h(e,["operationName"]);n!=null&&p(t,["operationName"],n);const s=h(e,["resourceName"]);return s!=null&&p(t,["_url","resourceName"],s),t}function WA(e){const t={},n=h(e,["name"]);n!=null&&p(t,["name"],n);const s=h(e,["metadata"]);s!=null&&p(t,["metadata"],s);const a=h(e,["done"]);a!=null&&p(t,["done"],a);const c=h(e,["error"]);c!=null&&p(t,["error"],c);const d=h(e,["response","generateVideoResponse"]);return d!=null&&p(t,["response"],$A(d)),t}function XA(e){const t={},n=h(e,["name"]);n!=null&&p(t,["name"],n);const s=h(e,["metadata"]);s!=null&&p(t,["metadata"],s);const a=h(e,["done"]);a!=null&&p(t,["done"],a);const c=h(e,["error"]);c!=null&&p(t,["error"],c);const d=h(e,["response"]);return d!=null&&p(t,["response"],QA(d)),t}function $A(e){const t={},n=h(e,["generatedSamples"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>jA(d))),p(t,["generatedVideos"],c)}const s=h(e,["raiMediaFilteredCount"]);s!=null&&p(t,["raiMediaFilteredCount"],s);const a=h(e,["raiMediaFilteredReasons"]);return a!=null&&p(t,["raiMediaFilteredReasons"],a),t}function QA(e){const t={},n=h(e,["videos"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>tx(d))),p(t,["generatedVideos"],c)}const s=h(e,["raiMediaFilteredCount"]);s!=null&&p(t,["raiMediaFilteredCount"],s);const a=h(e,["raiMediaFilteredReasons"]);return a!=null&&p(t,["raiMediaFilteredReasons"],a),t}function jA(e){const t={},n=h(e,["video"]);return n!=null&&p(t,["video"],rx(n)),t}function tx(e){const t={},n=h(e,["_self"]);return n!=null&&p(t,["video"],ax(n)),t}function ex(e){const t={},n=h(e,["operationName"]);return n!=null&&p(t,["_url","operationName"],n),t}function nx(e){const t={},n=h(e,["operationName"]);return n!=null&&p(t,["_url","operationName"],n),t}function ix(e){const t={},n=h(e,["name"]);n!=null&&p(t,["name"],n);const s=h(e,["metadata"]);s!=null&&p(t,["metadata"],s);const a=h(e,["done"]);a!=null&&p(t,["done"],a);const c=h(e,["error"]);c!=null&&p(t,["error"],c);const d=h(e,["response"]);return d!=null&&p(t,["response"],ox(d)),t}function ox(e){const t={},n=h(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const s=h(e,["parent"]);s!=null&&p(t,["parent"],s);const a=h(e,["documentName"]);return a!=null&&p(t,["documentName"],a),t}function wT(e){const t={},n=h(e,["name"]);n!=null&&p(t,["name"],n);const s=h(e,["metadata"]);s!=null&&p(t,["metadata"],s);const a=h(e,["done"]);a!=null&&p(t,["done"],a);const c=h(e,["error"]);c!=null&&p(t,["error"],c);const d=h(e,["response"]);return d!=null&&p(t,["response"],sx(d)),t}function sx(e){const t={},n=h(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const s=h(e,["parent"]);s!=null&&p(t,["parent"],s);const a=h(e,["documentName"]);return a!=null&&p(t,["documentName"],a),t}function rx(e){const t={},n=h(e,["uri"]);n!=null&&p(t,["uri"],n);const s=h(e,["encodedVideo"]);s!=null&&p(t,["videoBytes"],Op(s));const a=h(e,["encoding"]);return a!=null&&p(t,["mimeType"],a),t}function ax(e){const t={},n=h(e,["gcsUri"]);n!=null&&p(t,["uri"],n);const s=h(e,["bytesBase64Encoded"]);s!=null&&p(t,["videoBytes"],Op(s));const a=h(e,["mimeType"]);return a!=null&&p(t,["mimeType"],a),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var By;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(By||(By={}));var Hy;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(Hy||(Hy={}));var Vy;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(Vy||(Vy={}));var Hr;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Hr||(Hr={}));var Gy;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Gy||(Gy={}));var Fy;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(Fy||(Fy={}));var qy;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(qy||(qy={}));var Zy;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Zy||(Zy={}));var Jy;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(Jy||(Jy={}));var Yy;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Yy||(Yy={}));var Ky;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(Ky||(Ky={}));var Wy;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(Wy||(Wy={}));var Xy;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Xy||(Xy={}));var $y;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})($y||($y={}));var Qy;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(Qy||(Qy={}));var jy;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(jy||(jy={}));var tv;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(tv||(tv={}));var ev;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(ev||(ev={}));var nv;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(nv||(nv={}));var iv;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(iv||(iv={}));var ov;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(ov||(ov={}));var Af;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Af||(Af={}));var sv;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(sv||(sv={}));var rv;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(rv||(rv={}));var av;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(av||(av={}));var up;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(up||(up={}));var lv;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(lv||(lv={}));var uv;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(uv||(uv={}));var cp;(function(e){e.COLLECTION="COLLECTION"})(cp||(cp={}));var cv;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(cv||(cv={}));var fv;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(fv||(fv={}));var xf;(function(e){e.PREDICT="PREDICT",e.EMBED_CONTENT="EMBED_CONTENT"})(xf||(xf={}));var dv;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(dv||(dv={}));var hv;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(hv||(hv={}));var pv;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(pv||(pv={}));var mv;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(mv||(mv={}));var gv;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(gv||(gv={}));var _v;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(_v||(_v={}));var yv;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(yv||(yv={}));var vv;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(vv||(vv={}));var Tv;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(Tv||(Tv={}));var Ev;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(Ev||(Ev={}));var Sv;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(Sv||(Sv={}));var wv;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING",e.DISTILLATION="DISTILLATION"})(wv||(wv={}));var Cv;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(Cv||(Cv={}));var Av;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(Av||(Av={}));var xv;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED",e.REGISTERED="REGISTERED"})(xv||(xv={}));var bv;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(bv||(bv={}));var Iv;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(Iv||(Iv={}));var Rv;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Rv||(Rv={}));var Nv;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.ACTIVITY_START="ACTIVITY_START",e.ACTIVITY_END="ACTIVITY_END"})(Nv||(Nv={}));var Mv;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Mv||(Mv={}));var Pv;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Pv||(Pv={}));var Dv;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(Dv||(Dv={}));var Lv;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Lv||(Lv={}));var kv;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(kv||(kv={}));var Uv;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(Uv||(Uv={}));var wl;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(wl||(wl={}));class fp{constructor(t){const n={};for(const s of t.headers.entries())n[s[0]]=s[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class Cu{get text(){var t,n,s,a,c,d,_,T;if(((a=(s=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let v="",w=!1;const x=[];for(const b of(T=(_=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||_===void 0?void 0:_.parts)!==null&&T!==void 0?T:[]){for(const[U,Y]of Object.entries(b))U!=="text"&&U!=="thought"&&U!=="thoughtSignature"&&(Y!==null||Y!==void 0)&&x.push(U);if(typeof b.text=="string"){if(typeof b.thought=="boolean"&&b.thought)continue;w=!0,v+=b.text}}return x.length>0&&console.warn(`there are non-text parts ${x} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),w?v:void 0}get data(){var t,n,s,a,c,d,_,T;if(((a=(s=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let v="";const w=[];for(const x of(T=(_=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||_===void 0?void 0:_.parts)!==null&&T!==void 0?T:[]){for(const[b,U]of Object.entries(x))b!=="inlineData"&&(U!==null||U!==void 0)&&w.push(b);x.inlineData&&typeof x.inlineData.data=="string"&&(v+=atob(x.inlineData.data))}return w.length>0&&console.warn(`there are non-data parts ${w} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),v.length>0?btoa(v):void 0}get functionCalls(){var t,n,s,a,c,d,_,T;if(((a=(s=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const v=(T=(_=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||_===void 0?void 0:_.parts)===null||T===void 0?void 0:T.filter(w=>w.functionCall).map(w=>w.functionCall).filter(w=>w!==void 0);if((v==null?void 0:v.length)!==0)return v}get executableCode(){var t,n,s,a,c,d,_,T,v;if(((a=(s=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const w=(T=(_=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||_===void 0?void 0:_.parts)===null||T===void 0?void 0:T.filter(x=>x.executableCode).map(x=>x.executableCode).filter(x=>x!==void 0);if((w==null?void 0:w.length)!==0)return(v=w==null?void 0:w[0])===null||v===void 0?void 0:v.code}get codeExecutionResult(){var t,n,s,a,c,d,_,T,v;if(((a=(s=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const w=(T=(_=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||_===void 0?void 0:_.parts)===null||T===void 0?void 0:T.filter(x=>x.codeExecutionResult).map(x=>x.codeExecutionResult).filter(x=>x!==void 0);if((w==null?void 0:w.length)!==0)return(v=w==null?void 0:w[0])===null||v===void 0?void 0:v.output}}class Ov{}class zv{}class lx{}class ux{}class cx{}class fx{}class Bv{}class Hv{}class Vv{}class dx{}class bf{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const s=new bf;let a;const c=t;return n?a=XA(c):a=WA(c),Object.assign(s,a),s}}class Gv{}class Fv{}class qv{}class Zv{}class hx{}class px{}class mx{}class zp{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const s=new zp,c=ix(t);return Object.assign(s,c),s}}class gx{}class _x{}class yx{}class vx{}class Jv{}class Tx{get text(){var t,n,s;let a="",c=!1;const d=[];for(const _ of(s=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&s!==void 0?s:[]){for(const[T,v]of Object.entries(_))T!=="text"&&T!=="thought"&&v!==null&&d.push(T);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;c=!0,a+=_.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?a:void 0}get data(){var t,n,s;let a="";const c=[];for(const d of(s=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&s!==void 0?s:[]){for(const[_,T]of Object.entries(d))_!=="inlineData"&&T!==null&&c.push(_);d.inlineData&&typeof d.inlineData.data=="string"&&(a+=atob(d.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class Ex{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Bp{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const s=new Bp,c=wT(t);return Object.assign(s,c),s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ge(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function CT(e,t){const n=ge(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function AT(e){return Array.isArray(e)?e.map(t=>If(t)):[If(e)]}function If(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function xT(e){const t=If(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function bT(e){const t=If(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Yv(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function IT(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>Yv(t)):[Yv(e)]}function dp(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function Kv(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function Wv(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function In(e){if(e==null)throw new Error("ContentUnion is required");return dp(e)?e:{role:"user",parts:IT(e)}}function Hp(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const s=In(n);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(e.isVertexAI()){const n=In(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>In(n)):[In(t)]}function Qi(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(Kv(e)||Wv(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[In(e)]}const t=[],n=[],s=dp(e[0]);for(const a of e){const c=dp(a);if(c!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)t.push(a);else{if(Kv(a)||Wv(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(a)}}return s||t.push({role:"user",parts:IT(n)}),t}function Sx(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(s=>s!=="null");if(n.length===1)t.type=Object.values(Hr).includes(n[0].toUpperCase())?n[0].toUpperCase():Hr.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const s of n)t.anyOf.push({type:Object.values(Hr).includes(s.toUpperCase())?s.toUpperCase():Hr.TYPE_UNSPECIFIED})}}function Al(e){const t={},n=["items"],s=["anyOf"],a=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=e.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(t.nullable=!0,e=c[1]):c[1].type==="null"&&(t.nullable=!0,e=c[0])),e.type instanceof Array&&Sx(e.type,t);for(const[d,_]of Object.entries(e))if(_!=null)if(d=="type"){if(_==="null")throw new Error("type: null can not be the only possible type for the field.");if(_ instanceof Array)continue;t.type=Object.values(Hr).includes(_.toUpperCase())?_.toUpperCase():Hr.TYPE_UNSPECIFIED}else if(n.includes(d))t[d]=Al(_);else if(s.includes(d)){const T=[];for(const v of _){if(v.type=="null"){t.nullable=!0;continue}T.push(Al(v))}t[d]=T}else if(a.includes(d)){const T={};for(const[v,w]of Object.entries(_))T[v]=Al(w);t[d]=T}else{if(d==="additionalProperties")continue;t[d]=_}return t}function Vp(e){return Al(e)}function Gp(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Fp(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Dl(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Al(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Al(t.response));return e}function Ll(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function wx(e,t,n,s=1){const a=!t.startsWith(`${n}/`)&&t.split("/").length===s;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:a?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:a?`${n}/${t}`:t}function js(e,t){if(typeof t!="string")throw new Error("name must be a string");return wx(e,t,"cachedContents")}function RT(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Zr(e){return Op(e)}function Cx(e){return e!=null&&typeof e=="object"&&"name"in e}function Ax(e){return e!=null&&typeof e=="object"&&"video"in e}function xx(e){return e!=null&&typeof e=="object"&&"uri"in e}function NT(e){var t;let n;if(Cx(e)&&(n=e.name),!(xx(e)&&(n=e.uri,n===void 0))&&!(Ax(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const a=n.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${n}`);n=a[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function MT(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function PT(e){for(const t of["models","tunedModels","publisherModels"])if(bx(e,t))return e[t];return[]}function bx(e,t){return e!==null&&typeof e=="object"&&t in e}function Ix(e,t={}){const n=e,s={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(s.responseJsonSchema=n.outputSchema),t.behavior&&(s.behavior=t.behavior),{functionDeclarations:[s]}}function Rx(e,t={}){const n=[],s=new Set;for(const a of e){const c=a.name;if(s.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);s.add(c);const d=Ix(a,t);d.functionDeclarations&&n.push(...d.functionDeclarations)}return{functionDeclarations:n}}function DT(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const s=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,a=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(a>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Nx(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function LT(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const a=n.inlinedResponses;if(!Array.isArray(a)||a.length===0)return e;let c=!1;for(const d of a){if(typeof d!="object"||d===null)continue;const T=d.response;if(typeof T!="object"||T===null)continue;if(T.embedding!==void 0){c=!0;break}}return c&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function kl(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function kT(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}function Mx(e){return e.includes("gemini")&&e!=="gemini-embedding-001"||e.includes("maas")}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Px(e){const t={},n=h(e,["responsesFile"]);n!=null&&p(t,["fileName"],n);const s=h(e,["inlinedResponses","inlinedResponses"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>db(d))),p(t,["inlinedResponses"],c)}const a=h(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>d)),p(t,["inlinedEmbedContentResponses"],c)}return t}function Dx(e){const t={},n=h(e,["predictionsFormat"]);n!=null&&p(t,["format"],n);const s=h(e,["gcsDestination","outputUriPrefix"]);s!=null&&p(t,["gcsUri"],s);const a=h(e,["bigqueryDestination","outputUri"]);return a!=null&&p(t,["bigqueryUri"],a),t}function Lx(e){const t={},n=h(e,["format"]);n!=null&&p(t,["predictionsFormat"],n);const s=h(e,["gcsUri"]);s!=null&&p(t,["gcsDestination","outputUriPrefix"],s);const a=h(e,["bigqueryUri"]);if(a!=null&&p(t,["bigqueryDestination","outputUri"],a),h(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(h(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(h(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function _f(e){const t={},n=h(e,["name"]);n!=null&&p(t,["name"],n);const s=h(e,["metadata","displayName"]);s!=null&&p(t,["displayName"],s);const a=h(e,["metadata","state"]);a!=null&&p(t,["state"],kT(a));const c=h(e,["metadata","createTime"]);c!=null&&p(t,["createTime"],c);const d=h(e,["metadata","endTime"]);d!=null&&p(t,["endTime"],d);const _=h(e,["metadata","updateTime"]);_!=null&&p(t,["updateTime"],_);const T=h(e,["metadata","model"]);T!=null&&p(t,["model"],T);const v=h(e,["metadata","output"]);return v!=null&&p(t,["dest"],Px(LT(v))),t}function hp(e){const t={},n=h(e,["name"]);n!=null&&p(t,["name"],n);const s=h(e,["displayName"]);s!=null&&p(t,["displayName"],s);const a=h(e,["state"]);a!=null&&p(t,["state"],kT(a));const c=h(e,["error"]);c!=null&&p(t,["error"],c);const d=h(e,["createTime"]);d!=null&&p(t,["createTime"],d);const _=h(e,["startTime"]);_!=null&&p(t,["startTime"],_);const T=h(e,["endTime"]);T!=null&&p(t,["endTime"],T);const v=h(e,["updateTime"]);v!=null&&p(t,["updateTime"],v);const w=h(e,["model"]);w!=null&&p(t,["model"],w);const x=h(e,["inputConfig"]);x!=null&&p(t,["src"],kx(x));const b=h(e,["outputConfig"]);b!=null&&p(t,["dest"],Dx(LT(b)));const U=h(e,["completionStats"]);return U!=null&&p(t,["completionStats"],U),t}function kx(e){const t={},n=h(e,["instancesFormat"]);n!=null&&p(t,["format"],n);const s=h(e,["gcsSource","uris"]);s!=null&&p(t,["gcsUri"],s);const a=h(e,["bigquerySource","inputUri"]);return a!=null&&p(t,["bigqueryUri"],a),t}function Ux(e,t){const n={};if(h(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(h(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(h(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=h(t,["fileName"]);s!=null&&p(n,["fileName"],s);const a=h(t,["inlinedRequests"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>fb(e,d))),p(n,["requests","requests"],c)}return n}function Ox(e){const t={},n=h(e,["format"]);n!=null&&p(t,["instancesFormat"],n);const s=h(e,["gcsUri"]);s!=null&&p(t,["gcsSource","uris"],s);const a=h(e,["bigqueryUri"]);if(a!=null&&p(t,["bigquerySource","inputUri"],a),h(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(h(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function zx(e){const t={},n=h(e,["data"]);if(n!=null&&p(t,["data"],n),h(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=h(e,["mimeType"]);return s!=null&&p(t,["mimeType"],s),t}function Bx(e,t){const n={},s=h(t,["name"]);return s!=null&&p(n,["_url","name"],kl(e,s)),n}function Hx(e,t){const n={},s=h(t,["name"]);return s!=null&&p(n,["_url","name"],kl(e,s)),n}function Vx(e){const t={},n=h(e,["content"]);n!=null&&p(t,["content"],n);const s=h(e,["citationMetadata"]);s!=null&&p(t,["citationMetadata"],Gx(s));const a=h(e,["tokenCount"]);a!=null&&p(t,["tokenCount"],a);const c=h(e,["finishReason"]);c!=null&&p(t,["finishReason"],c);const d=h(e,["avgLogprobs"]);d!=null&&p(t,["avgLogprobs"],d);const _=h(e,["groundingMetadata"]);_!=null&&p(t,["groundingMetadata"],_);const T=h(e,["index"]);T!=null&&p(t,["index"],T);const v=h(e,["logprobsResult"]);v!=null&&p(t,["logprobsResult"],v);const w=h(e,["safetyRatings"]);if(w!=null){let b=w;Array.isArray(b)&&(b=b.map(U=>U)),p(t,["safetyRatings"],b)}const x=h(e,["urlContextMetadata"]);return x!=null&&p(t,["urlContextMetadata"],x),t}function Gx(e){const t={},n=h(e,["citationSources"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>a)),p(t,["citations"],s)}return t}function UT(e){const t={},n=h(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>vb(c))),p(t,["parts"],a)}const s=h(e,["role"]);return s!=null&&p(t,["role"],s),t}function Fx(e,t){const n={},s=h(e,["displayName"]);if(t!==void 0&&s!=null&&p(t,["batch","displayName"],s),h(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function qx(e,t){const n={},s=h(e,["displayName"]);t!==void 0&&s!=null&&p(t,["displayName"],s);const a=h(e,["dest"]);return t!==void 0&&a!=null&&p(t,["outputConfig"],Lx(Nx(a))),n}function Xv(e,t){const n={},s=h(t,["model"]);s!=null&&p(n,["_url","model"],ge(e,s));const a=h(t,["src"]);a!=null&&p(n,["batch","inputConfig"],Ux(e,DT(e,a)));const c=h(t,["config"]);return c!=null&&Fx(c,n),n}function Zx(e,t){const n={},s=h(t,["model"]);s!=null&&p(n,["model"],ge(e,s));const a=h(t,["src"]);a!=null&&p(n,["inputConfig"],Ox(DT(e,a)));const c=h(t,["config"]);return c!=null&&qx(c,n),n}function Jx(e,t){const n={},s=h(e,["displayName"]);return t!==void 0&&s!=null&&p(t,["batch","displayName"],s),n}function Yx(e,t){const n={},s=h(t,["model"]);s!=null&&p(n,["_url","model"],ge(e,s));const a=h(t,["src"]);a!=null&&p(n,["batch","inputConfig"],tb(e,a));const c=h(t,["config"]);return c!=null&&Jx(c,n),n}function Kx(e,t){const n={},s=h(t,["name"]);return s!=null&&p(n,["_url","name"],kl(e,s)),n}function Wx(e,t){const n={},s=h(t,["name"]);return s!=null&&p(n,["_url","name"],kl(e,s)),n}function Xx(e){const t={},n=h(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const s=h(e,["name"]);s!=null&&p(t,["name"],s);const a=h(e,["done"]);a!=null&&p(t,["done"],a);const c=h(e,["error"]);return c!=null&&p(t,["error"],c),t}function $x(e){const t={},n=h(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const s=h(e,["name"]);s!=null&&p(t,["name"],s);const a=h(e,["done"]);a!=null&&p(t,["done"],a);const c=h(e,["error"]);return c!=null&&p(t,["error"],c),t}function Qx(e,t){const n={},s=h(t,["contents"]);if(s!=null){let c=Hp(e,s);Array.isArray(c)&&(c=c.map(d=>d)),p(n,["requests[]","request","content"],c)}const a=h(t,["config"]);return a!=null&&(p(n,["_self"],jx(a,n)),YA(n,{"requests[].*":"requests[].request.*"})),n}function jx(e,t){const n={},s=h(e,["taskType"]);t!==void 0&&s!=null&&p(t,["requests[]","taskType"],s);const a=h(e,["title"]);t!==void 0&&a!=null&&p(t,["requests[]","title"],a);const c=h(e,["outputDimensionality"]);if(t!==void 0&&c!=null&&p(t,["requests[]","outputDimensionality"],c),h(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(h(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function tb(e,t){const n={},s=h(t,["fileName"]);s!=null&&p(n,["file_name"],s);const a=h(t,["inlinedRequests"]);return a!=null&&p(n,["requests"],Qx(e,a)),n}function eb(e){const t={};if(h(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(e,["fileUri"]);n!=null&&p(t,["fileUri"],n);const s=h(e,["mimeType"]);return s!=null&&p(t,["mimeType"],s),t}function nb(e){const t={},n=h(e,["id"]);n!=null&&p(t,["id"],n);const s=h(e,["args"]);s!=null&&p(t,["args"],s);const a=h(e,["name"]);if(a!=null&&p(t,["name"],a),h(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function ib(e){const t={},n=h(e,["allowedFunctionNames"]);n!=null&&p(t,["allowedFunctionNames"],n);const s=h(e,["mode"]);if(s!=null&&p(t,["mode"],s),h(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function ob(e,t,n){const s={},a=h(t,["systemInstruction"]);n!==void 0&&a!=null&&p(n,["systemInstruction"],UT(In(a)));const c=h(t,["temperature"]);c!=null&&p(s,["temperature"],c);const d=h(t,["topP"]);d!=null&&p(s,["topP"],d);const _=h(t,["topK"]);_!=null&&p(s,["topK"],_);const T=h(t,["candidateCount"]);T!=null&&p(s,["candidateCount"],T);const v=h(t,["maxOutputTokens"]);v!=null&&p(s,["maxOutputTokens"],v);const w=h(t,["stopSequences"]);w!=null&&p(s,["stopSequences"],w);const x=h(t,["responseLogprobs"]);x!=null&&p(s,["responseLogprobs"],x);const b=h(t,["logprobs"]);b!=null&&p(s,["logprobs"],b);const U=h(t,["presencePenalty"]);U!=null&&p(s,["presencePenalty"],U);const Y=h(t,["frequencyPenalty"]);Y!=null&&p(s,["frequencyPenalty"],Y);const K=h(t,["seed"]);K!=null&&p(s,["seed"],K);const $=h(t,["responseMimeType"]);$!=null&&p(s,["responseMimeType"],$);const dt=h(t,["responseSchema"]);dt!=null&&p(s,["responseSchema"],Vp(dt));const _t=h(t,["responseJsonSchema"]);if(_t!=null&&p(s,["responseJsonSchema"],_t),h(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(h(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const lt=h(t,["safetySettings"]);if(n!==void 0&&lt!=null){let B=lt;Array.isArray(B)&&(B=B.map(Ut=>Tb(Ut))),p(n,["safetySettings"],B)}const St=h(t,["tools"]);if(n!==void 0&&St!=null){let B=Ll(St);Array.isArray(B)&&(B=B.map(Ut=>Sb(Dl(Ut)))),p(n,["tools"],B)}const Rt=h(t,["toolConfig"]);if(n!==void 0&&Rt!=null&&p(n,["toolConfig"],Eb(Rt)),h(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ft=h(t,["cachedContent"]);n!==void 0&&ft!=null&&p(n,["cachedContent"],js(e,ft));const z=h(t,["responseModalities"]);z!=null&&p(s,["responseModalities"],z);const O=h(t,["mediaResolution"]);O!=null&&p(s,["mediaResolution"],O);const k=h(t,["speechConfig"]);if(k!=null&&p(s,["speechConfig"],Gp(k)),h(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=h(t,["thinkingConfig"]);F!=null&&p(s,["thinkingConfig"],F);const V=h(t,["imageConfig"]);V!=null&&p(s,["imageConfig"],cb(V));const J=h(t,["enableEnhancedCivicAnswers"]);if(J!=null&&p(s,["enableEnhancedCivicAnswers"],J),h(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return s}function sb(e){const t={},n=h(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const s=h(e,["candidates"]);if(s!=null){let T=s;Array.isArray(T)&&(T=T.map(v=>Vx(v))),p(t,["candidates"],T)}const a=h(e,["modelVersion"]);a!=null&&p(t,["modelVersion"],a);const c=h(e,["promptFeedback"]);c!=null&&p(t,["promptFeedback"],c);const d=h(e,["responseId"]);d!=null&&p(t,["responseId"],d);const _=h(e,["usageMetadata"]);return _!=null&&p(t,["usageMetadata"],_),t}function rb(e,t){const n={},s=h(t,["name"]);return s!=null&&p(n,["_url","name"],kl(e,s)),n}function ab(e,t){const n={},s=h(t,["name"]);return s!=null&&p(n,["_url","name"],kl(e,s)),n}function lb(e){const t={};if(h(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(e,["enableWidget"]);return n!=null&&p(t,["enableWidget"],n),t}function ub(e){const t={};if(h(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(e,["timeRangeFilter"]);return n!=null&&p(t,["timeRangeFilter"],n),t}function cb(e){const t={},n=h(e,["aspectRatio"]);n!=null&&p(t,["aspectRatio"],n);const s=h(e,["imageSize"]);if(s!=null&&p(t,["imageSize"],s),h(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(h(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(h(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function fb(e,t){const n={},s=h(t,["model"]);s!=null&&p(n,["request","model"],ge(e,s));const a=h(t,["contents"]);if(a!=null){let _=Qi(a);Array.isArray(_)&&(_=_.map(T=>UT(T))),p(n,["request","contents"],_)}const c=h(t,["metadata"]);c!=null&&p(n,["metadata"],c);const d=h(t,["config"]);return d!=null&&p(n,["request","generationConfig"],ob(e,d,h(n,["request"],{}))),n}function db(e){const t={},n=h(e,["response"]);n!=null&&p(t,["response"],sb(n));const s=h(e,["metadata"]);s!=null&&p(t,["metadata"],s);const a=h(e,["error"]);return a!=null&&p(t,["error"],a),t}function hb(e,t){const n={},s=h(e,["pageSize"]);t!==void 0&&s!=null&&p(t,["_query","pageSize"],s);const a=h(e,["pageToken"]);if(t!==void 0&&a!=null&&p(t,["_query","pageToken"],a),h(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function pb(e,t){const n={},s=h(e,["pageSize"]);t!==void 0&&s!=null&&p(t,["_query","pageSize"],s);const a=h(e,["pageToken"]);t!==void 0&&a!=null&&p(t,["_query","pageToken"],a);const c=h(e,["filter"]);return t!==void 0&&c!=null&&p(t,["_query","filter"],c),n}function mb(e){const t={},n=h(e,["config"]);return n!=null&&hb(n,t),t}function gb(e){const t={},n=h(e,["config"]);return n!=null&&pb(n,t),t}function _b(e){const t={},n=h(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const s=h(e,["nextPageToken"]);s!=null&&p(t,["nextPageToken"],s);const a=h(e,["operations"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>_f(d))),p(t,["batchJobs"],c)}return t}function yb(e){const t={},n=h(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const s=h(e,["nextPageToken"]);s!=null&&p(t,["nextPageToken"],s);const a=h(e,["batchPredictionJobs"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>hp(d))),p(t,["batchJobs"],c)}return t}function vb(e){const t={},n=h(e,["mediaResolution"]);n!=null&&p(t,["mediaResolution"],n);const s=h(e,["codeExecutionResult"]);s!=null&&p(t,["codeExecutionResult"],s);const a=h(e,["executableCode"]);a!=null&&p(t,["executableCode"],a);const c=h(e,["fileData"]);c!=null&&p(t,["fileData"],eb(c));const d=h(e,["functionCall"]);d!=null&&p(t,["functionCall"],nb(d));const _=h(e,["functionResponse"]);_!=null&&p(t,["functionResponse"],_);const T=h(e,["inlineData"]);T!=null&&p(t,["inlineData"],zx(T));const v=h(e,["text"]);v!=null&&p(t,["text"],v);const w=h(e,["thought"]);w!=null&&p(t,["thought"],w);const x=h(e,["thoughtSignature"]);x!=null&&p(t,["thoughtSignature"],x);const b=h(e,["videoMetadata"]);return b!=null&&p(t,["videoMetadata"],b),t}function Tb(e){const t={},n=h(e,["category"]);if(n!=null&&p(t,["category"],n),h(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=h(e,["threshold"]);return s!=null&&p(t,["threshold"],s),t}function Eb(e){const t={},n=h(e,["retrievalConfig"]);n!=null&&p(t,["retrievalConfig"],n);const s=h(e,["functionCallingConfig"]);return s!=null&&p(t,["functionCallingConfig"],ib(s)),t}function Sb(e){const t={};if(h(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=h(e,["computerUse"]);n!=null&&p(t,["computerUse"],n);const s=h(e,["fileSearch"]);s!=null&&p(t,["fileSearch"],s);const a=h(e,["codeExecution"]);if(a!=null&&p(t,["codeExecution"],a),h(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=h(e,["functionDeclarations"]);if(c!=null){let w=c;Array.isArray(w)&&(w=w.map(x=>x)),p(t,["functionDeclarations"],w)}const d=h(e,["googleMaps"]);d!=null&&p(t,["googleMaps"],lb(d));const _=h(e,["googleSearch"]);_!=null&&p(t,["googleSearch"],ub(_));const T=h(e,["googleSearchRetrieval"]);T!=null&&p(t,["googleSearchRetrieval"],T);const v=h(e,["urlContext"]);return v!=null&&p(t,["urlContext"],v),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ws;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Ws||(Ws={}));class Ha{constructor(t,n,s,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,s,a)}init(t,n,s){var a,c;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let d={config:{}};!s||Object.keys(s).length===0?d={config:{}}:typeof s=="object"?d=Object.assign({},s):d=s,d.config&&(d.config.pageToken=n.nextPageToken),this.paramsInternal=d,this.pageInternalSize=(c=(a=d.config)===null||a===void 0?void 0:a.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wb extends Qs{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Ha(Ws.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=Xv(this.apiClient,t),s=n._url,a=Nt("{model}:batchGenerateContent",s),_=n.batch.inputConfig.requests,T=_.requests,v=[];for(const w of T){const x=Object.assign({},w);if(x.systemInstruction){const b=x.systemInstruction;delete x.systemInstruction;const U=x.request;U.systemInstruction=b,x.request=U}v.push(x)}return _.requests=v,delete n.config,delete n._url,delete n._query,{path:a,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const s=n?Object.assign({},n):{},a=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${a}`),s.dest===void 0){const c=this.getGcsUri(t),d=this.getBigqueryUri(t);if(c)c.endsWith(".jsonl")?s.dest=`${c.slice(0,-6)}/dest`:s.dest=`${c}_dest_${a}`;else if(d)s.dest=`${d}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(t){var n,s,a,c;let d,_="",T={};if(this.apiClient.isVertexAI()){const v=Zx(this.apiClient,t);return _=Nt("batchPredictionJobs",v._url),T=v._query,delete v._url,delete v._query,d=this.apiClient.request({path:_,queryParams:T,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(w=>w.json()),d.then(w=>hp(w))}else{const v=Xv(this.apiClient,t);return _=Nt("{model}:batchGenerateContent",v._url),T=v._query,delete v._url,delete v._query,d=this.apiClient.request({path:_,queryParams:T,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(w=>w.json()),d.then(w=>_f(w))}}async createEmbeddingsInternal(t){var n,s;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const _=Yx(this.apiClient,t);return c=Nt("{model}:asyncBatchEmbedContent",_._url),d=_._query,delete _._url,delete _._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(_),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),a.then(T=>_f(T))}}async get(t){var n,s,a,c;let d,_="",T={};if(this.apiClient.isVertexAI()){const v=ab(this.apiClient,t);return _=Nt("batchPredictionJobs/{name}",v._url),T=v._query,delete v._url,delete v._query,d=this.apiClient.request({path:_,queryParams:T,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(w=>w.json()),d.then(w=>hp(w))}else{const v=rb(this.apiClient,t);return _=Nt("batches/{name}",v._url),T=v._query,delete v._url,delete v._query,d=this.apiClient.request({path:_,queryParams:T,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(w=>w.json()),d.then(w=>_f(w))}}async cancel(t){var n,s,a,c;let d="",_={};if(this.apiClient.isVertexAI()){const T=Hx(this.apiClient,t);d=Nt("batchPredictionJobs/{name}:cancel",T._url),_=T._query,delete T._url,delete T._query,await this.apiClient.request({path:d,queryParams:_,body:JSON.stringify(T),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}else{const T=Bx(this.apiClient,t);d=Nt("batches/{name}:cancel",T._url),_=T._query,delete T._url,delete T._query,await this.apiClient.request({path:d,queryParams:_,body:JSON.stringify(T),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal})}}async listInternal(t){var n,s,a,c;let d,_="",T={};if(this.apiClient.isVertexAI()){const v=gb(t);return _=Nt("batchPredictionJobs",v._url),T=v._query,delete v._url,delete v._query,d=this.apiClient.request({path:_,queryParams:T,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(w=>w.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:w.headers},b})),d.then(w=>{const x=yb(w),b=new Jv;return Object.assign(b,x),b})}else{const v=mb(t);return _=Nt("batches",v._url),T=v._query,delete v._url,delete v._query,d=this.apiClient.request({path:_,queryParams:T,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(w=>w.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:w.headers},b})),d.then(w=>{const x=_b(w),b=new Jv;return Object.assign(b,x),b})}}async delete(t){var n,s,a,c;let d,_="",T={};if(this.apiClient.isVertexAI()){const v=Wx(this.apiClient,t);return _=Nt("batchPredictionJobs/{name}",v._url),T=v._query,delete v._url,delete v._query,d=this.apiClient.request({path:_,queryParams:T,body:JSON.stringify(v),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(w=>w.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:w.headers},b})),d.then(w=>$x(w))}else{const v=Kx(this.apiClient,t);return _=Nt("batches/{name}",v._url),T=v._query,delete v._url,delete v._query,d=this.apiClient.request({path:_,queryParams:T,body:JSON.stringify(v),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(w=>w.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:w.headers},b})),d.then(w=>Xx(w))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cb(e){const t={},n=h(e,["data"]);if(n!=null&&p(t,["data"],n),h(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=h(e,["mimeType"]);return s!=null&&p(t,["mimeType"],s),t}function $v(e){const t={},n=h(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>Yb(c))),p(t,["parts"],a)}const s=h(e,["role"]);return s!=null&&p(t,["role"],s),t}function Ab(e,t){const n={},s=h(e,["ttl"]);t!==void 0&&s!=null&&p(t,["ttl"],s);const a=h(e,["expireTime"]);t!==void 0&&a!=null&&p(t,["expireTime"],a);const c=h(e,["displayName"]);t!==void 0&&c!=null&&p(t,["displayName"],c);const d=h(e,["contents"]);if(t!==void 0&&d!=null){let w=Qi(d);Array.isArray(w)&&(w=w.map(x=>$v(x))),p(t,["contents"],w)}const _=h(e,["systemInstruction"]);t!==void 0&&_!=null&&p(t,["systemInstruction"],$v(In(_)));const T=h(e,["tools"]);if(t!==void 0&&T!=null){let w=T;Array.isArray(w)&&(w=w.map(x=>Wb(x))),p(t,["tools"],w)}const v=h(e,["toolConfig"]);if(t!==void 0&&v!=null&&p(t,["toolConfig"],Kb(v)),h(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function xb(e,t){const n={},s=h(e,["ttl"]);t!==void 0&&s!=null&&p(t,["ttl"],s);const a=h(e,["expireTime"]);t!==void 0&&a!=null&&p(t,["expireTime"],a);const c=h(e,["displayName"]);t!==void 0&&c!=null&&p(t,["displayName"],c);const d=h(e,["contents"]);if(t!==void 0&&d!=null){let x=Qi(d);Array.isArray(x)&&(x=x.map(b=>b)),p(t,["contents"],x)}const _=h(e,["systemInstruction"]);t!==void 0&&_!=null&&p(t,["systemInstruction"],In(_));const T=h(e,["tools"]);if(t!==void 0&&T!=null){let x=T;Array.isArray(x)&&(x=x.map(b=>Xb(b))),p(t,["tools"],x)}const v=h(e,["toolConfig"]);t!==void 0&&v!=null&&p(t,["toolConfig"],v);const w=h(e,["kmsKeyName"]);return t!==void 0&&w!=null&&p(t,["encryption_spec","kmsKeyName"],w),n}function bb(e,t){const n={},s=h(t,["model"]);s!=null&&p(n,["model"],CT(e,s));const a=h(t,["config"]);return a!=null&&Ab(a,n),n}function Ib(e,t){const n={},s=h(t,["model"]);s!=null&&p(n,["model"],CT(e,s));const a=h(t,["config"]);return a!=null&&xb(a,n),n}function Rb(e,t){const n={},s=h(t,["name"]);return s!=null&&p(n,["_url","name"],js(e,s)),n}function Nb(e,t){const n={},s=h(t,["name"]);return s!=null&&p(n,["_url","name"],js(e,s)),n}function Mb(e){const t={},n=h(e,["sdkHttpResponse"]);return n!=null&&p(t,["sdkHttpResponse"],n),t}function Pb(e){const t={},n=h(e,["sdkHttpResponse"]);return n!=null&&p(t,["sdkHttpResponse"],n),t}function Db(e){const t={};if(h(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(e,["fileUri"]);n!=null&&p(t,["fileUri"],n);const s=h(e,["mimeType"]);return s!=null&&p(t,["mimeType"],s),t}function Lb(e){const t={},n=h(e,["id"]);n!=null&&p(t,["id"],n);const s=h(e,["args"]);s!=null&&p(t,["args"],s);const a=h(e,["name"]);if(a!=null&&p(t,["name"],a),h(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function kb(e){const t={},n=h(e,["allowedFunctionNames"]);n!=null&&p(t,["allowedFunctionNames"],n);const s=h(e,["mode"]);if(s!=null&&p(t,["mode"],s),h(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Ub(e){const t={},n=h(e,["description"]);n!=null&&p(t,["description"],n);const s=h(e,["name"]);s!=null&&p(t,["name"],s);const a=h(e,["parameters"]);a!=null&&p(t,["parameters"],a);const c=h(e,["parametersJsonSchema"]);c!=null&&p(t,["parametersJsonSchema"],c);const d=h(e,["response"]);d!=null&&p(t,["response"],d);const _=h(e,["responseJsonSchema"]);if(_!=null&&p(t,["responseJsonSchema"],_),h(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function Ob(e,t){const n={},s=h(t,["name"]);return s!=null&&p(n,["_url","name"],js(e,s)),n}function zb(e,t){const n={},s=h(t,["name"]);return s!=null&&p(n,["_url","name"],js(e,s)),n}function Bb(e){const t={};if(h(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(e,["enableWidget"]);return n!=null&&p(t,["enableWidget"],n),t}function Hb(e){const t={};if(h(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(e,["timeRangeFilter"]);return n!=null&&p(t,["timeRangeFilter"],n),t}function Vb(e,t){const n={},s=h(e,["pageSize"]);t!==void 0&&s!=null&&p(t,["_query","pageSize"],s);const a=h(e,["pageToken"]);return t!==void 0&&a!=null&&p(t,["_query","pageToken"],a),n}function Gb(e,t){const n={},s=h(e,["pageSize"]);t!==void 0&&s!=null&&p(t,["_query","pageSize"],s);const a=h(e,["pageToken"]);return t!==void 0&&a!=null&&p(t,["_query","pageToken"],a),n}function Fb(e){const t={},n=h(e,["config"]);return n!=null&&Vb(n,t),t}function qb(e){const t={},n=h(e,["config"]);return n!=null&&Gb(n,t),t}function Zb(e){const t={},n=h(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const s=h(e,["nextPageToken"]);s!=null&&p(t,["nextPageToken"],s);const a=h(e,["cachedContents"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>d)),p(t,["cachedContents"],c)}return t}function Jb(e){const t={},n=h(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const s=h(e,["nextPageToken"]);s!=null&&p(t,["nextPageToken"],s);const a=h(e,["cachedContents"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>d)),p(t,["cachedContents"],c)}return t}function Yb(e){const t={},n=h(e,["mediaResolution"]);n!=null&&p(t,["mediaResolution"],n);const s=h(e,["codeExecutionResult"]);s!=null&&p(t,["codeExecutionResult"],s);const a=h(e,["executableCode"]);a!=null&&p(t,["executableCode"],a);const c=h(e,["fileData"]);c!=null&&p(t,["fileData"],Db(c));const d=h(e,["functionCall"]);d!=null&&p(t,["functionCall"],Lb(d));const _=h(e,["functionResponse"]);_!=null&&p(t,["functionResponse"],_);const T=h(e,["inlineData"]);T!=null&&p(t,["inlineData"],Cb(T));const v=h(e,["text"]);v!=null&&p(t,["text"],v);const w=h(e,["thought"]);w!=null&&p(t,["thought"],w);const x=h(e,["thoughtSignature"]);x!=null&&p(t,["thoughtSignature"],x);const b=h(e,["videoMetadata"]);return b!=null&&p(t,["videoMetadata"],b),t}function Kb(e){const t={},n=h(e,["retrievalConfig"]);n!=null&&p(t,["retrievalConfig"],n);const s=h(e,["functionCallingConfig"]);return s!=null&&p(t,["functionCallingConfig"],kb(s)),t}function Wb(e){const t={};if(h(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=h(e,["computerUse"]);n!=null&&p(t,["computerUse"],n);const s=h(e,["fileSearch"]);s!=null&&p(t,["fileSearch"],s);const a=h(e,["codeExecution"]);if(a!=null&&p(t,["codeExecution"],a),h(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=h(e,["functionDeclarations"]);if(c!=null){let w=c;Array.isArray(w)&&(w=w.map(x=>x)),p(t,["functionDeclarations"],w)}const d=h(e,["googleMaps"]);d!=null&&p(t,["googleMaps"],Bb(d));const _=h(e,["googleSearch"]);_!=null&&p(t,["googleSearch"],Hb(_));const T=h(e,["googleSearchRetrieval"]);T!=null&&p(t,["googleSearchRetrieval"],T);const v=h(e,["urlContext"]);return v!=null&&p(t,["urlContext"],v),t}function Xb(e){const t={},n=h(e,["retrieval"]);n!=null&&p(t,["retrieval"],n);const s=h(e,["computerUse"]);if(s!=null&&p(t,["computerUse"],s),h(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=h(e,["codeExecution"]);a!=null&&p(t,["codeExecution"],a);const c=h(e,["enterpriseWebSearch"]);c!=null&&p(t,["enterpriseWebSearch"],c);const d=h(e,["functionDeclarations"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(b=>Ub(b))),p(t,["functionDeclarations"],x)}const _=h(e,["googleMaps"]);_!=null&&p(t,["googleMaps"],_);const T=h(e,["googleSearch"]);T!=null&&p(t,["googleSearch"],T);const v=h(e,["googleSearchRetrieval"]);v!=null&&p(t,["googleSearchRetrieval"],v);const w=h(e,["urlContext"]);return w!=null&&p(t,["urlContext"],w),t}function $b(e,t){const n={},s=h(e,["ttl"]);t!==void 0&&s!=null&&p(t,["ttl"],s);const a=h(e,["expireTime"]);return t!==void 0&&a!=null&&p(t,["expireTime"],a),n}function Qb(e,t){const n={},s=h(e,["ttl"]);t!==void 0&&s!=null&&p(t,["ttl"],s);const a=h(e,["expireTime"]);return t!==void 0&&a!=null&&p(t,["expireTime"],a),n}function jb(e,t){const n={},s=h(t,["name"]);s!=null&&p(n,["_url","name"],js(e,s));const a=h(t,["config"]);return a!=null&&$b(a,n),n}function t1(e,t){const n={},s=h(t,["name"]);s!=null&&p(n,["_url","name"],js(e,s));const a=h(t,["config"]);return a!=null&&Qb(a,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class e1 extends Qs{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Ha(Ws.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(n),n)}async create(t){var n,s,a,c;let d,_="",T={};if(this.apiClient.isVertexAI()){const v=Ib(this.apiClient,t);return _=Nt("cachedContents",v._url),T=v._query,delete v._url,delete v._query,d=this.apiClient.request({path:_,queryParams:T,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(w=>w.json()),d.then(w=>w)}else{const v=bb(this.apiClient,t);return _=Nt("cachedContents",v._url),T=v._query,delete v._url,delete v._query,d=this.apiClient.request({path:_,queryParams:T,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(w=>w.json()),d.then(w=>w)}}async get(t){var n,s,a,c;let d,_="",T={};if(this.apiClient.isVertexAI()){const v=zb(this.apiClient,t);return _=Nt("{name}",v._url),T=v._query,delete v._url,delete v._query,d=this.apiClient.request({path:_,queryParams:T,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(w=>w.json()),d.then(w=>w)}else{const v=Ob(this.apiClient,t);return _=Nt("{name}",v._url),T=v._query,delete v._url,delete v._query,d=this.apiClient.request({path:_,queryParams:T,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(w=>w.json()),d.then(w=>w)}}async delete(t){var n,s,a,c;let d,_="",T={};if(this.apiClient.isVertexAI()){const v=Nb(this.apiClient,t);return _=Nt("{name}",v._url),T=v._query,delete v._url,delete v._query,d=this.apiClient.request({path:_,queryParams:T,body:JSON.stringify(v),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(w=>w.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:w.headers},b})),d.then(w=>{const x=Pb(w),b=new qv;return Object.assign(b,x),b})}else{const v=Rb(this.apiClient,t);return _=Nt("{name}",v._url),T=v._query,delete v._url,delete v._query,d=this.apiClient.request({path:_,queryParams:T,body:JSON.stringify(v),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(w=>w.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:w.headers},b})),d.then(w=>{const x=Mb(w),b=new qv;return Object.assign(b,x),b})}}async update(t){var n,s,a,c;let d,_="",T={};if(this.apiClient.isVertexAI()){const v=t1(this.apiClient,t);return _=Nt("{name}",v._url),T=v._query,delete v._url,delete v._query,d=this.apiClient.request({path:_,queryParams:T,body:JSON.stringify(v),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(w=>w.json()),d.then(w=>w)}else{const v=jb(this.apiClient,t);return _=Nt("{name}",v._url),T=v._query,delete v._url,delete v._query,d=this.apiClient.request({path:_,queryParams:T,body:JSON.stringify(v),httpMethod:"PATCH",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(w=>w.json()),d.then(w=>w)}}async listInternal(t){var n,s,a,c;let d,_="",T={};if(this.apiClient.isVertexAI()){const v=qb(t);return _=Nt("cachedContents",v._url),T=v._query,delete v._url,delete v._query,d=this.apiClient.request({path:_,queryParams:T,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(w=>w.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:w.headers},b})),d.then(w=>{const x=Jb(w),b=new Zv;return Object.assign(b,x),b})}else{const v=Fb(t);return _=Nt("cachedContents",v._url),T=v._query,delete v._url,delete v._query,d=this.apiClient.request({path:_,queryParams:T,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(w=>w.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:w.headers},b})),d.then(w=>{const x=Zb(w),b=new Zv;return Object.assign(b,x),b})}}}function Rf(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n}function Qv(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],s=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ft(e){return this instanceof Ft?(this.v=e,this):new Ft(e)}function Ho(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(e,t||[]),a,c=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),_("next"),_("throw"),_("return",d),a[Symbol.asyncIterator]=function(){return this},a;function d(U){return function(Y){return Promise.resolve(Y).then(U,x)}}function _(U,Y){s[U]&&(a[U]=function(K){return new Promise(function($,dt){c.push([U,K,$,dt])>1||T(U,K)})},Y&&(a[U]=Y(a[U])))}function T(U,Y){try{v(s[U](Y))}catch(K){b(c[0][3],K)}}function v(U){U.value instanceof Ft?Promise.resolve(U.value.v).then(w,x):b(c[0][2],U)}function w(U){T("next",U)}function x(U){T("throw",U)}function b(U,Y){U(Y),c.shift(),c.length&&T(c[0][0],c[0][1])}}function Vo(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Qv=="function"?Qv(e):e[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(c){n[c]=e[c]&&function(d){return new Promise(function(_,T){d=e[c](d),a(_,T,d.done,d.value)})}}function a(c,d,_,T){Promise.resolve(T).then(function(v){c({value:v,done:_})},d)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function n1(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:OT(n)}function OT(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function i1(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function jv(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let s=0;for(;s<n;)if(e[s].role==="user")t.push(e[s]),s++;else{const a=[];let c=!0;for(;s<n&&e[s].role==="model";)a.push(e[s]),c&&!OT(e[s])&&(c=!1),s++;c?t.push(...a):t.pop()}return t}class o1{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new s1(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class s1{constructor(t,n,s,a={},c=[]){this.apiClient=t,this.modelsModule=n,this.model=s,this.config=a,this.history=c,this.sendPromise=Promise.resolve(),i1(c)}async sendMessage(t){var n;await this.sendPromise;const s=In(t.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var c,d,_;const T=await a,v=(d=(c=T.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content,w=T.automaticFunctionCallingHistory,x=this.getHistory(!0).length;let b=[];w!=null&&(b=(_=w.slice(x))!==null&&_!==void 0?_:[]);const U=v?[v]:[];this.recordHistory(s,U,b)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(t){var n;await this.sendPromise;const s=In(t.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const c=await a;return this.processStreamResponse(c,s)}getHistory(t=!1){const n=t?jv(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return Ho(this,arguments,function*(){var a,c,d,_,T,v;const w=[];try{for(var x=!0,b=Vo(t),U;U=yield Ft(b.next()),a=U.done,!a;x=!0){_=U.value,x=!1;const Y=_;if(n1(Y)){const K=(v=(T=Y.candidates)===null||T===void 0?void 0:T[0])===null||v===void 0?void 0:v.content;K!==void 0&&w.push(K)}yield yield Ft(Y)}}catch(Y){c={error:Y}}finally{try{!x&&!a&&(d=b.return)&&(yield Ft(d.call(b)))}finally{if(c)throw c.error}}this.recordHistory(n,w)})}recordHistory(t,n,s){let a=[];n.length>0&&n.every(c=>c.role!==void 0)?a=n:a.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...jv(s)):this.history.push(t),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ou extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Ou.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function r1(e){const t={},n=h(e,["file"]);return n!=null&&p(t,["file"],n),t}function a1(e){const t={},n=h(e,["sdkHttpResponse"]);return n!=null&&p(t,["sdkHttpResponse"],n),t}function l1(e){const t={},n=h(e,["name"]);return n!=null&&p(t,["_url","file"],NT(n)),t}function u1(e){const t={},n=h(e,["sdkHttpResponse"]);return n!=null&&p(t,["sdkHttpResponse"],n),t}function c1(e){const t={},n=h(e,["name"]);return n!=null&&p(t,["_url","file"],NT(n)),t}function f1(e){const t={},n=h(e,["uris"]);return n!=null&&p(t,["uris"],n),t}function d1(e,t){const n={},s=h(e,["pageSize"]);t!==void 0&&s!=null&&p(t,["_query","pageSize"],s);const a=h(e,["pageToken"]);return t!==void 0&&a!=null&&p(t,["_query","pageToken"],a),n}function h1(e){const t={},n=h(e,["config"]);return n!=null&&d1(n,t),t}function p1(e){const t={},n=h(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const s=h(e,["nextPageToken"]);s!=null&&p(t,["nextPageToken"],s);const a=h(e,["files"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>d)),p(t,["files"],c)}return t}function m1(e){const t={},n=h(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const s=h(e,["files"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(c=>c)),p(t,["files"],a)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class g1 extends Qs{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Ha(Ws.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async registerFiles(t){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(t){return this.registerFilesInternal(t)}async listInternal(t){var n,s;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const _=h1(t);return c=Nt("files",_._url),d=_._query,delete _._url,delete _._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(_),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:T.headers},w})),a.then(T=>{const v=p1(T),w=new gx;return Object.assign(w,v),w})}}async createInternal(t){var n,s;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const _=r1(t);return c=Nt("upload/v1beta/files",_._url),d=_._query,delete _._url,delete _._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(_),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),a.then(T=>{const v=a1(T),w=new _x;return Object.assign(w,v),w})}}async get(t){var n,s;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const _=c1(t);return c=Nt("files/{file}",_._url),d=_._query,delete _._url,delete _._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(_),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),a.then(T=>T)}}async delete(t){var n,s;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const _=l1(t);return c=Nt("files/{file}",_._url),d=_._query,delete _._url,delete _._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(_),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:T.headers},w})),a.then(T=>{const v=u1(T),w=new yx;return Object.assign(w,v),w})}}async registerFilesInternal(t){var n,s;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const _=f1(t);return c=Nt("files:register",_._url),d=_._query,delete _._url,delete _._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(_),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),a.then(T=>{const v=m1(T),w=new vx;return Object.assign(w,v),w})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yf(e){const t={},n=h(e,["data"]);if(n!=null&&p(t,["data"],n),h(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=h(e,["mimeType"]);return s!=null&&p(t,["mimeType"],s),t}function _1(e){const t={},n=h(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>D1(c))),p(t,["parts"],a)}const s=h(e,["role"]);return s!=null&&p(t,["role"],s),t}function y1(e){const t={};if(h(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(e,["fileUri"]);n!=null&&p(t,["fileUri"],n);const s=h(e,["mimeType"]);return s!=null&&p(t,["mimeType"],s),t}function v1(e){const t={},n=h(e,["id"]);n!=null&&p(t,["id"],n);const s=h(e,["args"]);s!=null&&p(t,["args"],s);const a=h(e,["name"]);if(a!=null&&p(t,["name"],a),h(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function T1(e){const t={},n=h(e,["description"]);n!=null&&p(t,["description"],n);const s=h(e,["name"]);s!=null&&p(t,["name"],s);const a=h(e,["parameters"]);a!=null&&p(t,["parameters"],a);const c=h(e,["parametersJsonSchema"]);c!=null&&p(t,["parametersJsonSchema"],c);const d=h(e,["response"]);d!=null&&p(t,["response"],d);const _=h(e,["responseJsonSchema"]);if(_!=null&&p(t,["responseJsonSchema"],_),h(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function E1(e){const t={},n=h(e,["modelSelectionConfig"]);n!=null&&p(t,["modelConfig"],n);const s=h(e,["responseJsonSchema"]);s!=null&&p(t,["responseJsonSchema"],s);const a=h(e,["audioTimestamp"]);a!=null&&p(t,["audioTimestamp"],a);const c=h(e,["candidateCount"]);c!=null&&p(t,["candidateCount"],c);const d=h(e,["enableAffectiveDialog"]);d!=null&&p(t,["enableAffectiveDialog"],d);const _=h(e,["frequencyPenalty"]);_!=null&&p(t,["frequencyPenalty"],_);const T=h(e,["logprobs"]);T!=null&&p(t,["logprobs"],T);const v=h(e,["maxOutputTokens"]);v!=null&&p(t,["maxOutputTokens"],v);const w=h(e,["mediaResolution"]);w!=null&&p(t,["mediaResolution"],w);const x=h(e,["presencePenalty"]);x!=null&&p(t,["presencePenalty"],x);const b=h(e,["responseLogprobs"]);b!=null&&p(t,["responseLogprobs"],b);const U=h(e,["responseMimeType"]);U!=null&&p(t,["responseMimeType"],U);const Y=h(e,["responseModalities"]);Y!=null&&p(t,["responseModalities"],Y);const K=h(e,["responseSchema"]);K!=null&&p(t,["responseSchema"],K);const $=h(e,["routingConfig"]);$!=null&&p(t,["routingConfig"],$);const dt=h(e,["seed"]);dt!=null&&p(t,["seed"],dt);const _t=h(e,["speechConfig"]);_t!=null&&p(t,["speechConfig"],_t);const lt=h(e,["stopSequences"]);lt!=null&&p(t,["stopSequences"],lt);const St=h(e,["temperature"]);St!=null&&p(t,["temperature"],St);const Rt=h(e,["thinkingConfig"]);Rt!=null&&p(t,["thinkingConfig"],Rt);const ft=h(e,["topK"]);ft!=null&&p(t,["topK"],ft);const z=h(e,["topP"]);if(z!=null&&p(t,["topP"],z),h(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function S1(e){const t={};if(h(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(e,["enableWidget"]);return n!=null&&p(t,["enableWidget"],n),t}function w1(e){const t={};if(h(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(e,["timeRangeFilter"]);return n!=null&&p(t,["timeRangeFilter"],n),t}function C1(e,t){const n={},s=h(e,["generationConfig"]);t!==void 0&&s!=null&&p(t,["setup","generationConfig"],s);const a=h(e,["responseModalities"]);t!==void 0&&a!=null&&p(t,["setup","generationConfig","responseModalities"],a);const c=h(e,["temperature"]);t!==void 0&&c!=null&&p(t,["setup","generationConfig","temperature"],c);const d=h(e,["topP"]);t!==void 0&&d!=null&&p(t,["setup","generationConfig","topP"],d);const _=h(e,["topK"]);t!==void 0&&_!=null&&p(t,["setup","generationConfig","topK"],_);const T=h(e,["maxOutputTokens"]);t!==void 0&&T!=null&&p(t,["setup","generationConfig","maxOutputTokens"],T);const v=h(e,["mediaResolution"]);t!==void 0&&v!=null&&p(t,["setup","generationConfig","mediaResolution"],v);const w=h(e,["seed"]);t!==void 0&&w!=null&&p(t,["setup","generationConfig","seed"],w);const x=h(e,["speechConfig"]);t!==void 0&&x!=null&&p(t,["setup","generationConfig","speechConfig"],Fp(x));const b=h(e,["thinkingConfig"]);t!==void 0&&b!=null&&p(t,["setup","generationConfig","thinkingConfig"],b);const U=h(e,["enableAffectiveDialog"]);t!==void 0&&U!=null&&p(t,["setup","generationConfig","enableAffectiveDialog"],U);const Y=h(e,["systemInstruction"]);t!==void 0&&Y!=null&&p(t,["setup","systemInstruction"],_1(In(Y)));const K=h(e,["tools"]);if(t!==void 0&&K!=null){let ft=Ll(K);Array.isArray(ft)&&(ft=ft.map(z=>k1(Dl(z)))),p(t,["setup","tools"],ft)}const $=h(e,["sessionResumption"]);t!==void 0&&$!=null&&p(t,["setup","sessionResumption"],L1($));const dt=h(e,["inputAudioTranscription"]);t!==void 0&&dt!=null&&p(t,["setup","inputAudioTranscription"],dt);const _t=h(e,["outputAudioTranscription"]);t!==void 0&&_t!=null&&p(t,["setup","outputAudioTranscription"],_t);const lt=h(e,["realtimeInputConfig"]);t!==void 0&&lt!=null&&p(t,["setup","realtimeInputConfig"],lt);const St=h(e,["contextWindowCompression"]);t!==void 0&&St!=null&&p(t,["setup","contextWindowCompression"],St);const Rt=h(e,["proactivity"]);if(t!==void 0&&Rt!=null&&p(t,["setup","proactivity"],Rt),h(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function A1(e,t){const n={},s=h(e,["generationConfig"]);t!==void 0&&s!=null&&p(t,["setup","generationConfig"],E1(s));const a=h(e,["responseModalities"]);t!==void 0&&a!=null&&p(t,["setup","generationConfig","responseModalities"],a);const c=h(e,["temperature"]);t!==void 0&&c!=null&&p(t,["setup","generationConfig","temperature"],c);const d=h(e,["topP"]);t!==void 0&&d!=null&&p(t,["setup","generationConfig","topP"],d);const _=h(e,["topK"]);t!==void 0&&_!=null&&p(t,["setup","generationConfig","topK"],_);const T=h(e,["maxOutputTokens"]);t!==void 0&&T!=null&&p(t,["setup","generationConfig","maxOutputTokens"],T);const v=h(e,["mediaResolution"]);t!==void 0&&v!=null&&p(t,["setup","generationConfig","mediaResolution"],v);const w=h(e,["seed"]);t!==void 0&&w!=null&&p(t,["setup","generationConfig","seed"],w);const x=h(e,["speechConfig"]);t!==void 0&&x!=null&&p(t,["setup","generationConfig","speechConfig"],Fp(x));const b=h(e,["thinkingConfig"]);t!==void 0&&b!=null&&p(t,["setup","generationConfig","thinkingConfig"],b);const U=h(e,["enableAffectiveDialog"]);t!==void 0&&U!=null&&p(t,["setup","generationConfig","enableAffectiveDialog"],U);const Y=h(e,["systemInstruction"]);t!==void 0&&Y!=null&&p(t,["setup","systemInstruction"],In(Y));const K=h(e,["tools"]);if(t!==void 0&&K!=null){let z=Ll(K);Array.isArray(z)&&(z=z.map(O=>U1(Dl(O)))),p(t,["setup","tools"],z)}const $=h(e,["sessionResumption"]);t!==void 0&&$!=null&&p(t,["setup","sessionResumption"],$);const dt=h(e,["inputAudioTranscription"]);t!==void 0&&dt!=null&&p(t,["setup","inputAudioTranscription"],dt);const _t=h(e,["outputAudioTranscription"]);t!==void 0&&_t!=null&&p(t,["setup","outputAudioTranscription"],_t);const lt=h(e,["realtimeInputConfig"]);t!==void 0&&lt!=null&&p(t,["setup","realtimeInputConfig"],lt);const St=h(e,["contextWindowCompression"]);t!==void 0&&St!=null&&p(t,["setup","contextWindowCompression"],St);const Rt=h(e,["proactivity"]);t!==void 0&&Rt!=null&&p(t,["setup","proactivity"],Rt);const ft=h(e,["explicitVadSignal"]);return t!==void 0&&ft!=null&&p(t,["setup","explicitVadSignal"],ft),n}function x1(e,t){const n={},s=h(t,["model"]);s!=null&&p(n,["setup","model"],ge(e,s));const a=h(t,["config"]);return a!=null&&p(n,["config"],C1(a,n)),n}function b1(e,t){const n={},s=h(t,["model"]);s!=null&&p(n,["setup","model"],ge(e,s));const a=h(t,["config"]);return a!=null&&p(n,["config"],A1(a,n)),n}function I1(e){const t={},n=h(e,["musicGenerationConfig"]);return n!=null&&p(t,["musicGenerationConfig"],n),t}function R1(e){const t={},n=h(e,["weightedPrompts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>a)),p(t,["weightedPrompts"],s)}return t}function N1(e){const t={},n=h(e,["media"]);if(n!=null){let v=AT(n);Array.isArray(v)&&(v=v.map(w=>yf(w))),p(t,["mediaChunks"],v)}const s=h(e,["audio"]);s!=null&&p(t,["audio"],yf(bT(s)));const a=h(e,["audioStreamEnd"]);a!=null&&p(t,["audioStreamEnd"],a);const c=h(e,["video"]);c!=null&&p(t,["video"],yf(xT(c)));const d=h(e,["text"]);d!=null&&p(t,["text"],d);const _=h(e,["activityStart"]);_!=null&&p(t,["activityStart"],_);const T=h(e,["activityEnd"]);return T!=null&&p(t,["activityEnd"],T),t}function M1(e){const t={},n=h(e,["media"]);if(n!=null){let v=AT(n);Array.isArray(v)&&(v=v.map(w=>w)),p(t,["mediaChunks"],v)}const s=h(e,["audio"]);s!=null&&p(t,["audio"],bT(s));const a=h(e,["audioStreamEnd"]);a!=null&&p(t,["audioStreamEnd"],a);const c=h(e,["video"]);c!=null&&p(t,["video"],xT(c));const d=h(e,["text"]);d!=null&&p(t,["text"],d);const _=h(e,["activityStart"]);_!=null&&p(t,["activityStart"],_);const T=h(e,["activityEnd"]);return T!=null&&p(t,["activityEnd"],T),t}function P1(e){const t={},n=h(e,["setupComplete"]);n!=null&&p(t,["setupComplete"],n);const s=h(e,["serverContent"]);s!=null&&p(t,["serverContent"],s);const a=h(e,["toolCall"]);a!=null&&p(t,["toolCall"],a);const c=h(e,["toolCallCancellation"]);c!=null&&p(t,["toolCallCancellation"],c);const d=h(e,["usageMetadata"]);d!=null&&p(t,["usageMetadata"],O1(d));const _=h(e,["goAway"]);_!=null&&p(t,["goAway"],_);const T=h(e,["sessionResumptionUpdate"]);T!=null&&p(t,["sessionResumptionUpdate"],T);const v=h(e,["voiceActivityDetectionSignal"]);v!=null&&p(t,["voiceActivityDetectionSignal"],v);const w=h(e,["voiceActivity"]);return w!=null&&p(t,["voiceActivity"],z1(w)),t}function D1(e){const t={},n=h(e,["mediaResolution"]);n!=null&&p(t,["mediaResolution"],n);const s=h(e,["codeExecutionResult"]);s!=null&&p(t,["codeExecutionResult"],s);const a=h(e,["executableCode"]);a!=null&&p(t,["executableCode"],a);const c=h(e,["fileData"]);c!=null&&p(t,["fileData"],y1(c));const d=h(e,["functionCall"]);d!=null&&p(t,["functionCall"],v1(d));const _=h(e,["functionResponse"]);_!=null&&p(t,["functionResponse"],_);const T=h(e,["inlineData"]);T!=null&&p(t,["inlineData"],yf(T));const v=h(e,["text"]);v!=null&&p(t,["text"],v);const w=h(e,["thought"]);w!=null&&p(t,["thought"],w);const x=h(e,["thoughtSignature"]);x!=null&&p(t,["thoughtSignature"],x);const b=h(e,["videoMetadata"]);return b!=null&&p(t,["videoMetadata"],b),t}function L1(e){const t={},n=h(e,["handle"]);if(n!=null&&p(t,["handle"],n),h(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function k1(e){const t={};if(h(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=h(e,["computerUse"]);n!=null&&p(t,["computerUse"],n);const s=h(e,["fileSearch"]);s!=null&&p(t,["fileSearch"],s);const a=h(e,["codeExecution"]);if(a!=null&&p(t,["codeExecution"],a),h(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=h(e,["functionDeclarations"]);if(c!=null){let w=c;Array.isArray(w)&&(w=w.map(x=>x)),p(t,["functionDeclarations"],w)}const d=h(e,["googleMaps"]);d!=null&&p(t,["googleMaps"],S1(d));const _=h(e,["googleSearch"]);_!=null&&p(t,["googleSearch"],w1(_));const T=h(e,["googleSearchRetrieval"]);T!=null&&p(t,["googleSearchRetrieval"],T);const v=h(e,["urlContext"]);return v!=null&&p(t,["urlContext"],v),t}function U1(e){const t={},n=h(e,["retrieval"]);n!=null&&p(t,["retrieval"],n);const s=h(e,["computerUse"]);if(s!=null&&p(t,["computerUse"],s),h(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=h(e,["codeExecution"]);a!=null&&p(t,["codeExecution"],a);const c=h(e,["enterpriseWebSearch"]);c!=null&&p(t,["enterpriseWebSearch"],c);const d=h(e,["functionDeclarations"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(b=>T1(b))),p(t,["functionDeclarations"],x)}const _=h(e,["googleMaps"]);_!=null&&p(t,["googleMaps"],_);const T=h(e,["googleSearch"]);T!=null&&p(t,["googleSearch"],T);const v=h(e,["googleSearchRetrieval"]);v!=null&&p(t,["googleSearchRetrieval"],v);const w=h(e,["urlContext"]);return w!=null&&p(t,["urlContext"],w),t}function O1(e){const t={},n=h(e,["promptTokenCount"]);n!=null&&p(t,["promptTokenCount"],n);const s=h(e,["cachedContentTokenCount"]);s!=null&&p(t,["cachedContentTokenCount"],s);const a=h(e,["candidatesTokenCount"]);a!=null&&p(t,["responseTokenCount"],a);const c=h(e,["toolUsePromptTokenCount"]);c!=null&&p(t,["toolUsePromptTokenCount"],c);const d=h(e,["thoughtsTokenCount"]);d!=null&&p(t,["thoughtsTokenCount"],d);const _=h(e,["totalTokenCount"]);_!=null&&p(t,["totalTokenCount"],_);const T=h(e,["promptTokensDetails"]);if(T!=null){let U=T;Array.isArray(U)&&(U=U.map(Y=>Y)),p(t,["promptTokensDetails"],U)}const v=h(e,["cacheTokensDetails"]);if(v!=null){let U=v;Array.isArray(U)&&(U=U.map(Y=>Y)),p(t,["cacheTokensDetails"],U)}const w=h(e,["candidatesTokensDetails"]);if(w!=null){let U=w;Array.isArray(U)&&(U=U.map(Y=>Y)),p(t,["responseTokensDetails"],U)}const x=h(e,["toolUsePromptTokensDetails"]);if(x!=null){let U=x;Array.isArray(U)&&(U=U.map(Y=>Y)),p(t,["toolUsePromptTokensDetails"],U)}const b=h(e,["trafficType"]);return b!=null&&p(t,["trafficType"],b),t}function z1(e){const t={},n=h(e,["type"]);return n!=null&&p(t,["voiceActivityType"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function B1(e,t){const n={},s=h(e,["data"]);if(s!=null&&p(n,["data"],s),h(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=h(e,["mimeType"]);return a!=null&&p(n,["mimeType"],a),n}function H1(e,t){const n={},s=h(e,["content"]);s!=null&&p(n,["content"],s);const a=h(e,["citationMetadata"]);a!=null&&p(n,["citationMetadata"],V1(a));const c=h(e,["tokenCount"]);c!=null&&p(n,["tokenCount"],c);const d=h(e,["finishReason"]);d!=null&&p(n,["finishReason"],d);const _=h(e,["avgLogprobs"]);_!=null&&p(n,["avgLogprobs"],_);const T=h(e,["groundingMetadata"]);T!=null&&p(n,["groundingMetadata"],T);const v=h(e,["index"]);v!=null&&p(n,["index"],v);const w=h(e,["logprobsResult"]);w!=null&&p(n,["logprobsResult"],w);const x=h(e,["safetyRatings"]);if(x!=null){let U=x;Array.isArray(U)&&(U=U.map(Y=>Y)),p(n,["safetyRatings"],U)}const b=h(e,["urlContextMetadata"]);return b!=null&&p(n,["urlContextMetadata"],b),n}function V1(e,t){const n={},s=h(e,["citationSources"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(c=>c)),p(n,["citations"],a)}return n}function G1(e,t,n){const s={},a=h(t,["model"]);a!=null&&p(s,["_url","model"],ge(e,a));const c=h(t,["contents"]);if(c!=null){let d=Qi(c);Array.isArray(d)&&(d=d.map(_=>_)),p(s,["contents"],d)}return s}function F1(e,t){const n={},s=h(e,["sdkHttpResponse"]);s!=null&&p(n,["sdkHttpResponse"],s);const a=h(e,["tokensInfo"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>d)),p(n,["tokensInfo"],c)}return n}function q1(e,t){const n={},s=h(e,["values"]);s!=null&&p(n,["values"],s);const a=h(e,["statistics"]);return a!=null&&p(n,["statistics"],Z1(a)),n}function Z1(e,t){const n={},s=h(e,["truncated"]);s!=null&&p(n,["truncated"],s);const a=h(e,["token_count"]);return a!=null&&p(n,["tokenCount"],a),n}function Gu(e,t){const n={},s=h(e,["parts"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>tR(d))),p(n,["parts"],c)}const a=h(e,["role"]);return a!=null&&p(n,["role"],a),n}function J1(e,t){const n={},s=h(e,["controlType"]);s!=null&&p(n,["controlType"],s);const a=h(e,["enableControlImageComputation"]);return a!=null&&p(n,["computeControl"],a),n}function Y1(e,t){const n={};if(h(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(h(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(h(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function K1(e,t,n){const s={},a=h(e,["systemInstruction"]);t!==void 0&&a!=null&&p(t,["systemInstruction"],In(a));const c=h(e,["tools"]);if(t!==void 0&&c!=null){let _=c;Array.isArray(_)&&(_=_.map(T=>VT(T))),p(t,["tools"],_)}const d=h(e,["generationConfig"]);return t!==void 0&&d!=null&&p(t,["generationConfig"],BI(d)),s}function W1(e,t,n){const s={},a=h(t,["model"]);a!=null&&p(s,["_url","model"],ge(e,a));const c=h(t,["contents"]);if(c!=null){let _=Qi(c);Array.isArray(_)&&(_=_.map(T=>Gu(T))),p(s,["contents"],_)}const d=h(t,["config"]);return d!=null&&Y1(d),s}function X1(e,t,n){const s={},a=h(t,["model"]);a!=null&&p(s,["_url","model"],ge(e,a));const c=h(t,["contents"]);if(c!=null){let _=Qi(c);Array.isArray(_)&&(_=_.map(T=>T)),p(s,["contents"],_)}const d=h(t,["config"]);return d!=null&&K1(d,s),s}function $1(e,t){const n={},s=h(e,["sdkHttpResponse"]);s!=null&&p(n,["sdkHttpResponse"],s);const a=h(e,["totalTokens"]);a!=null&&p(n,["totalTokens"],a);const c=h(e,["cachedContentTokenCount"]);return c!=null&&p(n,["cachedContentTokenCount"],c),n}function Q1(e,t){const n={},s=h(e,["sdkHttpResponse"]);s!=null&&p(n,["sdkHttpResponse"],s);const a=h(e,["totalTokens"]);return a!=null&&p(n,["totalTokens"],a),n}function j1(e,t,n){const s={},a=h(t,["model"]);return a!=null&&p(s,["_url","name"],ge(e,a)),s}function tI(e,t,n){const s={},a=h(t,["model"]);return a!=null&&p(s,["_url","name"],ge(e,a)),s}function eI(e,t){const n={},s=h(e,["sdkHttpResponse"]);return s!=null&&p(n,["sdkHttpResponse"],s),n}function nI(e,t){const n={},s=h(e,["sdkHttpResponse"]);return s!=null&&p(n,["sdkHttpResponse"],s),n}function iI(e,t,n){const s={},a=h(e,["outputGcsUri"]);t!==void 0&&a!=null&&p(t,["parameters","storageUri"],a);const c=h(e,["negativePrompt"]);t!==void 0&&c!=null&&p(t,["parameters","negativePrompt"],c);const d=h(e,["numberOfImages"]);t!==void 0&&d!=null&&p(t,["parameters","sampleCount"],d);const _=h(e,["aspectRatio"]);t!==void 0&&_!=null&&p(t,["parameters","aspectRatio"],_);const T=h(e,["guidanceScale"]);t!==void 0&&T!=null&&p(t,["parameters","guidanceScale"],T);const v=h(e,["seed"]);t!==void 0&&v!=null&&p(t,["parameters","seed"],v);const w=h(e,["safetyFilterLevel"]);t!==void 0&&w!=null&&p(t,["parameters","safetySetting"],w);const x=h(e,["personGeneration"]);t!==void 0&&x!=null&&p(t,["parameters","personGeneration"],x);const b=h(e,["includeSafetyAttributes"]);t!==void 0&&b!=null&&p(t,["parameters","includeSafetyAttributes"],b);const U=h(e,["includeRaiReason"]);t!==void 0&&U!=null&&p(t,["parameters","includeRaiReason"],U);const Y=h(e,["language"]);t!==void 0&&Y!=null&&p(t,["parameters","language"],Y);const K=h(e,["outputMimeType"]);t!==void 0&&K!=null&&p(t,["parameters","outputOptions","mimeType"],K);const $=h(e,["outputCompressionQuality"]);t!==void 0&&$!=null&&p(t,["parameters","outputOptions","compressionQuality"],$);const dt=h(e,["addWatermark"]);t!==void 0&&dt!=null&&p(t,["parameters","addWatermark"],dt);const _t=h(e,["labels"]);t!==void 0&&_t!=null&&p(t,["labels"],_t);const lt=h(e,["editMode"]);t!==void 0&&lt!=null&&p(t,["parameters","editMode"],lt);const St=h(e,["baseSteps"]);return t!==void 0&&St!=null&&p(t,["parameters","editConfig","baseSteps"],St),s}function oI(e,t,n){const s={},a=h(t,["model"]);a!=null&&p(s,["_url","model"],ge(e,a));const c=h(t,["prompt"]);c!=null&&p(s,["instances[0]","prompt"],c);const d=h(t,["referenceImages"]);if(d!=null){let T=d;Array.isArray(T)&&(T=T.map(v=>rR(v))),p(s,["instances[0]","referenceImages"],T)}const _=h(t,["config"]);return _!=null&&iI(_,s),s}function sI(e,t){const n={},s=h(e,["sdkHttpResponse"]);s!=null&&p(n,["sdkHttpResponse"],s);const a=h(e,["predictions"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>qf(d))),p(n,["generatedImages"],c)}return n}function rI(e,t,n){const s={},a=h(e,["taskType"]);t!==void 0&&a!=null&&p(t,["requests[]","taskType"],a);const c=h(e,["title"]);t!==void 0&&c!=null&&p(t,["requests[]","title"],c);const d=h(e,["outputDimensionality"]);if(t!==void 0&&d!=null&&p(t,["requests[]","outputDimensionality"],d),h(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(h(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return s}function aI(e,t,n){const s={};let a=h(n,["embeddingApiType"]);if(a===void 0&&(a="PREDICT"),a==="PREDICT"){const v=h(e,["taskType"]);t!==void 0&&v!=null&&p(t,["instances[]","task_type"],v)}else if(a==="EMBED_CONTENT"){const v=h(e,["taskType"]);t!==void 0&&v!=null&&p(t,["taskType"],v)}let c=h(n,["embeddingApiType"]);if(c===void 0&&(c="PREDICT"),c==="PREDICT"){const v=h(e,["title"]);t!==void 0&&v!=null&&p(t,["instances[]","title"],v)}else if(c==="EMBED_CONTENT"){const v=h(e,["title"]);t!==void 0&&v!=null&&p(t,["title"],v)}let d=h(n,["embeddingApiType"]);if(d===void 0&&(d="PREDICT"),d==="PREDICT"){const v=h(e,["outputDimensionality"]);t!==void 0&&v!=null&&p(t,["parameters","outputDimensionality"],v)}else if(d==="EMBED_CONTENT"){const v=h(e,["outputDimensionality"]);t!==void 0&&v!=null&&p(t,["outputDimensionality"],v)}let _=h(n,["embeddingApiType"]);if(_===void 0&&(_="PREDICT"),_==="PREDICT"){const v=h(e,["mimeType"]);t!==void 0&&v!=null&&p(t,["instances[]","mimeType"],v)}let T=h(n,["embeddingApiType"]);if(T===void 0&&(T="PREDICT"),T==="PREDICT"){const v=h(e,["autoTruncate"]);t!==void 0&&v!=null&&p(t,["parameters","autoTruncate"],v)}else if(T==="EMBED_CONTENT"){const v=h(e,["autoTruncate"]);t!==void 0&&v!=null&&p(t,["autoTruncate"],v)}return s}function lI(e,t,n){const s={},a=h(t,["model"]);a!=null&&p(s,["_url","model"],ge(e,a));const c=h(t,["contents"]);if(c!=null){let v=Hp(e,c);Array.isArray(v)&&(v=v.map(w=>w)),p(s,["requests[]","content"],v)}const d=h(t,["content"]);d!=null&&Gu(In(d));const _=h(t,["config"]);_!=null&&rI(_,s);const T=h(t,["model"]);return T!==void 0&&p(s,["requests[]","model"],ge(e,T)),s}function uI(e,t,n){const s={},a=h(t,["model"]);a!=null&&p(s,["_url","model"],ge(e,a));let c=h(n,["embeddingApiType"]);if(c===void 0&&(c="PREDICT"),c==="PREDICT"){const T=h(t,["contents"]);if(T!=null){let v=Hp(e,T);Array.isArray(v)&&(v=v.map(w=>w)),p(s,["instances[]","content"],v)}}let d=h(n,["embeddingApiType"]);if(d===void 0&&(d="PREDICT"),d==="EMBED_CONTENT"){const T=h(t,["content"]);T!=null&&p(s,["content"],In(T))}const _=h(t,["config"]);return _!=null&&aI(_,s,n),s}function cI(e,t){const n={},s=h(e,["sdkHttpResponse"]);s!=null&&p(n,["sdkHttpResponse"],s);const a=h(e,["embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(_=>_)),p(n,["embeddings"],d)}const c=h(e,["metadata"]);return c!=null&&p(n,["metadata"],c),n}function fI(e,t){const n={},s=h(e,["sdkHttpResponse"]);s!=null&&p(n,["sdkHttpResponse"],s);const a=h(e,["predictions[]","embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(_=>q1(_))),p(n,["embeddings"],d)}const c=h(e,["metadata"]);if(c!=null&&p(n,["metadata"],c),t&&h(t,["embeddingApiType"])==="EMBED_CONTENT"){const d=h(e,["embedding"]),_=h(e,["usageMetadata"]),T=h(e,["truncated"]);if(d){const v={};_&&_.promptTokenCount&&(v.tokenCount=_.promptTokenCount),T&&(v.truncated=T),d.statistics=v,p(n,["embeddings"],[d])}}return n}function dI(e,t){const n={},s=h(e,["endpoint"]);s!=null&&p(n,["name"],s);const a=h(e,["deployedModelId"]);return a!=null&&p(n,["deployedModelId"],a),n}function hI(e,t){const n={};if(h(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=h(e,["fileUri"]);s!=null&&p(n,["fileUri"],s);const a=h(e,["mimeType"]);return a!=null&&p(n,["mimeType"],a),n}function pI(e,t){const n={},s=h(e,["id"]);s!=null&&p(n,["id"],s);const a=h(e,["args"]);a!=null&&p(n,["args"],a);const c=h(e,["name"]);if(c!=null&&p(n,["name"],c),h(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function mI(e,t){const n={},s=h(e,["allowedFunctionNames"]);s!=null&&p(n,["allowedFunctionNames"],s);const a=h(e,["mode"]);if(a!=null&&p(n,["mode"],a),h(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function gI(e,t){const n={},s=h(e,["description"]);s!=null&&p(n,["description"],s);const a=h(e,["name"]);a!=null&&p(n,["name"],a);const c=h(e,["parameters"]);c!=null&&p(n,["parameters"],c);const d=h(e,["parametersJsonSchema"]);d!=null&&p(n,["parametersJsonSchema"],d);const _=h(e,["response"]);_!=null&&p(n,["response"],_);const T=h(e,["responseJsonSchema"]);if(T!=null&&p(n,["responseJsonSchema"],T),h(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function _I(e,t,n,s){const a={},c=h(t,["systemInstruction"]);n!==void 0&&c!=null&&p(n,["systemInstruction"],Gu(In(c)));const d=h(t,["temperature"]);d!=null&&p(a,["temperature"],d);const _=h(t,["topP"]);_!=null&&p(a,["topP"],_);const T=h(t,["topK"]);T!=null&&p(a,["topK"],T);const v=h(t,["candidateCount"]);v!=null&&p(a,["candidateCount"],v);const w=h(t,["maxOutputTokens"]);w!=null&&p(a,["maxOutputTokens"],w);const x=h(t,["stopSequences"]);x!=null&&p(a,["stopSequences"],x);const b=h(t,["responseLogprobs"]);b!=null&&p(a,["responseLogprobs"],b);const U=h(t,["logprobs"]);U!=null&&p(a,["logprobs"],U);const Y=h(t,["presencePenalty"]);Y!=null&&p(a,["presencePenalty"],Y);const K=h(t,["frequencyPenalty"]);K!=null&&p(a,["frequencyPenalty"],K);const $=h(t,["seed"]);$!=null&&p(a,["seed"],$);const dt=h(t,["responseMimeType"]);dt!=null&&p(a,["responseMimeType"],dt);const _t=h(t,["responseSchema"]);_t!=null&&p(a,["responseSchema"],Vp(_t));const lt=h(t,["responseJsonSchema"]);if(lt!=null&&p(a,["responseJsonSchema"],lt),h(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(h(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const St=h(t,["safetySettings"]);if(n!==void 0&&St!=null){let Ut=St;Array.isArray(Ut)&&(Ut=Ut.map(Ee=>aR(Ee))),p(n,["safetySettings"],Ut)}const Rt=h(t,["tools"]);if(n!==void 0&&Rt!=null){let Ut=Ll(Rt);Array.isArray(Ut)&&(Ut=Ut.map(Ee=>pR(Dl(Ee)))),p(n,["tools"],Ut)}const ft=h(t,["toolConfig"]);if(n!==void 0&&ft!=null&&p(n,["toolConfig"],hR(ft)),h(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const z=h(t,["cachedContent"]);n!==void 0&&z!=null&&p(n,["cachedContent"],js(e,z));const O=h(t,["responseModalities"]);O!=null&&p(a,["responseModalities"],O);const k=h(t,["mediaResolution"]);k!=null&&p(a,["mediaResolution"],k);const F=h(t,["speechConfig"]);if(F!=null&&p(a,["speechConfig"],Gp(F)),h(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const V=h(t,["thinkingConfig"]);V!=null&&p(a,["thinkingConfig"],V);const J=h(t,["imageConfig"]);J!=null&&p(a,["imageConfig"],qI(J));const B=h(t,["enableEnhancedCivicAnswers"]);if(B!=null&&p(a,["enableEnhancedCivicAnswers"],B),h(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return a}function yI(e,t,n,s){const a={},c=h(t,["systemInstruction"]);n!==void 0&&c!=null&&p(n,["systemInstruction"],In(c));const d=h(t,["temperature"]);d!=null&&p(a,["temperature"],d);const _=h(t,["topP"]);_!=null&&p(a,["topP"],_);const T=h(t,["topK"]);T!=null&&p(a,["topK"],T);const v=h(t,["candidateCount"]);v!=null&&p(a,["candidateCount"],v);const w=h(t,["maxOutputTokens"]);w!=null&&p(a,["maxOutputTokens"],w);const x=h(t,["stopSequences"]);x!=null&&p(a,["stopSequences"],x);const b=h(t,["responseLogprobs"]);b!=null&&p(a,["responseLogprobs"],b);const U=h(t,["logprobs"]);U!=null&&p(a,["logprobs"],U);const Y=h(t,["presencePenalty"]);Y!=null&&p(a,["presencePenalty"],Y);const K=h(t,["frequencyPenalty"]);K!=null&&p(a,["frequencyPenalty"],K);const $=h(t,["seed"]);$!=null&&p(a,["seed"],$);const dt=h(t,["responseMimeType"]);dt!=null&&p(a,["responseMimeType"],dt);const _t=h(t,["responseSchema"]);_t!=null&&p(a,["responseSchema"],Vp(_t));const lt=h(t,["responseJsonSchema"]);lt!=null&&p(a,["responseJsonSchema"],lt);const St=h(t,["routingConfig"]);St!=null&&p(a,["routingConfig"],St);const Rt=h(t,["modelSelectionConfig"]);Rt!=null&&p(a,["modelConfig"],Rt);const ft=h(t,["safetySettings"]);if(n!==void 0&&ft!=null){let ut=ft;Array.isArray(ut)&&(ut=ut.map(qt=>qt)),p(n,["safetySettings"],ut)}const z=h(t,["tools"]);if(n!==void 0&&z!=null){let ut=Ll(z);Array.isArray(ut)&&(ut=ut.map(qt=>VT(Dl(qt)))),p(n,["tools"],ut)}const O=h(t,["toolConfig"]);n!==void 0&&O!=null&&p(n,["toolConfig"],O);const k=h(t,["labels"]);n!==void 0&&k!=null&&p(n,["labels"],k);const F=h(t,["cachedContent"]);n!==void 0&&F!=null&&p(n,["cachedContent"],js(e,F));const V=h(t,["responseModalities"]);V!=null&&p(a,["responseModalities"],V);const J=h(t,["mediaResolution"]);J!=null&&p(a,["mediaResolution"],J);const B=h(t,["speechConfig"]);B!=null&&p(a,["speechConfig"],Gp(B));const Ut=h(t,["audioTimestamp"]);Ut!=null&&p(a,["audioTimestamp"],Ut);const Ee=h(t,["thinkingConfig"]);Ee!=null&&p(a,["thinkingConfig"],Ee);const rt=h(t,["imageConfig"]);if(rt!=null&&p(a,["imageConfig"],ZI(rt)),h(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const At=h(t,["modelArmorConfig"]);return n!==void 0&&At!=null&&p(n,["modelArmorConfig"],At),a}function t0(e,t,n){const s={},a=h(t,["model"]);a!=null&&p(s,["_url","model"],ge(e,a));const c=h(t,["contents"]);if(c!=null){let _=Qi(c);Array.isArray(_)&&(_=_.map(T=>Gu(T))),p(s,["contents"],_)}const d=h(t,["config"]);return d!=null&&p(s,["generationConfig"],_I(e,d,s)),s}function e0(e,t,n){const s={},a=h(t,["model"]);a!=null&&p(s,["_url","model"],ge(e,a));const c=h(t,["contents"]);if(c!=null){let _=Qi(c);Array.isArray(_)&&(_=_.map(T=>T)),p(s,["contents"],_)}const d=h(t,["config"]);return d!=null&&p(s,["generationConfig"],yI(e,d,s)),s}function n0(e,t){const n={},s=h(e,["sdkHttpResponse"]);s!=null&&p(n,["sdkHttpResponse"],s);const a=h(e,["candidates"]);if(a!=null){let v=a;Array.isArray(v)&&(v=v.map(w=>H1(w))),p(n,["candidates"],v)}const c=h(e,["modelVersion"]);c!=null&&p(n,["modelVersion"],c);const d=h(e,["promptFeedback"]);d!=null&&p(n,["promptFeedback"],d);const _=h(e,["responseId"]);_!=null&&p(n,["responseId"],_);const T=h(e,["usageMetadata"]);return T!=null&&p(n,["usageMetadata"],T),n}function i0(e,t){const n={},s=h(e,["sdkHttpResponse"]);s!=null&&p(n,["sdkHttpResponse"],s);const a=h(e,["candidates"]);if(a!=null){let w=a;Array.isArray(w)&&(w=w.map(x=>x)),p(n,["candidates"],w)}const c=h(e,["createTime"]);c!=null&&p(n,["createTime"],c);const d=h(e,["modelVersion"]);d!=null&&p(n,["modelVersion"],d);const _=h(e,["promptFeedback"]);_!=null&&p(n,["promptFeedback"],_);const T=h(e,["responseId"]);T!=null&&p(n,["responseId"],T);const v=h(e,["usageMetadata"]);return v!=null&&p(n,["usageMetadata"],v),n}function vI(e,t,n){const s={};if(h(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(h(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=h(e,["numberOfImages"]);t!==void 0&&a!=null&&p(t,["parameters","sampleCount"],a);const c=h(e,["aspectRatio"]);t!==void 0&&c!=null&&p(t,["parameters","aspectRatio"],c);const d=h(e,["guidanceScale"]);if(t!==void 0&&d!=null&&p(t,["parameters","guidanceScale"],d),h(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const _=h(e,["safetyFilterLevel"]);t!==void 0&&_!=null&&p(t,["parameters","safetySetting"],_);const T=h(e,["personGeneration"]);t!==void 0&&T!=null&&p(t,["parameters","personGeneration"],T);const v=h(e,["includeSafetyAttributes"]);t!==void 0&&v!=null&&p(t,["parameters","includeSafetyAttributes"],v);const w=h(e,["includeRaiReason"]);t!==void 0&&w!=null&&p(t,["parameters","includeRaiReason"],w);const x=h(e,["language"]);t!==void 0&&x!=null&&p(t,["parameters","language"],x);const b=h(e,["outputMimeType"]);t!==void 0&&b!=null&&p(t,["parameters","outputOptions","mimeType"],b);const U=h(e,["outputCompressionQuality"]);if(t!==void 0&&U!=null&&p(t,["parameters","outputOptions","compressionQuality"],U),h(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(h(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Y=h(e,["imageSize"]);if(t!==void 0&&Y!=null&&p(t,["parameters","sampleImageSize"],Y),h(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return s}function TI(e,t,n){const s={},a=h(e,["outputGcsUri"]);t!==void 0&&a!=null&&p(t,["parameters","storageUri"],a);const c=h(e,["negativePrompt"]);t!==void 0&&c!=null&&p(t,["parameters","negativePrompt"],c);const d=h(e,["numberOfImages"]);t!==void 0&&d!=null&&p(t,["parameters","sampleCount"],d);const _=h(e,["aspectRatio"]);t!==void 0&&_!=null&&p(t,["parameters","aspectRatio"],_);const T=h(e,["guidanceScale"]);t!==void 0&&T!=null&&p(t,["parameters","guidanceScale"],T);const v=h(e,["seed"]);t!==void 0&&v!=null&&p(t,["parameters","seed"],v);const w=h(e,["safetyFilterLevel"]);t!==void 0&&w!=null&&p(t,["parameters","safetySetting"],w);const x=h(e,["personGeneration"]);t!==void 0&&x!=null&&p(t,["parameters","personGeneration"],x);const b=h(e,["includeSafetyAttributes"]);t!==void 0&&b!=null&&p(t,["parameters","includeSafetyAttributes"],b);const U=h(e,["includeRaiReason"]);t!==void 0&&U!=null&&p(t,["parameters","includeRaiReason"],U);const Y=h(e,["language"]);t!==void 0&&Y!=null&&p(t,["parameters","language"],Y);const K=h(e,["outputMimeType"]);t!==void 0&&K!=null&&p(t,["parameters","outputOptions","mimeType"],K);const $=h(e,["outputCompressionQuality"]);t!==void 0&&$!=null&&p(t,["parameters","outputOptions","compressionQuality"],$);const dt=h(e,["addWatermark"]);t!==void 0&&dt!=null&&p(t,["parameters","addWatermark"],dt);const _t=h(e,["labels"]);t!==void 0&&_t!=null&&p(t,["labels"],_t);const lt=h(e,["imageSize"]);t!==void 0&&lt!=null&&p(t,["parameters","sampleImageSize"],lt);const St=h(e,["enhancePrompt"]);return t!==void 0&&St!=null&&p(t,["parameters","enhancePrompt"],St),s}function EI(e,t,n){const s={},a=h(t,["model"]);a!=null&&p(s,["_url","model"],ge(e,a));const c=h(t,["prompt"]);c!=null&&p(s,["instances[0]","prompt"],c);const d=h(t,["config"]);return d!=null&&vI(d,s),s}function SI(e,t,n){const s={},a=h(t,["model"]);a!=null&&p(s,["_url","model"],ge(e,a));const c=h(t,["prompt"]);c!=null&&p(s,["instances[0]","prompt"],c);const d=h(t,["config"]);return d!=null&&TI(d,s),s}function wI(e,t){const n={},s=h(e,["sdkHttpResponse"]);s!=null&&p(n,["sdkHttpResponse"],s);const a=h(e,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(_=>kI(_))),p(n,["generatedImages"],d)}const c=h(e,["positivePromptSafetyAttributes"]);return c!=null&&p(n,["positivePromptSafetyAttributes"],BT(c)),n}function CI(e,t){const n={},s=h(e,["sdkHttpResponse"]);s!=null&&p(n,["sdkHttpResponse"],s);const a=h(e,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(_=>qf(_))),p(n,["generatedImages"],d)}const c=h(e,["positivePromptSafetyAttributes"]);return c!=null&&p(n,["positivePromptSafetyAttributes"],HT(c)),n}function AI(e,t,n){const s={},a=h(e,["numberOfVideos"]);if(t!==void 0&&a!=null&&p(t,["parameters","sampleCount"],a),h(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(h(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const c=h(e,["durationSeconds"]);if(t!==void 0&&c!=null&&p(t,["parameters","durationSeconds"],c),h(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=h(e,["aspectRatio"]);t!==void 0&&d!=null&&p(t,["parameters","aspectRatio"],d);const _=h(e,["resolution"]);t!==void 0&&_!=null&&p(t,["parameters","resolution"],_);const T=h(e,["personGeneration"]);if(t!==void 0&&T!=null&&p(t,["parameters","personGeneration"],T),h(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const v=h(e,["negativePrompt"]);t!==void 0&&v!=null&&p(t,["parameters","negativePrompt"],v);const w=h(e,["enhancePrompt"]);if(t!==void 0&&w!=null&&p(t,["parameters","enhancePrompt"],w),h(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const x=h(e,["lastFrame"]);t!==void 0&&x!=null&&p(t,["instances[0]","lastFrame"],Zf(x));const b=h(e,["referenceImages"]);if(t!==void 0&&b!=null){let U=b;Array.isArray(U)&&(U=U.map(Y=>bR(Y))),p(t,["instances[0]","referenceImages"],U)}if(h(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(h(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return s}function xI(e,t,n){const s={},a=h(e,["numberOfVideos"]);t!==void 0&&a!=null&&p(t,["parameters","sampleCount"],a);const c=h(e,["outputGcsUri"]);t!==void 0&&c!=null&&p(t,["parameters","storageUri"],c);const d=h(e,["fps"]);t!==void 0&&d!=null&&p(t,["parameters","fps"],d);const _=h(e,["durationSeconds"]);t!==void 0&&_!=null&&p(t,["parameters","durationSeconds"],_);const T=h(e,["seed"]);t!==void 0&&T!=null&&p(t,["parameters","seed"],T);const v=h(e,["aspectRatio"]);t!==void 0&&v!=null&&p(t,["parameters","aspectRatio"],v);const w=h(e,["resolution"]);t!==void 0&&w!=null&&p(t,["parameters","resolution"],w);const x=h(e,["personGeneration"]);t!==void 0&&x!=null&&p(t,["parameters","personGeneration"],x);const b=h(e,["pubsubTopic"]);t!==void 0&&b!=null&&p(t,["parameters","pubsubTopic"],b);const U=h(e,["negativePrompt"]);t!==void 0&&U!=null&&p(t,["parameters","negativePrompt"],U);const Y=h(e,["enhancePrompt"]);t!==void 0&&Y!=null&&p(t,["parameters","enhancePrompt"],Y);const K=h(e,["generateAudio"]);t!==void 0&&K!=null&&p(t,["parameters","generateAudio"],K);const $=h(e,["lastFrame"]);t!==void 0&&$!=null&&p(t,["instances[0]","lastFrame"],qo($));const dt=h(e,["referenceImages"]);if(t!==void 0&&dt!=null){let St=dt;Array.isArray(St)&&(St=St.map(Rt=>IR(Rt))),p(t,["instances[0]","referenceImages"],St)}const _t=h(e,["mask"]);t!==void 0&&_t!=null&&p(t,["instances[0]","mask"],xR(_t));const lt=h(e,["compressionQuality"]);return t!==void 0&&lt!=null&&p(t,["parameters","compressionQuality"],lt),s}function bI(e,t){const n={},s=h(e,["name"]);s!=null&&p(n,["name"],s);const a=h(e,["metadata"]);a!=null&&p(n,["metadata"],a);const c=h(e,["done"]);c!=null&&p(n,["done"],c);const d=h(e,["error"]);d!=null&&p(n,["error"],d);const _=h(e,["response","generateVideoResponse"]);return _!=null&&p(n,["response"],MI(_)),n}function II(e,t){const n={},s=h(e,["name"]);s!=null&&p(n,["name"],s);const a=h(e,["metadata"]);a!=null&&p(n,["metadata"],a);const c=h(e,["done"]);c!=null&&p(n,["done"],c);const d=h(e,["error"]);d!=null&&p(n,["error"],d);const _=h(e,["response"]);return _!=null&&p(n,["response"],PI(_)),n}function RI(e,t,n){const s={},a=h(t,["model"]);a!=null&&p(s,["_url","model"],ge(e,a));const c=h(t,["prompt"]);c!=null&&p(s,["instances[0]","prompt"],c);const d=h(t,["image"]);d!=null&&p(s,["instances[0]","image"],Zf(d));const _=h(t,["video"]);_!=null&&p(s,["instances[0]","video"],GT(_));const T=h(t,["source"]);T!=null&&DI(T,s);const v=h(t,["config"]);return v!=null&&AI(v,s),s}function NI(e,t,n){const s={},a=h(t,["model"]);a!=null&&p(s,["_url","model"],ge(e,a));const c=h(t,["prompt"]);c!=null&&p(s,["instances[0]","prompt"],c);const d=h(t,["image"]);d!=null&&p(s,["instances[0]","image"],qo(d));const _=h(t,["video"]);_!=null&&p(s,["instances[0]","video"],FT(_));const T=h(t,["source"]);T!=null&&LI(T,s);const v=h(t,["config"]);return v!=null&&xI(v,s),s}function MI(e,t){const n={},s=h(e,["generatedSamples"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(_=>OI(_))),p(n,["generatedVideos"],d)}const a=h(e,["raiMediaFilteredCount"]);a!=null&&p(n,["raiMediaFilteredCount"],a);const c=h(e,["raiMediaFilteredReasons"]);return c!=null&&p(n,["raiMediaFilteredReasons"],c),n}function PI(e,t){const n={},s=h(e,["videos"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(_=>zI(_))),p(n,["generatedVideos"],d)}const a=h(e,["raiMediaFilteredCount"]);a!=null&&p(n,["raiMediaFilteredCount"],a);const c=h(e,["raiMediaFilteredReasons"]);return c!=null&&p(n,["raiMediaFilteredReasons"],c),n}function DI(e,t,n){const s={},a=h(e,["prompt"]);t!==void 0&&a!=null&&p(t,["instances[0]","prompt"],a);const c=h(e,["image"]);t!==void 0&&c!=null&&p(t,["instances[0]","image"],Zf(c));const d=h(e,["video"]);return t!==void 0&&d!=null&&p(t,["instances[0]","video"],GT(d)),s}function LI(e,t,n){const s={},a=h(e,["prompt"]);t!==void 0&&a!=null&&p(t,["instances[0]","prompt"],a);const c=h(e,["image"]);t!==void 0&&c!=null&&p(t,["instances[0]","image"],qo(c));const d=h(e,["video"]);return t!==void 0&&d!=null&&p(t,["instances[0]","video"],FT(d)),s}function kI(e,t){const n={},s=h(e,["_self"]);s!=null&&p(n,["image"],JI(s));const a=h(e,["raiFilteredReason"]);a!=null&&p(n,["raiFilteredReason"],a);const c=h(e,["_self"]);return c!=null&&p(n,["safetyAttributes"],BT(c)),n}function qf(e,t){const n={},s=h(e,["_self"]);s!=null&&p(n,["image"],zT(s));const a=h(e,["raiFilteredReason"]);a!=null&&p(n,["raiFilteredReason"],a);const c=h(e,["_self"]);c!=null&&p(n,["safetyAttributes"],HT(c));const d=h(e,["prompt"]);return d!=null&&p(n,["enhancedPrompt"],d),n}function UI(e,t){const n={},s=h(e,["_self"]);s!=null&&p(n,["mask"],zT(s));const a=h(e,["labels"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>d)),p(n,["labels"],c)}return n}function OI(e,t){const n={},s=h(e,["video"]);return s!=null&&p(n,["video"],CR(s)),n}function zI(e,t){const n={},s=h(e,["_self"]);return s!=null&&p(n,["video"],AR(s)),n}function BI(e,t){const n={},s=h(e,["modelSelectionConfig"]);s!=null&&p(n,["modelConfig"],s);const a=h(e,["responseJsonSchema"]);a!=null&&p(n,["responseJsonSchema"],a);const c=h(e,["audioTimestamp"]);c!=null&&p(n,["audioTimestamp"],c);const d=h(e,["candidateCount"]);d!=null&&p(n,["candidateCount"],d);const _=h(e,["enableAffectiveDialog"]);_!=null&&p(n,["enableAffectiveDialog"],_);const T=h(e,["frequencyPenalty"]);T!=null&&p(n,["frequencyPenalty"],T);const v=h(e,["logprobs"]);v!=null&&p(n,["logprobs"],v);const w=h(e,["maxOutputTokens"]);w!=null&&p(n,["maxOutputTokens"],w);const x=h(e,["mediaResolution"]);x!=null&&p(n,["mediaResolution"],x);const b=h(e,["presencePenalty"]);b!=null&&p(n,["presencePenalty"],b);const U=h(e,["responseLogprobs"]);U!=null&&p(n,["responseLogprobs"],U);const Y=h(e,["responseMimeType"]);Y!=null&&p(n,["responseMimeType"],Y);const K=h(e,["responseModalities"]);K!=null&&p(n,["responseModalities"],K);const $=h(e,["responseSchema"]);$!=null&&p(n,["responseSchema"],$);const dt=h(e,["routingConfig"]);dt!=null&&p(n,["routingConfig"],dt);const _t=h(e,["seed"]);_t!=null&&p(n,["seed"],_t);const lt=h(e,["speechConfig"]);lt!=null&&p(n,["speechConfig"],lt);const St=h(e,["stopSequences"]);St!=null&&p(n,["stopSequences"],St);const Rt=h(e,["temperature"]);Rt!=null&&p(n,["temperature"],Rt);const ft=h(e,["thinkingConfig"]);ft!=null&&p(n,["thinkingConfig"],ft);const z=h(e,["topK"]);z!=null&&p(n,["topK"],z);const O=h(e,["topP"]);if(O!=null&&p(n,["topP"],O),h(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function HI(e,t,n){const s={},a=h(t,["model"]);return a!=null&&p(s,["_url","name"],ge(e,a)),s}function VI(e,t,n){const s={},a=h(t,["model"]);return a!=null&&p(s,["_url","name"],ge(e,a)),s}function GI(e,t){const n={};if(h(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const s=h(e,["enableWidget"]);return s!=null&&p(n,["enableWidget"],s),n}function FI(e,t){const n={};if(h(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const s=h(e,["timeRangeFilter"]);return s!=null&&p(n,["timeRangeFilter"],s),n}function qI(e,t){const n={},s=h(e,["aspectRatio"]);s!=null&&p(n,["aspectRatio"],s);const a=h(e,["imageSize"]);if(a!=null&&p(n,["imageSize"],a),h(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(h(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(h(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function ZI(e,t){const n={},s=h(e,["aspectRatio"]);s!=null&&p(n,["aspectRatio"],s);const a=h(e,["imageSize"]);a!=null&&p(n,["imageSize"],a);const c=h(e,["personGeneration"]);c!=null&&p(n,["personGeneration"],c);const d=h(e,["outputMimeType"]);d!=null&&p(n,["imageOutputOptions","mimeType"],d);const _=h(e,["outputCompressionQuality"]);return _!=null&&p(n,["imageOutputOptions","compressionQuality"],_),n}function JI(e,t){const n={},s=h(e,["bytesBase64Encoded"]);s!=null&&p(n,["imageBytes"],Zr(s));const a=h(e,["mimeType"]);return a!=null&&p(n,["mimeType"],a),n}function zT(e,t){const n={},s=h(e,["gcsUri"]);s!=null&&p(n,["gcsUri"],s);const a=h(e,["bytesBase64Encoded"]);a!=null&&p(n,["imageBytes"],Zr(a));const c=h(e,["mimeType"]);return c!=null&&p(n,["mimeType"],c),n}function Zf(e,t){const n={};if(h(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const s=h(e,["imageBytes"]);s!=null&&p(n,["bytesBase64Encoded"],Zr(s));const a=h(e,["mimeType"]);return a!=null&&p(n,["mimeType"],a),n}function qo(e,t){const n={},s=h(e,["gcsUri"]);s!=null&&p(n,["gcsUri"],s);const a=h(e,["imageBytes"]);a!=null&&p(n,["bytesBase64Encoded"],Zr(a));const c=h(e,["mimeType"]);return c!=null&&p(n,["mimeType"],c),n}function YI(e,t,n,s){const a={},c=h(t,["pageSize"]);n!==void 0&&c!=null&&p(n,["_query","pageSize"],c);const d=h(t,["pageToken"]);n!==void 0&&d!=null&&p(n,["_query","pageToken"],d);const _=h(t,["filter"]);n!==void 0&&_!=null&&p(n,["_query","filter"],_);const T=h(t,["queryBase"]);return n!==void 0&&T!=null&&p(n,["_url","models_url"],MT(e,T)),a}function KI(e,t,n,s){const a={},c=h(t,["pageSize"]);n!==void 0&&c!=null&&p(n,["_query","pageSize"],c);const d=h(t,["pageToken"]);n!==void 0&&d!=null&&p(n,["_query","pageToken"],d);const _=h(t,["filter"]);n!==void 0&&_!=null&&p(n,["_query","filter"],_);const T=h(t,["queryBase"]);return n!==void 0&&T!=null&&p(n,["_url","models_url"],MT(e,T)),a}function WI(e,t,n){const s={},a=h(t,["config"]);return a!=null&&YI(e,a,s),s}function XI(e,t,n){const s={},a=h(t,["config"]);return a!=null&&KI(e,a,s),s}function $I(e,t){const n={},s=h(e,["sdkHttpResponse"]);s!=null&&p(n,["sdkHttpResponse"],s);const a=h(e,["nextPageToken"]);a!=null&&p(n,["nextPageToken"],a);const c=h(e,["_self"]);if(c!=null){let d=PT(c);Array.isArray(d)&&(d=d.map(_=>pp(_))),p(n,["models"],d)}return n}function QI(e,t){const n={},s=h(e,["sdkHttpResponse"]);s!=null&&p(n,["sdkHttpResponse"],s);const a=h(e,["nextPageToken"]);a!=null&&p(n,["nextPageToken"],a);const c=h(e,["_self"]);if(c!=null){let d=PT(c);Array.isArray(d)&&(d=d.map(_=>mp(_))),p(n,["models"],d)}return n}function jI(e,t){const n={},s=h(e,["maskMode"]);s!=null&&p(n,["maskMode"],s);const a=h(e,["segmentationClasses"]);a!=null&&p(n,["maskClasses"],a);const c=h(e,["maskDilation"]);return c!=null&&p(n,["dilation"],c),n}function pp(e,t){const n={},s=h(e,["name"]);s!=null&&p(n,["name"],s);const a=h(e,["displayName"]);a!=null&&p(n,["displayName"],a);const c=h(e,["description"]);c!=null&&p(n,["description"],c);const d=h(e,["version"]);d!=null&&p(n,["version"],d);const _=h(e,["_self"]);_!=null&&p(n,["tunedModelInfo"],mR(_));const T=h(e,["inputTokenLimit"]);T!=null&&p(n,["inputTokenLimit"],T);const v=h(e,["outputTokenLimit"]);v!=null&&p(n,["outputTokenLimit"],v);const w=h(e,["supportedGenerationMethods"]);w!=null&&p(n,["supportedActions"],w);const x=h(e,["temperature"]);x!=null&&p(n,["temperature"],x);const b=h(e,["maxTemperature"]);b!=null&&p(n,["maxTemperature"],b);const U=h(e,["topP"]);U!=null&&p(n,["topP"],U);const Y=h(e,["topK"]);Y!=null&&p(n,["topK"],Y);const K=h(e,["thinking"]);return K!=null&&p(n,["thinking"],K),n}function mp(e,t){const n={},s=h(e,["name"]);s!=null&&p(n,["name"],s);const a=h(e,["displayName"]);a!=null&&p(n,["displayName"],a);const c=h(e,["description"]);c!=null&&p(n,["description"],c);const d=h(e,["versionId"]);d!=null&&p(n,["version"],d);const _=h(e,["deployedModels"]);if(_!=null){let b=_;Array.isArray(b)&&(b=b.map(U=>dI(U))),p(n,["endpoints"],b)}const T=h(e,["labels"]);T!=null&&p(n,["labels"],T);const v=h(e,["_self"]);v!=null&&p(n,["tunedModelInfo"],gR(v));const w=h(e,["defaultCheckpointId"]);w!=null&&p(n,["defaultCheckpointId"],w);const x=h(e,["checkpoints"]);if(x!=null){let b=x;Array.isArray(b)&&(b=b.map(U=>U)),p(n,["checkpoints"],b)}return n}function tR(e,t){const n={},s=h(e,["mediaResolution"]);s!=null&&p(n,["mediaResolution"],s);const a=h(e,["codeExecutionResult"]);a!=null&&p(n,["codeExecutionResult"],a);const c=h(e,["executableCode"]);c!=null&&p(n,["executableCode"],c);const d=h(e,["fileData"]);d!=null&&p(n,["fileData"],hI(d));const _=h(e,["functionCall"]);_!=null&&p(n,["functionCall"],pI(_));const T=h(e,["functionResponse"]);T!=null&&p(n,["functionResponse"],T);const v=h(e,["inlineData"]);v!=null&&p(n,["inlineData"],B1(v));const w=h(e,["text"]);w!=null&&p(n,["text"],w);const x=h(e,["thought"]);x!=null&&p(n,["thought"],x);const b=h(e,["thoughtSignature"]);b!=null&&p(n,["thoughtSignature"],b);const U=h(e,["videoMetadata"]);return U!=null&&p(n,["videoMetadata"],U),n}function eR(e,t){const n={},s=h(e,["productImage"]);return s!=null&&p(n,["image"],qo(s)),n}function nR(e,t,n){const s={},a=h(e,["numberOfImages"]);t!==void 0&&a!=null&&p(t,["parameters","sampleCount"],a);const c=h(e,["baseSteps"]);t!==void 0&&c!=null&&p(t,["parameters","baseSteps"],c);const d=h(e,["outputGcsUri"]);t!==void 0&&d!=null&&p(t,["parameters","storageUri"],d);const _=h(e,["seed"]);t!==void 0&&_!=null&&p(t,["parameters","seed"],_);const T=h(e,["safetyFilterLevel"]);t!==void 0&&T!=null&&p(t,["parameters","safetySetting"],T);const v=h(e,["personGeneration"]);t!==void 0&&v!=null&&p(t,["parameters","personGeneration"],v);const w=h(e,["addWatermark"]);t!==void 0&&w!=null&&p(t,["parameters","addWatermark"],w);const x=h(e,["outputMimeType"]);t!==void 0&&x!=null&&p(t,["parameters","outputOptions","mimeType"],x);const b=h(e,["outputCompressionQuality"]);t!==void 0&&b!=null&&p(t,["parameters","outputOptions","compressionQuality"],b);const U=h(e,["enhancePrompt"]);t!==void 0&&U!=null&&p(t,["parameters","enhancePrompt"],U);const Y=h(e,["labels"]);return t!==void 0&&Y!=null&&p(t,["labels"],Y),s}function iR(e,t,n){const s={},a=h(t,["model"]);a!=null&&p(s,["_url","model"],ge(e,a));const c=h(t,["source"]);c!=null&&sR(c,s);const d=h(t,["config"]);return d!=null&&nR(d,s),s}function oR(e,t){const n={},s=h(e,["predictions"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(c=>qf(c))),p(n,["generatedImages"],a)}return n}function sR(e,t,n){const s={},a=h(e,["prompt"]);t!==void 0&&a!=null&&p(t,["instances[0]","prompt"],a);const c=h(e,["personImage"]);t!==void 0&&c!=null&&p(t,["instances[0]","personImage","image"],qo(c));const d=h(e,["productImages"]);if(t!==void 0&&d!=null){let _=d;Array.isArray(_)&&(_=_.map(T=>eR(T))),p(t,["instances[0]","productImages"],_)}return s}function rR(e,t){const n={},s=h(e,["referenceImage"]);s!=null&&p(n,["referenceImage"],qo(s));const a=h(e,["referenceId"]);a!=null&&p(n,["referenceId"],a);const c=h(e,["referenceType"]);c!=null&&p(n,["referenceType"],c);const d=h(e,["maskImageConfig"]);d!=null&&p(n,["maskImageConfig"],jI(d));const _=h(e,["controlImageConfig"]);_!=null&&p(n,["controlImageConfig"],J1(_));const T=h(e,["styleImageConfig"]);T!=null&&p(n,["styleImageConfig"],T);const v=h(e,["subjectImageConfig"]);return v!=null&&p(n,["subjectImageConfig"],v),n}function BT(e,t){const n={},s=h(e,["safetyAttributes","categories"]);s!=null&&p(n,["categories"],s);const a=h(e,["safetyAttributes","scores"]);a!=null&&p(n,["scores"],a);const c=h(e,["contentType"]);return c!=null&&p(n,["contentType"],c),n}function HT(e,t){const n={},s=h(e,["safetyAttributes","categories"]);s!=null&&p(n,["categories"],s);const a=h(e,["safetyAttributes","scores"]);a!=null&&p(n,["scores"],a);const c=h(e,["contentType"]);return c!=null&&p(n,["contentType"],c),n}function aR(e,t){const n={},s=h(e,["category"]);if(s!=null&&p(n,["category"],s),h(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=h(e,["threshold"]);return a!=null&&p(n,["threshold"],a),n}function lR(e,t){const n={},s=h(e,["image"]);return s!=null&&p(n,["image"],qo(s)),n}function uR(e,t,n){const s={},a=h(e,["mode"]);t!==void 0&&a!=null&&p(t,["parameters","mode"],a);const c=h(e,["maxPredictions"]);t!==void 0&&c!=null&&p(t,["parameters","maxPredictions"],c);const d=h(e,["confidenceThreshold"]);t!==void 0&&d!=null&&p(t,["parameters","confidenceThreshold"],d);const _=h(e,["maskDilation"]);t!==void 0&&_!=null&&p(t,["parameters","maskDilation"],_);const T=h(e,["binaryColorThreshold"]);t!==void 0&&T!=null&&p(t,["parameters","binaryColorThreshold"],T);const v=h(e,["labels"]);return t!==void 0&&v!=null&&p(t,["labels"],v),s}function cR(e,t,n){const s={},a=h(t,["model"]);a!=null&&p(s,["_url","model"],ge(e,a));const c=h(t,["source"]);c!=null&&dR(c,s);const d=h(t,["config"]);return d!=null&&uR(d,s),s}function fR(e,t){const n={},s=h(e,["predictions"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(c=>UI(c))),p(n,["generatedMasks"],a)}return n}function dR(e,t,n){const s={},a=h(e,["prompt"]);t!==void 0&&a!=null&&p(t,["instances[0]","prompt"],a);const c=h(e,["image"]);t!==void 0&&c!=null&&p(t,["instances[0]","image"],qo(c));const d=h(e,["scribbleImage"]);return t!==void 0&&d!=null&&p(t,["instances[0]","scribble"],lR(d)),s}function hR(e,t){const n={},s=h(e,["retrievalConfig"]);s!=null&&p(n,["retrievalConfig"],s);const a=h(e,["functionCallingConfig"]);return a!=null&&p(n,["functionCallingConfig"],mI(a)),n}function pR(e,t){const n={};if(h(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=h(e,["computerUse"]);s!=null&&p(n,["computerUse"],s);const a=h(e,["fileSearch"]);a!=null&&p(n,["fileSearch"],a);const c=h(e,["codeExecution"]);if(c!=null&&p(n,["codeExecution"],c),h(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=h(e,["functionDeclarations"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(b=>b)),p(n,["functionDeclarations"],x)}const _=h(e,["googleMaps"]);_!=null&&p(n,["googleMaps"],GI(_));const T=h(e,["googleSearch"]);T!=null&&p(n,["googleSearch"],FI(T));const v=h(e,["googleSearchRetrieval"]);v!=null&&p(n,["googleSearchRetrieval"],v);const w=h(e,["urlContext"]);return w!=null&&p(n,["urlContext"],w),n}function VT(e,t){const n={},s=h(e,["retrieval"]);s!=null&&p(n,["retrieval"],s);const a=h(e,["computerUse"]);if(a!=null&&p(n,["computerUse"],a),h(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=h(e,["codeExecution"]);c!=null&&p(n,["codeExecution"],c);const d=h(e,["enterpriseWebSearch"]);d!=null&&p(n,["enterpriseWebSearch"],d);const _=h(e,["functionDeclarations"]);if(_!=null){let b=_;Array.isArray(b)&&(b=b.map(U=>gI(U))),p(n,["functionDeclarations"],b)}const T=h(e,["googleMaps"]);T!=null&&p(n,["googleMaps"],T);const v=h(e,["googleSearch"]);v!=null&&p(n,["googleSearch"],v);const w=h(e,["googleSearchRetrieval"]);w!=null&&p(n,["googleSearchRetrieval"],w);const x=h(e,["urlContext"]);return x!=null&&p(n,["urlContext"],x),n}function mR(e,t){const n={},s=h(e,["baseModel"]);s!=null&&p(n,["baseModel"],s);const a=h(e,["createTime"]);a!=null&&p(n,["createTime"],a);const c=h(e,["updateTime"]);return c!=null&&p(n,["updateTime"],c),n}function gR(e,t){const n={},s=h(e,["labels","google-vertex-llm-tuning-base-model-id"]);s!=null&&p(n,["baseModel"],s);const a=h(e,["createTime"]);a!=null&&p(n,["createTime"],a);const c=h(e,["updateTime"]);return c!=null&&p(n,["updateTime"],c),n}function _R(e,t,n){const s={},a=h(e,["displayName"]);t!==void 0&&a!=null&&p(t,["displayName"],a);const c=h(e,["description"]);t!==void 0&&c!=null&&p(t,["description"],c);const d=h(e,["defaultCheckpointId"]);return t!==void 0&&d!=null&&p(t,["defaultCheckpointId"],d),s}function yR(e,t,n){const s={},a=h(e,["displayName"]);t!==void 0&&a!=null&&p(t,["displayName"],a);const c=h(e,["description"]);t!==void 0&&c!=null&&p(t,["description"],c);const d=h(e,["defaultCheckpointId"]);return t!==void 0&&d!=null&&p(t,["defaultCheckpointId"],d),s}function vR(e,t,n){const s={},a=h(t,["model"]);a!=null&&p(s,["_url","name"],ge(e,a));const c=h(t,["config"]);return c!=null&&_R(c,s),s}function TR(e,t,n){const s={},a=h(t,["model"]);a!=null&&p(s,["_url","model"],ge(e,a));const c=h(t,["config"]);return c!=null&&yR(c,s),s}function ER(e,t,n){const s={},a=h(e,["outputGcsUri"]);t!==void 0&&a!=null&&p(t,["parameters","storageUri"],a);const c=h(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&p(t,["parameters","safetySetting"],c);const d=h(e,["personGeneration"]);t!==void 0&&d!=null&&p(t,["parameters","personGeneration"],d);const _=h(e,["includeRaiReason"]);t!==void 0&&_!=null&&p(t,["parameters","includeRaiReason"],_);const T=h(e,["outputMimeType"]);t!==void 0&&T!=null&&p(t,["parameters","outputOptions","mimeType"],T);const v=h(e,["outputCompressionQuality"]);t!==void 0&&v!=null&&p(t,["parameters","outputOptions","compressionQuality"],v);const w=h(e,["enhanceInputImage"]);t!==void 0&&w!=null&&p(t,["parameters","upscaleConfig","enhanceInputImage"],w);const x=h(e,["imagePreservationFactor"]);t!==void 0&&x!=null&&p(t,["parameters","upscaleConfig","imagePreservationFactor"],x);const b=h(e,["labels"]);t!==void 0&&b!=null&&p(t,["labels"],b);const U=h(e,["numberOfImages"]);t!==void 0&&U!=null&&p(t,["parameters","sampleCount"],U);const Y=h(e,["mode"]);return t!==void 0&&Y!=null&&p(t,["parameters","mode"],Y),s}function SR(e,t,n){const s={},a=h(t,["model"]);a!=null&&p(s,["_url","model"],ge(e,a));const c=h(t,["image"]);c!=null&&p(s,["instances[0]","image"],qo(c));const d=h(t,["upscaleFactor"]);d!=null&&p(s,["parameters","upscaleConfig","upscaleFactor"],d);const _=h(t,["config"]);return _!=null&&ER(_,s),s}function wR(e,t){const n={},s=h(e,["sdkHttpResponse"]);s!=null&&p(n,["sdkHttpResponse"],s);const a=h(e,["predictions"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>qf(d))),p(n,["generatedImages"],c)}return n}function CR(e,t){const n={},s=h(e,["uri"]);s!=null&&p(n,["uri"],s);const a=h(e,["encodedVideo"]);a!=null&&p(n,["videoBytes"],Zr(a));const c=h(e,["encoding"]);return c!=null&&p(n,["mimeType"],c),n}function AR(e,t){const n={},s=h(e,["gcsUri"]);s!=null&&p(n,["uri"],s);const a=h(e,["bytesBase64Encoded"]);a!=null&&p(n,["videoBytes"],Zr(a));const c=h(e,["mimeType"]);return c!=null&&p(n,["mimeType"],c),n}function xR(e,t){const n={},s=h(e,["image"]);s!=null&&p(n,["_self"],qo(s));const a=h(e,["maskMode"]);return a!=null&&p(n,["maskMode"],a),n}function bR(e,t){const n={},s=h(e,["image"]);s!=null&&p(n,["image"],Zf(s));const a=h(e,["referenceType"]);return a!=null&&p(n,["referenceType"],a),n}function IR(e,t){const n={},s=h(e,["image"]);s!=null&&p(n,["image"],qo(s));const a=h(e,["referenceType"]);return a!=null&&p(n,["referenceType"],a),n}function GT(e,t){const n={},s=h(e,["uri"]);s!=null&&p(n,["uri"],s);const a=h(e,["videoBytes"]);a!=null&&p(n,["encodedVideo"],Zr(a));const c=h(e,["mimeType"]);return c!=null&&p(n,["encoding"],c),n}function FT(e,t){const n={},s=h(e,["uri"]);s!=null&&p(n,["gcsUri"],s);const a=h(e,["videoBytes"]);a!=null&&p(n,["bytesBase64Encoded"],Zr(a));const c=h(e,["mimeType"]);return c!=null&&p(n,["mimeType"],c),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RR(e,t){const n={},s=h(e,["displayName"]);return t!==void 0&&s!=null&&p(t,["displayName"],s),n}function NR(e){const t={},n=h(e,["config"]);return n!=null&&RR(n,t),t}function MR(e,t){const n={},s=h(e,["force"]);return t!==void 0&&s!=null&&p(t,["_query","force"],s),n}function PR(e){const t={},n=h(e,["name"]);n!=null&&p(t,["_url","name"],n);const s=h(e,["config"]);return s!=null&&MR(s,t),t}function DR(e){const t={},n=h(e,["name"]);return n!=null&&p(t,["_url","name"],n),t}function LR(e,t){const n={},s=h(e,["customMetadata"]);if(t!==void 0&&s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>d)),p(t,["customMetadata"],c)}const a=h(e,["chunkingConfig"]);return t!==void 0&&a!=null&&p(t,["chunkingConfig"],a),n}function kR(e){const t={},n=h(e,["name"]);n!=null&&p(t,["name"],n);const s=h(e,["metadata"]);s!=null&&p(t,["metadata"],s);const a=h(e,["done"]);a!=null&&p(t,["done"],a);const c=h(e,["error"]);c!=null&&p(t,["error"],c);const d=h(e,["response"]);return d!=null&&p(t,["response"],OR(d)),t}function UR(e){const t={},n=h(e,["fileSearchStoreName"]);n!=null&&p(t,["_url","file_search_store_name"],n);const s=h(e,["fileName"]);s!=null&&p(t,["fileName"],s);const a=h(e,["config"]);return a!=null&&LR(a,t),t}function OR(e){const t={},n=h(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const s=h(e,["parent"]);s!=null&&p(t,["parent"],s);const a=h(e,["documentName"]);return a!=null&&p(t,["documentName"],a),t}function zR(e,t){const n={},s=h(e,["pageSize"]);t!==void 0&&s!=null&&p(t,["_query","pageSize"],s);const a=h(e,["pageToken"]);return t!==void 0&&a!=null&&p(t,["_query","pageToken"],a),n}function BR(e){const t={},n=h(e,["config"]);return n!=null&&zR(n,t),t}function HR(e){const t={},n=h(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const s=h(e,["nextPageToken"]);s!=null&&p(t,["nextPageToken"],s);const a=h(e,["fileSearchStores"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>d)),p(t,["fileSearchStores"],c)}return t}function qT(e,t){const n={},s=h(e,["mimeType"]);t!==void 0&&s!=null&&p(t,["mimeType"],s);const a=h(e,["displayName"]);t!==void 0&&a!=null&&p(t,["displayName"],a);const c=h(e,["customMetadata"]);if(t!==void 0&&c!=null){let _=c;Array.isArray(_)&&(_=_.map(T=>T)),p(t,["customMetadata"],_)}const d=h(e,["chunkingConfig"]);return t!==void 0&&d!=null&&p(t,["chunkingConfig"],d),n}function VR(e){const t={},n=h(e,["fileSearchStoreName"]);n!=null&&p(t,["_url","file_search_store_name"],n);const s=h(e,["config"]);return s!=null&&qT(s,t),t}function GR(e){const t={},n=h(e,["sdkHttpResponse"]);return n!=null&&p(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FR="Content-Type",qR="X-Server-Timeout",ZR="User-Agent",gp="x-goog-api-client",JR="1.42.0",YR=`google-genai-sdk/${JR}`,KR="v1beta1",WR="v1beta",XR=5,$R=[408,429,500,502,503,504];class QR{constructor(t){var n,s,a;this.clientOptions=Object.assign({},t),this.customBaseUrl=(n=t.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const c={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const _=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!_?(c.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?c.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(c.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),c.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:KR}else{if(!this.clientOptions.apiKey)throw new Ou({message:"API key must be set when using the Gemini API.",status:403});c.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:WR,c.baseUrl="https://generativelanguage.googleapis.com/"}c.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=c,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(c,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&s.push(t.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,s){const a=[this.getRequestUrlInternal(n)];return s&&a.push(this.getBaseResourcePath()),t!==""&&a.push(t),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(t,n){return!(n.baseUrl&&n.baseUrlResourceScope===cp.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const s=this.shouldPrependVertexProjectPath(t,n),a=this.constructUrl(t.path,n,s);if(t.queryParams)for(const[d,_]of Object.entries(t.queryParams))a.searchParams.append(d,String(_));let c={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=t.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,n,a.toString(),t.abortSignal),this.unaryApiCall(a,c,t.httpMethod)}patchHttpOptions(t,n){const s=JSON.parse(JSON.stringify(t));for(const[a,c]of Object.entries(n))typeof c=="object"?s[a]=Object.assign(Object.assign({},s[a]),c):c!==void 0&&(s[a]=c);return s}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const s=this.shouldPrependVertexProjectPath(t,n),a=this.constructUrl(t.path,n,s);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let c={};return c.body=t.body,c=await this.includeExtraHttpOptionsToRequestInit(c,n,a.toString(),t.abortSignal),this.streamApiCall(a,c,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,s,a){if(n&&n.timeout||a){const c=new AbortController,d=c.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const _=setTimeout(()=>c.abort(),n.timeout);_&&typeof _.unref=="function"&&_.unref()}a&&a.addEventListener("abort",()=>{c.abort()}),t.signal=d}return n&&n.extraBody!==null&&jR(t,n.extraBody),t.headers=await this.getHeadersInternal(n,s),t}async unaryApiCall(t,n,s){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:s})).then(async a=>(await o0(a),new fp(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(t,n,s){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:s})).then(async a=>(await o0(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(t){return Ho(this,arguments,function*(){var s;const a=(s=t==null?void 0:t.body)===null||s===void 0?void 0:s.getReader(),c=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let d="";const _="data:",T=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:v,value:w}=yield Ft(a.read());if(v){if(d.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const x=c.decode(w,{stream:!0});try{const Y=JSON.parse(x);if("error"in Y){const K=JSON.parse(JSON.stringify(Y.error)),$=K.status,dt=K.code,_t=`got status: ${$}. ${JSON.stringify(Y)}`;if(dt>=400&&dt<600)throw new Ou({message:_t,status:dt})}}catch(Y){if(Y.name==="ApiError")throw Y}d+=x;let b=-1,U=0;for(;;){b=-1,U=0;for(const $ of T){const dt=d.indexOf($);dt!==-1&&(b===-1||dt<b)&&(b=dt,U=$.length)}if(b===-1)break;const Y=d.substring(0,b);d=d.substring(b+U);const K=Y.trim();if(K.startsWith(_)){const $=K.substring(_.length).trim();try{const dt=new Response($,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Ft(new fp(dt))}catch(dt){throw new Error(`exception parsing stream chunk ${$}. ${dt}`)}}}}}finally{a.releaseLock()}})}async apiCall(t,n){var s;if(!this.clientOptions.httpOptions||!this.clientOptions.httpOptions.retryOptions)return fetch(t,n);const a=this.clientOptions.httpOptions.retryOptions;return VA(async()=>{const d=await fetch(t,n);if(d.ok)return d;throw $R.includes(d.status)?new Error(`Retryable HTTP Error: ${d.statusText}`):new ST.AbortError(`Non-retryable exception ${d.statusText} sending request`)},{retries:((s=a.attempts)!==null&&s!==void 0?s:XR)-1})}getDefaultHeaders(){const t={},n=YR+" "+this.clientOptions.userAgentExtra;return t[ZR]=n,t[gp]=n,t[FR]="application/json",t}async getHeadersInternal(t,n){const s=new Headers;if(t&&t.headers){for(const[a,c]of Object.entries(t.headers))s.append(a,c);t.timeout&&t.timeout>0&&s.append(qR,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,n),s}getFileName(t){var n;let s="";return typeof t=="string"&&(s=t.replace(/[/\\]+$/,""),s=(n=s.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),s}async uploadFile(t,n){var s;const a={};n!=null&&(a.mimeType=n.mimeType,a.name=n.name,a.displayName=n.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const c=this.clientOptions.uploader,d=await c.stat(t);a.sizeBytes=String(d.size);const _=(s=n==null?void 0:n.mimeType)!==null&&s!==void 0?s:d.type;if(_===void 0||_==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=_;const T={file:a},v=this.getFileName(t),w=Nt("upload/v1beta/files",T._url),x=await this.fetchUploadUrl(w,a.sizeBytes,a.mimeType,v,T,n==null?void 0:n.httpOptions);return c.upload(t,x,this)}async uploadFileToFileSearchStore(t,n,s){var a;const c=this.clientOptions.uploader,d=await c.stat(n),_=String(d.size),T=(a=s==null?void 0:s.mimeType)!==null&&a!==void 0?a:d.type;if(T===void 0||T==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const v=`upload/v1beta/${t}:uploadToFileSearchStore`,w=this.getFileName(n),x={};s!=null&&qT(s,x);const b=await this.fetchUploadUrl(v,_,T,w,x,s==null?void 0:s.httpOptions);return c.uploadToFileSearchStore(n,b,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,s,a,c,d){var _;let T={};d?T=d:T={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${s}`},a?{"X-Goog-Upload-File-Name":a}:{})};const v=await this.request({path:t,body:JSON.stringify(c),httpMethod:"POST",httpOptions:T});if(!v||!(v!=null&&v.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const w=(_=v==null?void 0:v.headers)===null||_===void 0?void 0:_["x-goog-upload-url"];if(w===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return w}}async function o0(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let s;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?s=await e.json():s={error:{message:await e.text(),code:e.status,status:e.statusText}};const a=JSON.stringify(s);throw n>=400&&n<600?new Ou({message:a,status:n}):new Error(a)}}function jR(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const c=JSON.parse(e.body);if(typeof c=="object"&&c!==null&&!Array.isArray(c))n=c;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(c,d){const _=Object.assign({},c);for(const T in d)if(Object.prototype.hasOwnProperty.call(d,T)){const v=d[T],w=_[T];v&&typeof v=="object"&&!Array.isArray(v)&&w&&typeof w=="object"&&!Array.isArray(w)?_[T]=s(w,v):(w&&v&&typeof w!=typeof v&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${T}". Original type: ${typeof w}, New type: ${typeof v}. Overwriting.`),_[T]=v)}return _}const a=s(n,t);e.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tN="mcp_used/unknown";let eN=!1;function ZT(e){for(const t of e)if(nN(t)||typeof t=="object"&&"inputSchema"in t)return!0;return eN}function JT(e){var t;const n=(t=e[gp])!==null&&t!==void 0?t:"";e[gp]=(n+` ${tN}`).trimStart()}function nN(e){return e!==null&&typeof e=="object"&&e instanceof qp}function iN(e){return Ho(this,arguments,function*(n,s=100){let a,c=0;for(;c<s;){const d=yield Ft(n.listTools({cursor:a}));for(const _ of d.tools)yield yield Ft(_),c++;if(!d.nextCursor)break;a=d.nextCursor}})}class qp{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new qp(t,n)}async initialize(){var t,n,s,a;if(this.mcpTools.length>0)return;const c={},d=[];for(const w of this.mcpClients)try{for(var _=!0,T=(n=void 0,Vo(iN(w))),v;v=await T.next(),t=v.done,!t;_=!0){a=v.value,_=!1;const x=a;d.push(x);const b=x.name;if(c[b])throw new Error(`Duplicate function name ${b} found in MCP tools. Please ensure function names are unique.`);c[b]=w}}catch(x){n={error:x}}finally{try{!_&&!t&&(s=T.return)&&await s.call(T)}finally{if(n)throw n.error}}this.mcpTools=d,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),Rx(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const s of t)if(s.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[s.name];let c;this.config.timeout&&(c={timeout:this.config.timeout});const d=await a.callTool({name:s.name,arguments:s.args},void 0,c);n.push({functionResponse:{name:s.name,response:d.isError?{error:d}:d}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function oN(e,t,n){const s=new Ex;let a;n.data instanceof Blob?a=JSON.parse(await n.data.text()):a=JSON.parse(n.data),Object.assign(s,a),t(s)}class sN{constructor(t,n,s){this.apiClient=t,this.auth=n,this.webSocketFactory=s}async connect(t){var n,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),d=lN(this.apiClient.getDefaultHeaders()),_=this.apiClient.getApiKey(),T=`${a}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${_}`;let v=()=>{};const w=new Promise(lt=>{v=lt}),x=t.callbacks,b=function(){v({})},U=this.apiClient,Y={onopen:b,onmessage:lt=>{oN(U,x.onmessage,lt)},onerror:(n=x==null?void 0:x.onerror)!==null&&n!==void 0?n:function(lt){},onclose:(s=x==null?void 0:x.onclose)!==null&&s!==void 0?s:function(lt){}},K=this.webSocketFactory.create(T,aN(d),Y);K.connect(),await w;const _t={setup:{model:ge(this.apiClient,t.model)}};return K.send(JSON.stringify(_t)),new rN(K,this.apiClient)}}class rN{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=R1(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=I1(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(wl.PLAY)}pause(){this.sendPlaybackControl(wl.PAUSE)}stop(){this.sendPlaybackControl(wl.STOP)}resetContext(){this.sendPlaybackControl(wl.RESET_CONTEXT)}close(){this.conn.close()}}function aN(e){const t={};return e.forEach((n,s)=>{t[s]=n}),t}function lN(e){const t=new Headers;for(const[n,s]of Object.entries(e))t.append(n,s);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uN="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function cN(e,t,n){const s=new Tx;let a;n.data instanceof Blob?a=await n.data.text():n.data instanceof ArrayBuffer?a=new TextDecoder().decode(n.data):a=n.data;const c=JSON.parse(a);if(e.isVertexAI()){const d=P1(c);Object.assign(s,d)}else Object.assign(s,c);t(s)}class fN{constructor(t,n,s){this.apiClient=t,this.auth=n,this.webSocketFactory=s,this.music=new sN(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,s,a,c,d,_;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const T=this.apiClient.getWebsocketBaseUrl(),v=this.apiClient.getApiVersion();let w;const x=this.apiClient.getHeaders();t.config&&t.config.tools&&ZT(t.config.tools)&&JT(x);const b=mN(x);if(this.apiClient.isVertexAI()){const k=this.apiClient.getProject(),F=this.apiClient.getLocation(),V=this.apiClient.getApiKey(),J=!!k&&!!F||!!V;this.apiClient.getCustomBaseUrl()&&!J?w=T:(w=`${T}/ws/google.cloud.aiplatform.${v}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(b,w))}else{const k=this.apiClient.getApiKey();let F="BidiGenerateContent",V="key";k!=null&&k.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),v!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),F="BidiGenerateContentConstrained",V="access_token"),w=`${T}/ws/google.ai.generativelanguage.${v}.GenerativeService.${F}?${V}=${k}`}let U=()=>{};const Y=new Promise(k=>{U=k}),K=t.callbacks,$=function(){var k;(k=K==null?void 0:K.onopen)===null||k===void 0||k.call(K),U({})},dt=this.apiClient,_t={onopen:$,onmessage:k=>{cN(dt,K.onmessage,k)},onerror:(n=K==null?void 0:K.onerror)!==null&&n!==void 0?n:function(k){},onclose:(s=K==null?void 0:K.onclose)!==null&&s!==void 0?s:function(k){}},lt=this.webSocketFactory.create(w,pN(b),_t);lt.connect(),await Y;let St=ge(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&St.startsWith("publishers/")){const k=this.apiClient.getProject(),F=this.apiClient.getLocation();k&&F&&(St=`projects/${k}/locations/${F}/`+St)}let Rt={};this.apiClient.isVertexAI()&&((a=t.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Af.AUDIO]}:t.config.responseModalities=[Af.AUDIO]),!((c=t.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ft=(_=(d=t.config)===null||d===void 0?void 0:d.tools)!==null&&_!==void 0?_:[],z=[];for(const k of ft)if(this.isCallableTool(k)){const F=k;z.push(await F.tool())}else z.push(k);z.length>0&&(t.config.tools=z);const O={model:St,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?Rt=b1(this.apiClient,O):Rt=x1(this.apiClient,O),delete Rt.config,lt.send(JSON.stringify(Rt)),new hN(lt,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const dN={turnComplete:!0};class hN{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let s=[];try{s=Qi(n.turns),t.isVertexAI()||(s=s.map(a=>Gu(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:s,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let s=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?s=n.functionResponses:s=[n.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const c of s){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!t.isVertexAI()&&!("id"in c))throw new Error(uN)}return{toolResponse:{functionResponses:s}}}sendClientContent(t){t=Object.assign(Object.assign({},dN),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:M1(t)}:n={realtimeInput:N1(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function pN(e){const t={};return e.forEach((n,s)=>{t[s]=n}),t}function mN(e){const t=new Headers;for(const[n,s]of Object.entries(e))t.append(n,s);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const s0=10;function r0(e){var t,n,s;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let a=!1;for(const d of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(xl(d)){a=!0;break}if(!a)return!0;const c=(s=e==null?void 0:e.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function xl(e){return"callTool"in e&&typeof e.callTool=="function"}function gN(e){var t,n,s;return(s=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(a=>xl(a)))!==null&&s!==void 0?s:!1}function a0(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((s,a)=>{if(xl(s))return;const c=s;c.functionDeclarations&&c.functionDeclarations.length>0&&n.push(a)}),n}function l0(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _N extends Qs{constructor(t){super(),this.apiClient=t,this.embedContent=async n=>{if(!this.apiClient.isVertexAI())return await this.embedContentInternal(n);if(n.model.includes("gemini")&&n.model!=="gemini-embedding-001"||n.model.includes("maas")){const a=Qi(n.contents);if(a.length>1)throw new Error("The embedContent API for this model only supports one content at a time.");const c=Object.assign(Object.assign({},n),{content:a[0],embeddingApiType:xf.EMBED_CONTENT});return await this.embedContentInternal(c)}else{const a=Object.assign(Object.assign({},n),{embeddingApiType:xf.PREDICT});return await this.embedContentInternal(a)}},this.generateContent=async n=>{var s,a,c,d,_;const T=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!gN(n)||r0(n.config))return await this.generateContentInternal(T);const v=a0(n);if(v.length>0){const K=v.map($=>`tools[${$}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${K}.`)}let w,x;const b=Qi(T.contents),U=(c=(a=(s=T.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&c!==void 0?c:s0;let Y=0;for(;Y<U&&(w=await this.generateContentInternal(T),!(!w.functionCalls||w.functionCalls.length===0));){const K=w.candidates[0].content,$=[];for(const dt of(_=(d=n.config)===null||d===void 0?void 0:d.tools)!==null&&_!==void 0?_:[])if(xl(dt)){const lt=await dt.callTool(w.functionCalls);$.push(...lt)}Y++,x={role:"user",parts:$},T.contents=Qi(T.contents),T.contents.push(K),T.contents.push(x),l0(T.config)&&(b.push(K),b.push(x))}return l0(T.config)&&(w.automaticFunctionCallingHistory=b),w},this.generateContentStream=async n=>{var s,a,c,d,_;if(this.maybeMoveToResponseJsonSchem(n),r0(n.config)){const x=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(x)}const T=a0(n);if(T.length>0){const x=T.map(b=>`tools[${b}]`).join(", ");throw new Error(`Incompatible tools found at ${x}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const v=(c=(a=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.toolConfig)===null||a===void 0?void 0:a.functionCallingConfig)===null||c===void 0?void 0:c.streamFunctionCallArguments,w=(_=(d=n==null?void 0:n.config)===null||d===void 0?void 0:d.automaticFunctionCalling)===null||_===void 0?void 0:_.disable;if(v&&!w)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(s=>{var a;let c;const d=[];if(s!=null&&s.generatedImages)for(const T of s.generatedImages)T&&(T!=null&&T.safetyAttributes)&&((a=T==null?void 0:T.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?c=T==null?void 0:T.safetyAttributes:d.push(T);let _;return c?_={generatedImages:d,positivePromptSafetyAttributes:c,sdkHttpResponse:s.sdkHttpResponse}:_={generatedImages:d,sdkHttpResponse:s.sdkHttpResponse},_}),this.list=async n=>{var s;const d={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!d.config.queryBase){if(!((s=d.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");d.config.filter="labels.tune-type:*"}return new Ha(Ws.PAGED_ITEM_MODELS,_=>this.listInternal(_),await this.listInternal(d),d)},this.editImage=async n=>{const s={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(s.referenceImages=n.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async n=>{let s={numberOfImages:1,mode:"upscale"};n.config&&(s=Object.assign(Object.assign({},s),n.config));const a={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:s};return await this.upscaleImageInternal(a)},this.generateVideos=async n=>{var s,a,c,d,_,T;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=n.video)===null||s===void 0)&&s.uri&&(!((a=n.video)===null||a===void 0)&&a.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((d=(c=n.source)===null||c===void 0?void 0:c.video)===null||d===void 0)&&d.uri&&(!((T=(_=n.source)===null||_===void 0?void 0:_.video)===null||T===void 0)&&T.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,s,a;const c=(n=t.config)===null||n===void 0?void 0:n.tools;if(!c)return t;const d=await Promise.all(c.map(async T=>xl(T)?await T.tool():T)),_={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:d})};if(_.config.tools=d,t.config&&t.config.tools&&ZT(t.config.tools)){const T=(a=(s=t.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&a!==void 0?a:{};let v=Object.assign({},T);Object.keys(v).length===0&&(v=this.apiClient.getDefaultHeaders()),JT(v),_.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:v})}return _}async initAfcToolsMap(t){var n,s,a;const c=new Map;for(const d of(s=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&s!==void 0?s:[])if(xl(d)){const _=d,T=await _.tool();for(const v of(a=T.functionDeclarations)!==null&&a!==void 0?a:[]){if(!v.name)throw new Error("Function declaration name is required.");if(c.has(v.name))throw new Error(`Duplicate tool declaration name: ${v.name}`);c.set(v.name,_)}}return c}async processAfcStream(t){var n,s,a;const c=(a=(s=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&a!==void 0?a:s0;let d=!1,_=0;const T=await this.initAfcToolsMap(t);return(function(v,w,x){return Ho(this,arguments,function*(){for(var b,U,Y,K,$,dt;_<c;){d&&(_++,d=!1);const Rt=yield Ft(v.processParamsMaybeAddMcpUsage(x)),ft=yield Ft(v.generateContentStreamInternal(Rt)),z=[],O=[];try{for(var _t=!0,lt=(U=void 0,Vo(ft)),St;St=yield Ft(lt.next()),b=St.done,!b;_t=!0){K=St.value,_t=!1;const k=K;if(yield yield Ft(k),k.candidates&&(!(($=k.candidates[0])===null||$===void 0)&&$.content)){O.push(k.candidates[0].content);for(const F of(dt=k.candidates[0].content.parts)!==null&&dt!==void 0?dt:[])if(_<c&&F.functionCall){if(!F.functionCall.name)throw new Error("Function call name was not returned by the model.");if(w.has(F.functionCall.name)){const V=yield Ft(w.get(F.functionCall.name).callTool([F.functionCall]));z.push(...V)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${w.keys()}, mising tool: ${F.functionCall.name}`)}}}}catch(k){U={error:k}}finally{try{!_t&&!b&&(Y=lt.return)&&(yield Ft(Y.call(lt)))}finally{if(U)throw U.error}}if(z.length>0){d=!0;const k=new Cu;k.candidates=[{content:{role:"user",parts:z}}],yield yield Ft(k);const F=[];F.push(...O),F.push({role:"user",parts:z});const V=Qi(x.contents).concat(F);x.contents=V}else break}})})(this,T,t)}async generateContentInternal(t){var n,s,a,c;let d,_="",T={};if(this.apiClient.isVertexAI()){const v=e0(this.apiClient,t);return _=Nt("{model}:generateContent",v._url),T=v._query,delete v._url,delete v._query,d=this.apiClient.request({path:_,queryParams:T,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(w=>w.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:w.headers},b})),d.then(w=>{const x=i0(w),b=new Cu;return Object.assign(b,x),b})}else{const v=t0(this.apiClient,t);return _=Nt("{model}:generateContent",v._url),T=v._query,delete v._url,delete v._query,d=this.apiClient.request({path:_,queryParams:T,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(w=>w.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:w.headers},b})),d.then(w=>{const x=n0(w),b=new Cu;return Object.assign(b,x),b})}}async generateContentStreamInternal(t){var n,s,a,c;let d,_="",T={};if(this.apiClient.isVertexAI()){const v=e0(this.apiClient,t);return _=Nt("{model}:streamGenerateContent?alt=sse",v._url),T=v._query,delete v._url,delete v._query,d=this.apiClient.requestStream({path:_,queryParams:T,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}),d.then(function(x){return Ho(this,arguments,function*(){var b,U,Y,K;try{for(var $=!0,dt=Vo(x),_t;_t=yield Ft(dt.next()),b=_t.done,!b;$=!0){K=_t.value,$=!1;const lt=K,St=i0(yield Ft(lt.json()),t);St.sdkHttpResponse={headers:lt.headers};const Rt=new Cu;Object.assign(Rt,St),yield yield Ft(Rt)}}catch(lt){U={error:lt}}finally{try{!$&&!b&&(Y=dt.return)&&(yield Ft(Y.call(dt)))}finally{if(U)throw U.error}}})})}else{const v=t0(this.apiClient,t);return _=Nt("{model}:streamGenerateContent?alt=sse",v._url),T=v._query,delete v._url,delete v._query,d=this.apiClient.requestStream({path:_,queryParams:T,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}),d.then(function(x){return Ho(this,arguments,function*(){var b,U,Y,K;try{for(var $=!0,dt=Vo(x),_t;_t=yield Ft(dt.next()),b=_t.done,!b;$=!0){K=_t.value,$=!1;const lt=K,St=n0(yield Ft(lt.json()),t);St.sdkHttpResponse={headers:lt.headers};const Rt=new Cu;Object.assign(Rt,St),yield yield Ft(Rt)}}catch(lt){U={error:lt}}finally{try{!$&&!b&&(Y=dt.return)&&(yield Ft(Y.call(dt)))}finally{if(U)throw U.error}}})})}}async embedContentInternal(t){var n,s,a,c;let d,_="",T={};if(this.apiClient.isVertexAI()){const v=uI(this.apiClient,t,t),w=Mx(t.model)?"{model}:embedContent":"{model}:predict";return _=Nt(w,v._url),T=v._query,delete v._url,delete v._query,d=this.apiClient.request({path:_,queryParams:T,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(b=>{const U=b;return U.sdkHttpResponse={headers:x.headers},U})),d.then(x=>{const b=fI(x,t),U=new Ov;return Object.assign(U,b),U})}else{const v=lI(this.apiClient,t);return _=Nt("{model}:batchEmbedContents",v._url),T=v._query,delete v._url,delete v._query,d=this.apiClient.request({path:_,queryParams:T,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(w=>w.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:w.headers},b})),d.then(w=>{const x=cI(w),b=new Ov;return Object.assign(b,x),b})}}async generateImagesInternal(t){var n,s,a,c;let d,_="",T={};if(this.apiClient.isVertexAI()){const v=SI(this.apiClient,t);return _=Nt("{model}:predict",v._url),T=v._query,delete v._url,delete v._query,d=this.apiClient.request({path:_,queryParams:T,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(w=>w.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:w.headers},b})),d.then(w=>{const x=CI(w),b=new zv;return Object.assign(b,x),b})}else{const v=EI(this.apiClient,t);return _=Nt("{model}:predict",v._url),T=v._query,delete v._url,delete v._query,d=this.apiClient.request({path:_,queryParams:T,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(w=>w.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:w.headers},b})),d.then(w=>{const x=wI(w),b=new zv;return Object.assign(b,x),b})}}async editImageInternal(t){var n,s;let a,c="",d={};if(this.apiClient.isVertexAI()){const _=oI(this.apiClient,t);return c=Nt("{model}:predict",_._url),d=_._query,delete _._url,delete _._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(_),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:T.headers},w})),a.then(T=>{const v=sI(T),w=new lx;return Object.assign(w,v),w})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,s;let a,c="",d={};if(this.apiClient.isVertexAI()){const _=SR(this.apiClient,t);return c=Nt("{model}:predict",_._url),d=_._query,delete _._url,delete _._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(_),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:T.headers},w})),a.then(T=>{const v=wR(T),w=new ux;return Object.assign(w,v),w})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,s;let a,c="",d={};if(this.apiClient.isVertexAI()){const _=iR(this.apiClient,t);return c=Nt("{model}:predict",_._url),d=_._query,delete _._url,delete _._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(_),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),a.then(T=>{const v=oR(T),w=new cx;return Object.assign(w,v),w})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,s;let a,c="",d={};if(this.apiClient.isVertexAI()){const _=cR(this.apiClient,t);return c=Nt("{model}:predict",_._url),d=_._query,delete _._url,delete _._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(_),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),a.then(T=>{const v=fR(T),w=new fx;return Object.assign(w,v),w})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,s,a,c;let d,_="",T={};if(this.apiClient.isVertexAI()){const v=VI(this.apiClient,t);return _=Nt("{name}",v._url),T=v._query,delete v._url,delete v._query,d=this.apiClient.request({path:_,queryParams:T,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(w=>w.json()),d.then(w=>mp(w))}else{const v=HI(this.apiClient,t);return _=Nt("{name}",v._url),T=v._query,delete v._url,delete v._query,d=this.apiClient.request({path:_,queryParams:T,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(w=>w.json()),d.then(w=>pp(w))}}async listInternal(t){var n,s,a,c;let d,_="",T={};if(this.apiClient.isVertexAI()){const v=XI(this.apiClient,t);return _=Nt("{models_url}",v._url),T=v._query,delete v._url,delete v._query,d=this.apiClient.request({path:_,queryParams:T,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(w=>w.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:w.headers},b})),d.then(w=>{const x=QI(w),b=new Bv;return Object.assign(b,x),b})}else{const v=WI(this.apiClient,t);return _=Nt("{models_url}",v._url),T=v._query,delete v._url,delete v._query,d=this.apiClient.request({path:_,queryParams:T,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(w=>w.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:w.headers},b})),d.then(w=>{const x=$I(w),b=new Bv;return Object.assign(b,x),b})}}async update(t){var n,s,a,c;let d,_="",T={};if(this.apiClient.isVertexAI()){const v=TR(this.apiClient,t);return _=Nt("{model}",v._url),T=v._query,delete v._url,delete v._query,d=this.apiClient.request({path:_,queryParams:T,body:JSON.stringify(v),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(w=>w.json()),d.then(w=>mp(w))}else{const v=vR(this.apiClient,t);return _=Nt("{name}",v._url),T=v._query,delete v._url,delete v._query,d=this.apiClient.request({path:_,queryParams:T,body:JSON.stringify(v),httpMethod:"PATCH",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(w=>w.json()),d.then(w=>pp(w))}}async delete(t){var n,s,a,c;let d,_="",T={};if(this.apiClient.isVertexAI()){const v=tI(this.apiClient,t);return _=Nt("{name}",v._url),T=v._query,delete v._url,delete v._query,d=this.apiClient.request({path:_,queryParams:T,body:JSON.stringify(v),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(w=>w.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:w.headers},b})),d.then(w=>{const x=nI(w),b=new Hv;return Object.assign(b,x),b})}else{const v=j1(this.apiClient,t);return _=Nt("{name}",v._url),T=v._query,delete v._url,delete v._query,d=this.apiClient.request({path:_,queryParams:T,body:JSON.stringify(v),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(w=>w.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:w.headers},b})),d.then(w=>{const x=eI(w),b=new Hv;return Object.assign(b,x),b})}}async countTokens(t){var n,s,a,c;let d,_="",T={};if(this.apiClient.isVertexAI()){const v=X1(this.apiClient,t);return _=Nt("{model}:countTokens",v._url),T=v._query,delete v._url,delete v._query,d=this.apiClient.request({path:_,queryParams:T,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(w=>w.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:w.headers},b})),d.then(w=>{const x=Q1(w),b=new Vv;return Object.assign(b,x),b})}else{const v=W1(this.apiClient,t);return _=Nt("{model}:countTokens",v._url),T=v._query,delete v._url,delete v._query,d=this.apiClient.request({path:_,queryParams:T,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(w=>w.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:w.headers},b})),d.then(w=>{const x=$1(w),b=new Vv;return Object.assign(b,x),b})}}async computeTokens(t){var n,s;let a,c="",d={};if(this.apiClient.isVertexAI()){const _=G1(this.apiClient,t);return c=Nt("{model}:computeTokens",_._url),d=_._query,delete _._url,delete _._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(_),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:T.headers},w})),a.then(T=>{const v=F1(T),w=new dx;return Object.assign(w,v),w})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,s,a,c;let d,_="",T={};if(this.apiClient.isVertexAI()){const v=NI(this.apiClient,t);return _=Nt("{model}:predictLongRunning",v._url),T=v._query,delete v._url,delete v._query,d=this.apiClient.request({path:_,queryParams:T,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(w=>w.json()),d.then(w=>{const x=II(w),b=new bf;return Object.assign(b,x),b})}else{const v=RI(this.apiClient,t);return _=Nt("{model}:predictLongRunning",v._url),T=v._query,delete v._url,delete v._query,d=this.apiClient.request({path:_,queryParams:T,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(w=>w.json()),d.then(w=>{const x=bI(w),b=new bf;return Object.assign(b,x),b})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yN extends Qs{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,s=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=n.name.split("/operations/")[0];let c;s&&"httpOptions"in s&&(c=s.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:a,config:{httpOptions:c}});return n._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:n.name,config:s});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async get(t){const n=t.operation,s=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=n.name.split("/operations/")[0];let c;s&&"httpOptions"in s&&(c=s.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:a,config:{httpOptions:c}});return n._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:n.name,config:s});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,s,a,c;let d,_="",T={};if(this.apiClient.isVertexAI()){const v=nx(t);return _=Nt("{operationName}",v._url),T=v._query,delete v._url,delete v._query,d=this.apiClient.request({path:_,queryParams:T,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(w=>w.json()),d}else{const v=ex(t);return _=Nt("{operationName}",v._url),T=v._query,delete v._url,delete v._query,d=this.apiClient.request({path:_,queryParams:T,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(w=>w.json()),d}}async fetchPredictVideosOperationInternal(t){var n,s;let a,c="",d={};if(this.apiClient.isVertexAI()){const _=KA(t);return c=Nt("{resourceName}:fetchPredictOperation",_._url),d=_._query,delete _._url,delete _._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(_),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vN(e){const t={},n=h(e,["data"]);if(n!=null&&p(t,["data"],n),h(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=h(e,["mimeType"]);return s!=null&&p(t,["mimeType"],s),t}function TN(e){const t={},n=h(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>RN(c))),p(t,["parts"],a)}const s=h(e,["role"]);return s!=null&&p(t,["role"],s),t}function EN(e,t,n){const s={},a=h(t,["expireTime"]);n!==void 0&&a!=null&&p(n,["expireTime"],a);const c=h(t,["newSessionExpireTime"]);n!==void 0&&c!=null&&p(n,["newSessionExpireTime"],c);const d=h(t,["uses"]);n!==void 0&&d!=null&&p(n,["uses"],d);const _=h(t,["liveConnectConstraints"]);n!==void 0&&_!=null&&p(n,["bidiGenerateContentSetup"],IN(e,_));const T=h(t,["lockAdditionalFields"]);return n!==void 0&&T!=null&&p(n,["fieldMask"],T),s}function SN(e,t){const n={},s=h(t,["config"]);return s!=null&&p(n,["config"],EN(e,s,n)),n}function wN(e){const t={};if(h(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(e,["fileUri"]);n!=null&&p(t,["fileUri"],n);const s=h(e,["mimeType"]);return s!=null&&p(t,["mimeType"],s),t}function CN(e){const t={},n=h(e,["id"]);n!=null&&p(t,["id"],n);const s=h(e,["args"]);s!=null&&p(t,["args"],s);const a=h(e,["name"]);if(a!=null&&p(t,["name"],a),h(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function AN(e){const t={};if(h(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(e,["enableWidget"]);return n!=null&&p(t,["enableWidget"],n),t}function xN(e){const t={};if(h(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(e,["timeRangeFilter"]);return n!=null&&p(t,["timeRangeFilter"],n),t}function bN(e,t){const n={},s=h(e,["generationConfig"]);t!==void 0&&s!=null&&p(t,["setup","generationConfig"],s);const a=h(e,["responseModalities"]);t!==void 0&&a!=null&&p(t,["setup","generationConfig","responseModalities"],a);const c=h(e,["temperature"]);t!==void 0&&c!=null&&p(t,["setup","generationConfig","temperature"],c);const d=h(e,["topP"]);t!==void 0&&d!=null&&p(t,["setup","generationConfig","topP"],d);const _=h(e,["topK"]);t!==void 0&&_!=null&&p(t,["setup","generationConfig","topK"],_);const T=h(e,["maxOutputTokens"]);t!==void 0&&T!=null&&p(t,["setup","generationConfig","maxOutputTokens"],T);const v=h(e,["mediaResolution"]);t!==void 0&&v!=null&&p(t,["setup","generationConfig","mediaResolution"],v);const w=h(e,["seed"]);t!==void 0&&w!=null&&p(t,["setup","generationConfig","seed"],w);const x=h(e,["speechConfig"]);t!==void 0&&x!=null&&p(t,["setup","generationConfig","speechConfig"],Fp(x));const b=h(e,["thinkingConfig"]);t!==void 0&&b!=null&&p(t,["setup","generationConfig","thinkingConfig"],b);const U=h(e,["enableAffectiveDialog"]);t!==void 0&&U!=null&&p(t,["setup","generationConfig","enableAffectiveDialog"],U);const Y=h(e,["systemInstruction"]);t!==void 0&&Y!=null&&p(t,["setup","systemInstruction"],TN(In(Y)));const K=h(e,["tools"]);if(t!==void 0&&K!=null){let ft=Ll(K);Array.isArray(ft)&&(ft=ft.map(z=>MN(Dl(z)))),p(t,["setup","tools"],ft)}const $=h(e,["sessionResumption"]);t!==void 0&&$!=null&&p(t,["setup","sessionResumption"],NN($));const dt=h(e,["inputAudioTranscription"]);t!==void 0&&dt!=null&&p(t,["setup","inputAudioTranscription"],dt);const _t=h(e,["outputAudioTranscription"]);t!==void 0&&_t!=null&&p(t,["setup","outputAudioTranscription"],_t);const lt=h(e,["realtimeInputConfig"]);t!==void 0&&lt!=null&&p(t,["setup","realtimeInputConfig"],lt);const St=h(e,["contextWindowCompression"]);t!==void 0&&St!=null&&p(t,["setup","contextWindowCompression"],St);const Rt=h(e,["proactivity"]);if(t!==void 0&&Rt!=null&&p(t,["setup","proactivity"],Rt),h(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function IN(e,t){const n={},s=h(t,["model"]);s!=null&&p(n,["setup","model"],ge(e,s));const a=h(t,["config"]);return a!=null&&p(n,["config"],bN(a,n)),n}function RN(e){const t={},n=h(e,["mediaResolution"]);n!=null&&p(t,["mediaResolution"],n);const s=h(e,["codeExecutionResult"]);s!=null&&p(t,["codeExecutionResult"],s);const a=h(e,["executableCode"]);a!=null&&p(t,["executableCode"],a);const c=h(e,["fileData"]);c!=null&&p(t,["fileData"],wN(c));const d=h(e,["functionCall"]);d!=null&&p(t,["functionCall"],CN(d));const _=h(e,["functionResponse"]);_!=null&&p(t,["functionResponse"],_);const T=h(e,["inlineData"]);T!=null&&p(t,["inlineData"],vN(T));const v=h(e,["text"]);v!=null&&p(t,["text"],v);const w=h(e,["thought"]);w!=null&&p(t,["thought"],w);const x=h(e,["thoughtSignature"]);x!=null&&p(t,["thoughtSignature"],x);const b=h(e,["videoMetadata"]);return b!=null&&p(t,["videoMetadata"],b),t}function NN(e){const t={},n=h(e,["handle"]);if(n!=null&&p(t,["handle"],n),h(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function MN(e){const t={};if(h(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=h(e,["computerUse"]);n!=null&&p(t,["computerUse"],n);const s=h(e,["fileSearch"]);s!=null&&p(t,["fileSearch"],s);const a=h(e,["codeExecution"]);if(a!=null&&p(t,["codeExecution"],a),h(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=h(e,["functionDeclarations"]);if(c!=null){let w=c;Array.isArray(w)&&(w=w.map(x=>x)),p(t,["functionDeclarations"],w)}const d=h(e,["googleMaps"]);d!=null&&p(t,["googleMaps"],AN(d));const _=h(e,["googleSearch"]);_!=null&&p(t,["googleSearch"],xN(_));const T=h(e,["googleSearchRetrieval"]);T!=null&&p(t,["googleSearchRetrieval"],T);const v=h(e,["urlContext"]);return v!=null&&p(t,["urlContext"],v),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PN(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const s=e[n];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const a=Object.keys(s).map(c=>`${n}.${c}`);t.push(...a)}else t.push(n)}return t.join(",")}function DN(e,t){let n=null;const s=e.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const c=s.setup;typeof c=="object"&&c!==null?(e.bidiGenerateContentSetup=c,n=c):delete e.bidiGenerateContentSetup}else s!==void 0&&delete e.bidiGenerateContentSetup;const a=e.fieldMask;if(n){const c=PN(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)c?e.fieldMask=c:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const d=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let _=[];a.length>0&&(_=a.map(v=>d.includes(v)?`generationConfig.${v}`:v));const T=[];c&&T.push(c),_.length>0&&T.push(..._),T.length>0?e.fieldMask=T.join(","):delete e.fieldMask}else delete e.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?e.fieldMask=a.join(","):delete e.fieldMask;return e}class LN extends Qs{constructor(t){super(),this.apiClient=t}async create(t){var n,s;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const _=SN(this.apiClient,t);c=Nt("auth_tokens",_._url),d=_._query,delete _.config,delete _._url,delete _._query;const T=DN(_,t.config);return a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(T),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),a.then(v=>v)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kN(e,t){const n={},s=h(e,["force"]);return t!==void 0&&s!=null&&p(t,["_query","force"],s),n}function UN(e){const t={},n=h(e,["name"]);n!=null&&p(t,["_url","name"],n);const s=h(e,["config"]);return s!=null&&kN(s,t),t}function ON(e){const t={},n=h(e,["name"]);return n!=null&&p(t,["_url","name"],n),t}function zN(e,t){const n={},s=h(e,["pageSize"]);t!==void 0&&s!=null&&p(t,["_query","pageSize"],s);const a=h(e,["pageToken"]);return t!==void 0&&a!=null&&p(t,["_query","pageToken"],a),n}function BN(e){const t={},n=h(e,["parent"]);n!=null&&p(t,["_url","parent"],n);const s=h(e,["config"]);return s!=null&&zN(s,t),t}function HN(e){const t={},n=h(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const s=h(e,["nextPageToken"]);s!=null&&p(t,["nextPageToken"],s);const a=h(e,["documents"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>d)),p(t,["documents"],c)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VN extends Qs{constructor(t){super(),this.apiClient=t,this.list=async n=>new Ha(Ws.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:n.parent,config:s.config}),await this.listInternal(n),n)}async get(t){var n,s;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const _=ON(t);return c=Nt("{name}",_._url),d=_._query,delete _._url,delete _._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(_),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),a.then(T=>T)}}async delete(t){var n,s;let a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=UN(t);a=Nt("{name}",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(t){var n,s;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const _=BN(t);return c=Nt("{parent}/documents",_._url),d=_._query,delete _._url,delete _._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(_),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),a.then(T=>{const v=HN(T),w=new hx;return Object.assign(w,v),w})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GN extends Qs{constructor(t,n=new VN(t)){super(),this.apiClient=t,this.documents=n,this.list=async(s={})=>new Ha(Ws.PAGED_ITEM_FILE_SEARCH_STORES,a=>this.listInternal(a),await this.listInternal(s),s)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,s;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const _=NR(t);return c=Nt("fileSearchStores",_._url),d=_._query,delete _._url,delete _._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(_),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),a.then(T=>T)}}async get(t){var n,s;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const _=DR(t);return c=Nt("{name}",_._url),d=_._query,delete _._url,delete _._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(_),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),a.then(T=>T)}}async delete(t){var n,s;let a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=PR(t);a=Nt("{name}",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(t){var n,s;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const _=BR(t);return c=Nt("fileSearchStores",_._url),d=_._query,delete _._url,delete _._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(_),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),a.then(T=>{const v=HR(T),w=new px;return Object.assign(w,v),w})}}async uploadToFileSearchStoreInternal(t){var n,s;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const _=VR(t);return c=Nt("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",_._url),d=_._query,delete _._url,delete _._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(_),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),a.then(T=>{const v=GR(T),w=new mx;return Object.assign(w,v),w})}}async importFile(t){var n,s;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const _=UR(t);return c=Nt("{file_search_store_name}:importFile",_._url),d=_._query,delete _._url,delete _._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(_),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),a.then(T=>{const v=kR(T),w=new zp;return Object.assign(w,v),w})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let YT=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return YT=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^n()&15>>+s/4).toString(16))};const FN=()=>YT();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _p(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const yp=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _o extends Error{}class mi extends _o{constructor(t,n,s,a){super(`${mi.makeMessage(t,n,s)}`),this.status=t,this.headers=a,this.error=n}static makeMessage(t,n,s){const a=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):s;return t&&a?`${t} ${a}`:t?`${t} status code (no body)`:a||"(no status code or body)"}static generate(t,n,s,a){if(!t||!a)return new Jf({message:s,cause:yp(n)});const c=n;return t===400?new WT(t,c,s,a):t===401?new XT(t,c,s,a):t===403?new $T(t,c,s,a):t===404?new QT(t,c,s,a):t===409?new jT(t,c,s,a):t===422?new tE(t,c,s,a):t===429?new eE(t,c,s,a):t>=500?new nE(t,c,s,a):new mi(t,c,s,a)}}class vp extends mi{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Jf extends mi{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class KT extends Jf{constructor({message:t}={}){super({message:t??"Request timed out."})}}class WT extends mi{}class XT extends mi{}class $T extends mi{}class QT extends mi{}class jT extends mi{}class tE extends mi{}class eE extends mi{}class nE extends mi{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qN=/^[a-z][a-z0-9+.-]*:/i,ZN=e=>qN.test(e);let Tp=e=>(Tp=Array.isArray,Tp(e));const JN=Tp;let YN=JN;const u0=YN;function KN(e){if(!e)return!0;for(const t in e)return!1;return!0}function WN(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const XN=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new _o(`${e} must be an integer`);if(t<0)throw new _o(`${e} must be a positive integer`);return t},$N=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const QN=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Sl="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jN(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const tM=()=>{var e,t,n,s,a;const c=jN();if(c==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Sl,"X-Stainless-OS":f0(Deno.build.os),"X-Stainless-Arch":c0(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Sl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(c==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Sl,"X-Stainless-OS":f0((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":c0((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(a=globalThis.process.version)!==null&&a!==void 0?a:"unknown"};const d=eM();return d?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Sl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${d.browser}`,"X-Stainless-Runtime-Version":d.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Sl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function eM(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const s=n.exec(navigator.userAgent);if(s){const a=s[1]||0,c=s[2]||0,d=s[3]||0;return{browser:t,version:`${a}.${c}.${d}`}}}return null}const c0=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",f0=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let af;const nM=()=>af??(af=tM());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iM(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function iE(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function oM(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return iE({start(){},async pull(n){const{done:s,value:a}=await t.next();s?n.close():n.enqueue(a)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function oE(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function sM(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const s=e.getReader(),a=s.cancel();s.releaseLock(),await a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rM=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sE=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Yh(e,t,n){return sE(),new File(e,t??"unknown_file",n)}function aM(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const lM=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rE=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",uM=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&rE(e),cM=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function fM(e,t,n){if(sE(),e=await e,uM(e))return e instanceof File?e:Yh([await e.arrayBuffer()],e.name);if(cM(e)){const a=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),Yh(await Ep(a),t,n)}const s=await Ep(e);if(t||(t=aM(e)),!(n!=null&&n.type)){const a=s.find(c=>typeof c=="object"&&"type"in c&&c.type);typeof a=="string"&&(n=Object.assign(Object.assign({},n),{type:a}))}return Yh(s,t,n)}async function Ep(e){var t,n,s,a,c;let d=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)d.push(e);else if(rE(e))d.push(e instanceof Blob?e:await e.arrayBuffer());else if(lM(e))try{for(var _=!0,T=Vo(e),v;v=await T.next(),t=v.done,!t;_=!0){a=v.value,_=!1;const w=a;d.push(...await Ep(w))}}catch(w){n={error:w}}finally{try{!_&&!t&&(s=T.return)&&await s.call(T)}finally{if(n)throw n.error}}else{const w=(c=e==null?void 0:e.constructor)===null||c===void 0?void 0:c.name;throw new Error(`Unexpected data type: ${typeof e}${w?`; constructor: ${w}`:""}${dM(e)}`)}return d}function dM(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aE{constructor(t){this._client=t}}aE._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lE(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const d0=Object.freeze(Object.create(null)),hM=(e=lE)=>(function(n,...s){if(n.length===1)return n[0];let a=!1;const c=[],d=n.reduce((w,x,b)=>{var U,Y,K;/[?#]/.test(x)&&(a=!0);const $=s[b];let dt=(a?encodeURIComponent:e)(""+$);return b!==s.length&&($==null||typeof $=="object"&&$.toString===((K=Object.getPrototypeOf((Y=Object.getPrototypeOf((U=$.hasOwnProperty)!==null&&U!==void 0?U:d0))!==null&&Y!==void 0?Y:d0))===null||K===void 0?void 0:K.toString))&&(dt=$+"",c.push({start:w.length+x.length,length:dt.length,error:`Value of type ${Object.prototype.toString.call($).slice(8,-1)} is not a valid path parameter`})),w+x+(b===s.length?"":dt)},""),_=d.split(/[?#]/,1)[0],T=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let v;for(;(v=T.exec(_))!==null;)c.push({start:v.index,length:v[0].length,error:`Value "${v[0]}" can't be safely passed as a path parameter`});if(c.sort((w,x)=>w.start-x.start),c.length>0){let w=0;const x=c.reduce((b,U)=>{const Y=" ".repeat(U.start-w),K="^".repeat(U.length);return w=U.start+U.length,b+Y+K},"");throw new _o(`Path parameters result in path with invalid segments:
${c.map(b=>b.error).join(`
`)}
${d}
${x}`)}return d}),lf=hM(lE);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uE extends aE{create(t,n){var s;const{api_version:a=this._client.apiVersion}=t,c=Rf(t,["api_version"]);if("model"in c&&"agent_config"in c)throw new _o("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in c&&"generation_config"in c)throw new _o("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(lf`/${a}/interactions`,Object.assign(Object.assign({body:c},n),{stream:(s=t.stream)!==null&&s!==void 0?s:!1}))}delete(t,n={},s){const{api_version:a=this._client.apiVersion}=n??{};return this._client.delete(lf`/${a}/interactions/${t}`,s)}cancel(t,n={},s){const{api_version:a=this._client.apiVersion}=n??{};return this._client.post(lf`/${a}/interactions/${t}/cancel`,s)}get(t,n={},s){var a;const c=n??{},{api_version:d=this._client.apiVersion}=c,_=Rf(c,["api_version"]);return this._client.get(lf`/${d}/interactions/${t}`,Object.assign(Object.assign({query:_},s),{stream:(a=n==null?void 0:n.stream)!==null&&a!==void 0?a:!1}))}}uE._key=Object.freeze(["interactions"]);class cE extends uE{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pM(e){let t=0;for(const a of e)t+=a.length;const n=new Uint8Array(t);let s=0;for(const a of e)n.set(a,s),s+=a.length;return n}let uf;function Zp(e){let t;return(uf??(t=new globalThis.TextEncoder,uf=t.encode.bind(t)))(e)}let cf;function h0(e){let t;return(cf??(t=new globalThis.TextDecoder,cf=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yf{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Zp(t):t;this.buffer=pM([this.buffer,n]);const s=[];let a;for(;(a=mM(this.buffer,this.carriageReturnIndex))!=null;){if(a.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=a.index;continue}if(this.carriageReturnIndex!=null&&(a.index!==this.carriageReturnIndex+1||a.carriage)){s.push(h0(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const c=this.carriageReturnIndex!==null?a.preceding-1:a.preceding,d=h0(this.buffer.subarray(0,c));s.push(d),this.buffer=this.buffer.subarray(a.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}Yf.NEWLINE_CHARS=new Set([`
`,"\r"]);Yf.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function mM(e,t){for(let a=t??0;a<e.length;a++){if(e[a]===10)return{preceding:a,index:a+1,carriage:!1};if(e[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function gM(e){for(let s=0;s<e.length-1;s++){if(e[s]===10&&e[s+1]===10||e[s]===13&&e[s+1]===13)return s+2;if(e[s]===13&&e[s+1]===10&&s+3<e.length&&e[s+2]===13&&e[s+3]===10)return s+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Nf={off:0,error:200,warn:300,info:400,debug:500},p0=(e,t,n)=>{if(e){if(WN(Nf,e))return e;di(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(Nf))}`)}};function Iu(){}function ff(e,t,n){return!t||Nf[e]>Nf[n]?Iu:t[e].bind(t)}const _M={error:Iu,warn:Iu,info:Iu,debug:Iu};let m0=new WeakMap;function di(e){var t;const n=e.logger,s=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return _M;const a=m0.get(n);if(a&&a[0]===s)return a[1];const c={error:ff("error",n,s),warn:ff("warn",n,s),info:ff("info",n,s),debug:ff("debug",n,s)};return m0.set(n,[s,c]),c}const ba=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cl{constructor(t,n,s){this.iterator=t,this.controller=n,this.client=s}static fromSSEResponse(t,n,s){let a=!1;const c=s?di(s):console;function d(){return Ho(this,arguments,function*(){var T,v,w,x;if(a)throw new _o("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let b=!1;try{try{for(var U=!0,Y=Vo(yM(t,n)),K;K=yield Ft(Y.next()),T=K.done,!T;U=!0){x=K.value,U=!1;const $=x;if(!b)if($.data.startsWith("[DONE]")){b=!0;continue}else try{yield yield Ft(JSON.parse($.data))}catch(dt){throw c.error("Could not parse message into JSON:",$.data),c.error("From chunk:",$.raw),dt}}}catch($){v={error:$}}finally{try{!U&&!T&&(w=Y.return)&&(yield Ft(w.call(Y)))}finally{if(v)throw v.error}}b=!0}catch($){if(_p($))return yield Ft(void 0);throw $}finally{b||n.abort()}})}return new Cl(d,n,s)}static fromReadableStream(t,n,s){let a=!1;function c(){return Ho(this,arguments,function*(){var T,v,w,x;const b=new Yf,U=oE(t);try{for(var Y=!0,K=Vo(U),$;$=yield Ft(K.next()),T=$.done,!T;Y=!0){x=$.value,Y=!1;const dt=x;for(const _t of b.decode(dt))yield yield Ft(_t)}}catch(dt){v={error:dt}}finally{try{!Y&&!T&&(w=K.return)&&(yield Ft(w.call(K)))}finally{if(v)throw v.error}}for(const dt of b.flush())yield yield Ft(dt)})}function d(){return Ho(this,arguments,function*(){var T,v,w,x;if(a)throw new _o("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let b=!1;try{try{for(var U=!0,Y=Vo(c()),K;K=yield Ft(Y.next()),T=K.done,!T;U=!0){x=K.value,U=!1;const $=x;b||$&&(yield yield Ft(JSON.parse($)))}}catch($){v={error:$}}finally{try{!U&&!T&&(w=Y.return)&&(yield Ft(w.call(Y)))}finally{if(v)throw v.error}}b=!0}catch($){if(_p($))return yield Ft(void 0);throw $}finally{b||n.abort()}})}return new Cl(d,n,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],s=this.iterator(),a=c=>({next:()=>{if(c.length===0){const d=s.next();t.push(d),n.push(d)}return c.shift()}});return[new Cl(()=>a(t),this.controller,this.client),new Cl(()=>a(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return iE({async start(){n=t[Symbol.asyncIterator]()},async pull(s){try{const{value:a,done:c}=await n.next();if(c)return s.close();const d=Zp(JSON.stringify(a)+`
`);s.enqueue(d)}catch(a){s.error(a)}},async cancel(){var s;await((s=n.return)===null||s===void 0?void 0:s.call(n))}})}}function yM(e,t){return Ho(this,arguments,function*(){var s,a,c,d;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new _o("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new _o("Attempted to iterate over a response with no body");const _=new TM,T=new Yf,v=oE(e.body);try{for(var w=!0,x=Vo(vM(v)),b;b=yield Ft(x.next()),s=b.done,!s;w=!0){d=b.value,w=!1;const U=d;for(const Y of T.decode(U)){const K=_.decode(Y);K&&(yield yield Ft(K))}}}catch(U){a={error:U}}finally{try{!w&&!s&&(c=x.return)&&(yield Ft(c.call(x)))}finally{if(a)throw a.error}}for(const U of T.flush()){const Y=_.decode(U);Y&&(yield yield Ft(Y))}})}function vM(e){return Ho(this,arguments,function*(){var n,s,a,c;let d=new Uint8Array;try{for(var _=!0,T=Vo(e),v;v=yield Ft(T.next()),n=v.done,!n;_=!0){c=v.value,_=!1;const w=c;if(w==null)continue;const x=w instanceof ArrayBuffer?new Uint8Array(w):typeof w=="string"?Zp(w):w;let b=new Uint8Array(d.length+x.length);b.set(d),b.set(x,d.length),d=b;let U;for(;(U=gM(d))!==-1;)yield yield Ft(d.slice(0,U)),d=d.slice(U)}}catch(w){s={error:w}}finally{try{!_&&!n&&(a=T.return)&&(yield Ft(a.call(T)))}finally{if(s)throw s.error}}d.length>0&&(yield yield Ft(d))})}class TM{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const c={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],c}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,s,a]=EM(t,":");return a.startsWith(" ")&&(a=a.substring(1)),n==="event"?this.event=a:n==="data"&&this.data.push(a),null}}function EM(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function SM(e,t){const{response:n,requestLogID:s,retryOfRequestLogID:a,startTime:c}=t,d=await(async()=>{var _;if(t.options.stream)return di(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):Cl.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const T=n.headers.get("content-type"),v=(_=T==null?void 0:T.split(";")[0])===null||_===void 0?void 0:_.trim();return(v==null?void 0:v.includes("application/json"))||(v==null?void 0:v.endsWith("+json"))?n.headers.get("content-length")==="0"?void 0:await n.json():await n.text()})();return di(e).debug(`[${s}] response parsed`,ba({retryOfRequestLogID:a,url:n.url,status:n.status,body:d,durationMs:Date.now()-c})),d}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jp extends Promise{constructor(t,n,s=SM){super(a=>{a(null)}),this.responsePromise=n,this.parseResponse=s,this.client=t}_thenUnwrap(t){return new Jp(this.client,this.responsePromise,async(n,s)=>t(await this.parseResponse(n,s),s))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fE=Symbol("brand.privateNullableHeaders");function*wM(e){if(!e)return;if(fE in e){const{values:s,nulls:a}=e;yield*s.entries();for(const c of a)yield[c,null];return}let t=!1,n;e instanceof Headers?n=e.entries():u0(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let s of n){const a=s[0];if(typeof a!="string")throw new TypeError("expected header name to be a string");const c=u0(s[1])?s[1]:[s[1]];let d=!1;for(const _ of c)_!==void 0&&(t&&!d&&(d=!0,yield[a,null]),yield[a,_])}}const Au=e=>{const t=new Headers,n=new Set;for(const s of e){const a=new Set;for(const[c,d]of wM(s)){const _=c.toLowerCase();a.has(_)||(t.delete(c),a.add(_)),d===null?(t.delete(c),n.add(_)):(t.append(c,d),n.delete(_))}}return{[fE]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Kh=e=>{var t,n,s,a,c,d;if(typeof globalThis.process<"u")return(s=(n=(t=GA)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(d=(c=(a=globalThis.Deno.env)===null||a===void 0?void 0:a.get)===null||c===void 0?void 0:c.call(a,e))===null||d===void 0?void 0:d.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var dE;class Kf{constructor(t){var n,s,a,c,d,_,T,{baseURL:v=Kh("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:w=(n=Kh("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:x="v1beta"}=t,b=Rf(t,["baseURL","apiKey","apiVersion"]);const U=Object.assign(Object.assign({apiKey:w,apiVersion:x},b),{baseURL:v||"https://generativelanguage.googleapis.com"});this.baseURL=U.baseURL,this.timeout=(s=U.timeout)!==null&&s!==void 0?s:Kf.DEFAULT_TIMEOUT,this.logger=(a=U.logger)!==null&&a!==void 0?a:console;const Y="warn";this.logLevel=Y,this.logLevel=(d=(c=p0(U.logLevel,"ClientOptions.logLevel",this))!==null&&c!==void 0?c:p0(Kh("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&d!==void 0?d:Y,this.fetchOptions=U.fetchOptions,this.maxRetries=(_=U.maxRetries)!==null&&_!==void 0?_:2,this.fetch=(T=U.fetch)!==null&&T!==void 0?T:iM(),this.encoder=rM,this._options=U,this.apiKey=w,this.apiVersion=x,this.clientAdapter=U.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=Au([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Au([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Au([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,s])=>typeof s<"u").map(([n,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(n)}=`;throw new _o(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Sl}`}defaultIdempotencyKey(){return`stainless-node-retry-${FN()}`}makeStatusError(t,n,s,a){return mi.generate(t,n,s,a)}buildURL(t,n,s){const a=!this.baseURLOverridden()&&s||this.baseURL,c=ZN(t)?new URL(t):new URL(a+(a.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),d=this.defaultQuery();return KN(d)||(n=Object.assign(Object.assign({},d),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(c.search=this.stringifyQuery(n)),c.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:s}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,s){return this.request(Promise.resolve(s).then(a=>Object.assign({method:t,path:n},a)))}request(t,n=null){return new Jp(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,s){var a,c,d;const _=await t,T=(a=_.maxRetries)!==null&&a!==void 0?a:this.maxRetries;n==null&&(n=T),await this.prepareOptions(_);const{req:v,url:w,timeout:x}=await this.buildRequest(_,{retryCount:T-n});await this.prepareRequest(v,{url:w,options:_});const b="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),U=s===void 0?"":`, retryOf: ${s}`,Y=Date.now();if(di(this).debug(`[${b}] sending request`,ba({retryOfRequestLogID:s,method:_.method,url:w,options:_,headers:v.headers})),!((c=_.signal)===null||c===void 0)&&c.aborted)throw new vp;const K=new AbortController,$=await this.fetchWithTimeout(w,v,x,K).catch(yp),dt=Date.now();if($ instanceof globalThis.Error){const lt=`retrying, ${n} attempts remaining`;if(!((d=_.signal)===null||d===void 0)&&d.aborted)throw new vp;const St=_p($)||/timed? ?out/i.test(String($)+("cause"in $?String($.cause):""));if(n)return di(this).info(`[${b}] connection ${St?"timed out":"failed"} - ${lt}`),di(this).debug(`[${b}] connection ${St?"timed out":"failed"} (${lt})`,ba({retryOfRequestLogID:s,url:w,durationMs:dt-Y,message:$.message})),this.retryRequest(_,n,s??b);throw di(this).info(`[${b}] connection ${St?"timed out":"failed"} - error; no more retries left`),di(this).debug(`[${b}] connection ${St?"timed out":"failed"} (error; no more retries left)`,ba({retryOfRequestLogID:s,url:w,durationMs:dt-Y,message:$.message})),St?new KT:new Jf({cause:$})}const _t=`[${b}${U}] ${v.method} ${w} ${$.ok?"succeeded":"failed"} with status ${$.status} in ${dt-Y}ms`;if(!$.ok){const lt=await this.shouldRetry($);if(n&&lt){const k=`retrying, ${n} attempts remaining`;return await sM($.body),di(this).info(`${_t} - ${k}`),di(this).debug(`[${b}] response error (${k})`,ba({retryOfRequestLogID:s,url:$.url,status:$.status,headers:$.headers,durationMs:dt-Y})),this.retryRequest(_,n,s??b,$.headers)}const St=lt?"error; no more retries left":"error; not retryable";di(this).info(`${_t} - ${St}`);const Rt=await $.text().catch(k=>yp(k).message),ft=$N(Rt),z=ft?void 0:Rt;throw di(this).debug(`[${b}] response error (${St})`,ba({retryOfRequestLogID:s,url:$.url,status:$.status,headers:$.headers,message:z,durationMs:Date.now()-Y})),this.makeStatusError($.status,ft,z,$.headers)}return di(this).info(_t),di(this).debug(`[${b}] response start`,ba({retryOfRequestLogID:s,url:$.url,status:$.status,headers:$.headers,durationMs:dt-Y})),{response:$,options:_,controller:K,requestLogID:b,retryOfRequestLogID:s,startTime:Y}}async fetchWithTimeout(t,n,s,a){const c=n||{},{signal:d,method:_}=c,T=Rf(c,["signal","method"]),v=this._makeAbort(a);d&&d.addEventListener("abort",v,{once:!0});const w=setTimeout(v,s),x=globalThis.ReadableStream&&T.body instanceof globalThis.ReadableStream||typeof T.body=="object"&&T.body!==null&&Symbol.asyncIterator in T.body,b=Object.assign(Object.assign(Object.assign({signal:a.signal},x?{duplex:"half"}:{}),{method:"GET"}),T);_&&(b.method=_.toUpperCase());try{return await this.fetch.call(void 0,t,b)}finally{clearTimeout(w)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,s,a){var c;let d;const _=a==null?void 0:a.get("retry-after-ms");if(_){const v=parseFloat(_);Number.isNaN(v)||(d=v)}const T=a==null?void 0:a.get("retry-after");if(T&&!d){const v=parseFloat(T);Number.isNaN(v)?d=Date.parse(T)-Date.now():d=v*1e3}if(!(d&&0<=d&&d<60*1e3)){const v=(c=t.maxRetries)!==null&&c!==void 0?c:this.maxRetries;d=this.calculateDefaultRetryTimeoutMillis(n,v)}return await QN(d),this.makeRequest(t,n-1,s)}calculateDefaultRetryTimeoutMillis(t,n){const c=n-t,d=Math.min(.5*Math.pow(2,c),8),_=1-Math.random()*.25;return d*_*1e3}async buildRequest(t,{retryCount:n=0}={}){var s,a,c;const d=Object.assign({},t),{method:_,path:T,query:v,defaultBaseURL:w}=d,x=this.buildURL(T,v,w);"timeout"in d&&XN("timeout",d.timeout),d.timeout=(s=d.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:b,body:U}=this.buildBody({options:d}),Y=await this.buildHeaders({options:t,method:_,bodyHeaders:b,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:_,headers:Y},d.signal&&{signal:d.signal}),globalThis.ReadableStream&&U instanceof globalThis.ReadableStream&&{duplex:"half"}),U&&{body:U}),(a=this.fetchOptions)!==null&&a!==void 0?a:{}),(c=d.fetchOptions)!==null&&c!==void 0?c:{}),url:x,timeout:d.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:s,retryCount:a}){let c={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),c[this.idempotencyHeader]=t.idempotencyKey);const d=await this.authHeaders(t);let _=Au([c,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(a)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),nM()),this._options.defaultHeaders,s,t.headers,d]);return this.validateHeaders(_),_.values}_makeAbort(t){return()=>t.abort()}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const s=Au([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&s.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:oM(t)}:typeof t=="object"&&s.values.get("content-type")==="application/x-www-form-urlencoded"?{bodyHeaders:{"content-type":"application/x-www-form-urlencoded"},body:this.stringifyQuery(t)}:this.encoder({body:t,headers:s})}}Kf.DEFAULT_TIMEOUT=6e4;class Rn extends Kf{constructor(){super(...arguments),this.interactions=new cE(this)}}dE=Rn;Rn.GeminiNextGenAPIClient=dE;Rn.GeminiNextGenAPIClientError=_o;Rn.APIError=mi;Rn.APIConnectionError=Jf;Rn.APIConnectionTimeoutError=KT;Rn.APIUserAbortError=vp;Rn.NotFoundError=QT;Rn.ConflictError=jT;Rn.RateLimitError=eE;Rn.BadRequestError=WT;Rn.AuthenticationError=XT;Rn.InternalServerError=nE;Rn.PermissionDeniedError=$T;Rn.UnprocessableEntityError=tE;Rn.toFile=fM;Rn.Interactions=cE;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CM(e,t){const n={},s=h(e,["name"]);return s!=null&&p(n,["_url","name"],s),n}function AM(e,t){const n={},s=h(e,["name"]);return s!=null&&p(n,["_url","name"],s),n}function xM(e,t){const n={},s=h(e,["sdkHttpResponse"]);return s!=null&&p(n,["sdkHttpResponse"],s),n}function bM(e,t){const n={},s=h(e,["sdkHttpResponse"]);return s!=null&&p(n,["sdkHttpResponse"],s),n}function IM(e,t,n){const s={};if(h(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=h(e,["tunedModelDisplayName"]);if(t!==void 0&&a!=null&&p(t,["displayName"],a),h(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=h(e,["epochCount"]);t!==void 0&&c!=null&&p(t,["tuningTask","hyperparameters","epochCount"],c);const d=h(e,["learningRateMultiplier"]);if(d!=null&&p(s,["tuningTask","hyperparameters","learningRateMultiplier"],d),h(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(h(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(h(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(h(e,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(h(e,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const _=h(e,["batchSize"]);t!==void 0&&_!=null&&p(t,["tuningTask","hyperparameters","batchSize"],_);const T=h(e,["learningRate"]);if(t!==void 0&&T!=null&&p(t,["tuningTask","hyperparameters","learningRate"],T),h(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(h(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(h(e,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(h(e,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(h(e,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(h(e,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");if(h(e,["encryptionSpec"])!==void 0)throw new Error("encryptionSpec parameter is not supported in Gemini API.");return s}function RM(e,t,n){const s={};let a=h(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const ft=h(e,["validationDataset"]);t!==void 0&&ft!=null&&p(t,["supervisedTuningSpec"],Wh(ft))}else if(a==="PREFERENCE_TUNING"){const ft=h(e,["validationDataset"]);t!==void 0&&ft!=null&&p(t,["preferenceOptimizationSpec"],Wh(ft))}else if(a==="DISTILLATION"){const ft=h(e,["validationDataset"]);t!==void 0&&ft!=null&&p(t,["distillationSpec"],Wh(ft))}const c=h(e,["tunedModelDisplayName"]);t!==void 0&&c!=null&&p(t,["tunedModelDisplayName"],c);const d=h(e,["description"]);t!==void 0&&d!=null&&p(t,["description"],d);let _=h(n,["config","method"]);if(_===void 0&&(_="SUPERVISED_FINE_TUNING"),_==="SUPERVISED_FINE_TUNING"){const ft=h(e,["epochCount"]);t!==void 0&&ft!=null&&p(t,["supervisedTuningSpec","hyperParameters","epochCount"],ft)}else if(_==="PREFERENCE_TUNING"){const ft=h(e,["epochCount"]);t!==void 0&&ft!=null&&p(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],ft)}else if(_==="DISTILLATION"){const ft=h(e,["epochCount"]);t!==void 0&&ft!=null&&p(t,["distillationSpec","hyperParameters","epochCount"],ft)}let T=h(n,["config","method"]);if(T===void 0&&(T="SUPERVISED_FINE_TUNING"),T==="SUPERVISED_FINE_TUNING"){const ft=h(e,["learningRateMultiplier"]);t!==void 0&&ft!=null&&p(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],ft)}else if(T==="PREFERENCE_TUNING"){const ft=h(e,["learningRateMultiplier"]);t!==void 0&&ft!=null&&p(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],ft)}else if(T==="DISTILLATION"){const ft=h(e,["learningRateMultiplier"]);t!==void 0&&ft!=null&&p(t,["distillationSpec","hyperParameters","learningRateMultiplier"],ft)}let v=h(n,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const ft=h(e,["exportLastCheckpointOnly"]);t!==void 0&&ft!=null&&p(t,["supervisedTuningSpec","exportLastCheckpointOnly"],ft)}else if(v==="PREFERENCE_TUNING"){const ft=h(e,["exportLastCheckpointOnly"]);t!==void 0&&ft!=null&&p(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],ft)}else if(v==="DISTILLATION"){const ft=h(e,["exportLastCheckpointOnly"]);t!==void 0&&ft!=null&&p(t,["distillationSpec","exportLastCheckpointOnly"],ft)}let w=h(n,["config","method"]);if(w===void 0&&(w="SUPERVISED_FINE_TUNING"),w==="SUPERVISED_FINE_TUNING"){const ft=h(e,["adapterSize"]);t!==void 0&&ft!=null&&p(t,["supervisedTuningSpec","hyperParameters","adapterSize"],ft)}else if(w==="PREFERENCE_TUNING"){const ft=h(e,["adapterSize"]);t!==void 0&&ft!=null&&p(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],ft)}else if(w==="DISTILLATION"){const ft=h(e,["adapterSize"]);t!==void 0&&ft!=null&&p(t,["distillationSpec","hyperParameters","adapterSize"],ft)}let x=h(n,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const ft=h(e,["tuningMode"]);t!==void 0&&ft!=null&&p(t,["supervisedTuningSpec","tuningMode"],ft)}const b=h(e,["customBaseModel"]);t!==void 0&&b!=null&&p(t,["customBaseModel"],b);let U=h(n,["config","method"]);if(U===void 0&&(U="SUPERVISED_FINE_TUNING"),U==="SUPERVISED_FINE_TUNING"){const ft=h(e,["batchSize"]);t!==void 0&&ft!=null&&p(t,["supervisedTuningSpec","hyperParameters","batchSize"],ft)}let Y=h(n,["config","method"]);if(Y===void 0&&(Y="SUPERVISED_FINE_TUNING"),Y==="SUPERVISED_FINE_TUNING"){const ft=h(e,["learningRate"]);t!==void 0&&ft!=null&&p(t,["supervisedTuningSpec","hyperParameters","learningRate"],ft)}const K=h(e,["labels"]);t!==void 0&&K!=null&&p(t,["labels"],K);const $=h(e,["beta"]);t!==void 0&&$!=null&&p(t,["preferenceOptimizationSpec","hyperParameters","beta"],$);const dt=h(e,["baseTeacherModel"]);t!==void 0&&dt!=null&&p(t,["distillationSpec","baseTeacherModel"],dt);const _t=h(e,["tunedTeacherModelSource"]);t!==void 0&&_t!=null&&p(t,["distillationSpec","tunedTeacherModelSource"],_t);const lt=h(e,["sftLossWeightMultiplier"]);t!==void 0&&lt!=null&&p(t,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],lt);const St=h(e,["outputUri"]);t!==void 0&&St!=null&&p(t,["outputUri"],St);const Rt=h(e,["encryptionSpec"]);return t!==void 0&&Rt!=null&&p(t,["encryptionSpec"],Rt),s}function NM(e,t){const n={},s=h(e,["baseModel"]);s!=null&&p(n,["baseModel"],s);const a=h(e,["preTunedModel"]);a!=null&&p(n,["preTunedModel"],a);const c=h(e,["trainingDataset"]);c!=null&&VM(c);const d=h(e,["config"]);return d!=null&&IM(d,n),n}function MM(e,t){const n={},s=h(e,["baseModel"]);s!=null&&p(n,["baseModel"],s);const a=h(e,["preTunedModel"]);a!=null&&p(n,["preTunedModel"],a);const c=h(e,["trainingDataset"]);c!=null&&GM(c,n,t);const d=h(e,["config"]);return d!=null&&RM(d,n,t),n}function PM(e,t){const n={},s=h(e,["name"]);return s!=null&&p(n,["_url","name"],s),n}function DM(e,t){const n={},s=h(e,["name"]);return s!=null&&p(n,["_url","name"],s),n}function LM(e,t,n){const s={},a=h(e,["pageSize"]);t!==void 0&&a!=null&&p(t,["_query","pageSize"],a);const c=h(e,["pageToken"]);t!==void 0&&c!=null&&p(t,["_query","pageToken"],c);const d=h(e,["filter"]);return t!==void 0&&d!=null&&p(t,["_query","filter"],d),s}function kM(e,t,n){const s={},a=h(e,["pageSize"]);t!==void 0&&a!=null&&p(t,["_query","pageSize"],a);const c=h(e,["pageToken"]);t!==void 0&&c!=null&&p(t,["_query","pageToken"],c);const d=h(e,["filter"]);return t!==void 0&&d!=null&&p(t,["_query","filter"],d),s}function UM(e,t){const n={},s=h(e,["config"]);return s!=null&&LM(s,n),n}function OM(e,t){const n={},s=h(e,["config"]);return s!=null&&kM(s,n),n}function zM(e,t){const n={},s=h(e,["sdkHttpResponse"]);s!=null&&p(n,["sdkHttpResponse"],s);const a=h(e,["nextPageToken"]);a!=null&&p(n,["nextPageToken"],a);const c=h(e,["tunedModels"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(_=>hE(_))),p(n,["tuningJobs"],d)}return n}function BM(e,t){const n={},s=h(e,["sdkHttpResponse"]);s!=null&&p(n,["sdkHttpResponse"],s);const a=h(e,["nextPageToken"]);a!=null&&p(n,["nextPageToken"],a);const c=h(e,["tuningJobs"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(_=>Sp(_))),p(n,["tuningJobs"],d)}return n}function HM(e,t){const n={},s=h(e,["name"]);s!=null&&p(n,["model"],s);const a=h(e,["name"]);return a!=null&&p(n,["endpoint"],a),n}function VM(e,t){const n={};if(h(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(h(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=h(e,["examples"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(c=>c)),p(n,["examples","examples"],a)}return n}function GM(e,t,n){const s={};let a=h(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const d=h(e,["gcsUri"]);t!==void 0&&d!=null&&p(t,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(a==="PREFERENCE_TUNING"){const d=h(e,["gcsUri"]);t!==void 0&&d!=null&&p(t,["preferenceOptimizationSpec","trainingDatasetUri"],d)}else if(a==="DISTILLATION"){const d=h(e,["gcsUri"]);t!==void 0&&d!=null&&p(t,["distillationSpec","promptDatasetUri"],d)}let c=h(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const d=h(e,["vertexDatasetResource"]);t!==void 0&&d!=null&&p(t,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(c==="PREFERENCE_TUNING"){const d=h(e,["vertexDatasetResource"]);t!==void 0&&d!=null&&p(t,["preferenceOptimizationSpec","trainingDatasetUri"],d)}else if(c==="DISTILLATION"){const d=h(e,["vertexDatasetResource"]);t!==void 0&&d!=null&&p(t,["distillationSpec","promptDatasetUri"],d)}if(h(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function hE(e,t){const n={},s=h(e,["sdkHttpResponse"]);s!=null&&p(n,["sdkHttpResponse"],s);const a=h(e,["name"]);a!=null&&p(n,["name"],a);const c=h(e,["state"]);c!=null&&p(n,["state"],RT(c));const d=h(e,["createTime"]);d!=null&&p(n,["createTime"],d);const _=h(e,["tuningTask","startTime"]);_!=null&&p(n,["startTime"],_);const T=h(e,["tuningTask","completeTime"]);T!=null&&p(n,["endTime"],T);const v=h(e,["updateTime"]);v!=null&&p(n,["updateTime"],v);const w=h(e,["description"]);w!=null&&p(n,["description"],w);const x=h(e,["baseModel"]);x!=null&&p(n,["baseModel"],x);const b=h(e,["_self"]);return b!=null&&p(n,["tunedModel"],HM(b)),n}function Sp(e,t){const n={},s=h(e,["sdkHttpResponse"]);s!=null&&p(n,["sdkHttpResponse"],s);const a=h(e,["name"]);a!=null&&p(n,["name"],a);const c=h(e,["state"]);c!=null&&p(n,["state"],RT(c));const d=h(e,["createTime"]);d!=null&&p(n,["createTime"],d);const _=h(e,["startTime"]);_!=null&&p(n,["startTime"],_);const T=h(e,["endTime"]);T!=null&&p(n,["endTime"],T);const v=h(e,["updateTime"]);v!=null&&p(n,["updateTime"],v);const w=h(e,["error"]);w!=null&&p(n,["error"],w);const x=h(e,["description"]);x!=null&&p(n,["description"],x);const b=h(e,["baseModel"]);b!=null&&p(n,["baseModel"],b);const U=h(e,["tunedModel"]);U!=null&&p(n,["tunedModel"],U);const Y=h(e,["preTunedModel"]);Y!=null&&p(n,["preTunedModel"],Y);const K=h(e,["supervisedTuningSpec"]);K!=null&&p(n,["supervisedTuningSpec"],K);const $=h(e,["preferenceOptimizationSpec"]);$!=null&&p(n,["preferenceOptimizationSpec"],$);const dt=h(e,["distillationSpec"]);dt!=null&&p(n,["distillationSpec"],dt);const _t=h(e,["tuningDataStats"]);_t!=null&&p(n,["tuningDataStats"],_t);const lt=h(e,["encryptionSpec"]);lt!=null&&p(n,["encryptionSpec"],lt);const St=h(e,["partnerModelTuningSpec"]);St!=null&&p(n,["partnerModelTuningSpec"],St);const Rt=h(e,["customBaseModel"]);Rt!=null&&p(n,["customBaseModel"],Rt);const ft=h(e,["experiment"]);ft!=null&&p(n,["experiment"],ft);const z=h(e,["labels"]);z!=null&&p(n,["labels"],z);const O=h(e,["outputUri"]);O!=null&&p(n,["outputUri"],O);const k=h(e,["pipelineJob"]);k!=null&&p(n,["pipelineJob"],k);const F=h(e,["serviceAccount"]);F!=null&&p(n,["serviceAccount"],F);const V=h(e,["tunedModelDisplayName"]);V!=null&&p(n,["tunedModelDisplayName"],V);const J=h(e,["veoTuningSpec"]);return J!=null&&p(n,["veoTuningSpec"],J),n}function FM(e,t){const n={},s=h(e,["sdkHttpResponse"]);s!=null&&p(n,["sdkHttpResponse"],s);const a=h(e,["name"]);a!=null&&p(n,["name"],a);const c=h(e,["metadata"]);c!=null&&p(n,["metadata"],c);const d=h(e,["done"]);d!=null&&p(n,["done"],d);const _=h(e,["error"]);return _!=null&&p(n,["error"],_),n}function Wh(e,t){const n={},s=h(e,["gcsUri"]);s!=null&&p(n,["validationDatasetUri"],s);const a=h(e,["vertexDatasetResource"]);return a!=null&&p(n,["validationDatasetUri"],a),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qM extends Qs{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Ha(Ws.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var s;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const a={tunedModelName:n.baseModel};!((s=n.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(a.checkpointId=n.config.preTunedModelCheckpointId);const c=Object.assign(Object.assign({},n),{preTunedModel:a});return c.baseModel=void 0,await this.tuneInternal(c)}else{const a=Object.assign({},n);return await this.tuneInternal(a)}else{const a=Object.assign({},n),c=await this.tuneMldevInternal(a);let d="";return c.metadata!==void 0&&c.metadata.tunedModel!==void 0?d=c.metadata.tunedModel:c.name!==void 0&&c.name.includes("/operations/")&&(d=c.name.split("/operations/")[0]),{name:d,state:up.JOB_STATE_QUEUED}}}}async getInternal(t){var n,s,a,c;let d,_="",T={};if(this.apiClient.isVertexAI()){const v=DM(t);return _=Nt("{name}",v._url),T=v._query,delete v._url,delete v._query,d=this.apiClient.request({path:_,queryParams:T,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(w=>w.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:w.headers},b})),d.then(w=>Sp(w))}else{const v=PM(t);return _=Nt("{name}",v._url),T=v._query,delete v._url,delete v._query,d=this.apiClient.request({path:_,queryParams:T,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(w=>w.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:w.headers},b})),d.then(w=>hE(w))}}async listInternal(t){var n,s,a,c;let d,_="",T={};if(this.apiClient.isVertexAI()){const v=OM(t);return _=Nt("tuningJobs",v._url),T=v._query,delete v._url,delete v._query,d=this.apiClient.request({path:_,queryParams:T,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(w=>w.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:w.headers},b})),d.then(w=>{const x=BM(w),b=new Gv;return Object.assign(b,x),b})}else{const v=UM(t);return _=Nt("tunedModels",v._url),T=v._query,delete v._url,delete v._query,d=this.apiClient.request({path:_,queryParams:T,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(w=>w.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:w.headers},b})),d.then(w=>{const x=zM(w),b=new Gv;return Object.assign(b,x),b})}}async cancel(t){var n,s,a,c;let d,_="",T={};if(this.apiClient.isVertexAI()){const v=AM(t);return _=Nt("{name}:cancel",v._url),T=v._query,delete v._url,delete v._query,d=this.apiClient.request({path:_,queryParams:T,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(w=>w.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:w.headers},b})),d.then(w=>{const x=bM(w),b=new Fv;return Object.assign(b,x),b})}else{const v=CM(t);return _=Nt("{name}:cancel",v._url),T=v._query,delete v._url,delete v._query,d=this.apiClient.request({path:_,queryParams:T,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(w=>w.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:w.headers},b})),d.then(w=>{const x=xM(w),b=new Fv;return Object.assign(b,x),b})}}async tuneInternal(t){var n,s;let a,c="",d={};if(this.apiClient.isVertexAI()){const _=MM(t,t);return c=Nt("tuningJobs",_._url),d=_._query,delete _._url,delete _._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(_),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:T.headers},w})),a.then(T=>Sp(T))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,s;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const _=NM(t);return c=Nt("tunedModels",_._url),d=_._query,delete _._url,delete _._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(_),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:T.headers},w})),a.then(T=>FM(T))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZM{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const JM=1024*1024*8,YM=3,KM=1e3,WM=2,Mf="x-goog-upload-status";async function XM(e,t,n){var s;const a=await pE(e,t,n),c=await(a==null?void 0:a.json());if(((s=a==null?void 0:a.headers)===null||s===void 0?void 0:s[Mf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function $M(e,t,n){var s;const a=await pE(e,t,n),c=await(a==null?void 0:a.json());if(((s=a==null?void 0:a.headers)===null||s===void 0?void 0:s[Mf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const d=wT(c),_=new Bp;return Object.assign(_,d),_}async function pE(e,t,n){var s,a;let c=0,d=0,_=new fp(new Response),T="upload";for(c=e.size;d<c;){const v=Math.min(JM,c-d),w=e.slice(d,d+v);d+v>=c&&(T+=", finalize");let x=0,b=KM;for(;x<YM&&(_=await n.request({path:"",body:w,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":T,"X-Goog-Upload-Offset":String(d),"Content-Length":String(v)}}}),!(!((s=_==null?void 0:_.headers)===null||s===void 0)&&s[Mf]));)x++,await jM(b),b=b*WM;if(d+=v,((a=_==null?void 0:_.headers)===null||a===void 0?void 0:a[Mf])!=="active")break;if(c<=d)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return _}async function QM(e){return{size:e.size,type:e.type}}function jM(e){return new Promise(t=>setTimeout(t,e))}class t2{async upload(t,n,s){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await XM(t,n,s)}async uploadToFileSearchStore(t,n,s){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await $M(t,n,s)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await QM(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class e2{create(t,n,s){return new n2(t,n,s)}}class n2{constructor(t,n,s){this.url=t,this.headers=n,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const g0="x-goog-api-key";class i2{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(g0)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(g0,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const o2="gl-node/";class s2{get interactions(){var t;if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const n=this.httpOptions;n!=null&&n.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const s=new Rn({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:n==null?void 0:n.timeout,maxRetries:(t=n==null?void 0:n.retryOptions)===null||t===void 0?void 0:t.attempts});return this._interactions=s.interactions,this._interactions}constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const s=JA(t.httpOptions,t.vertexai,void 0,void 0);s&&(t.httpOptions?t.httpOptions.baseUrl=s:t.httpOptions={baseUrl:s}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const a=new i2(this.apiKey);this.apiClient=new QR({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:o2+"web",uploader:new t2,downloader:new ZM}),this.models=new _N(this.apiClient),this.live=new fN(this.apiClient,a,new e2),this.batches=new wb(this.apiClient),this.chats=new o1(this.models,this.apiClient),this.caches=new e1(this.apiClient),this.files=new g1(this.apiClient),this.operations=new yN(this.apiClient),this.authTokens=new LN(this.apiClient),this.tunings=new qM(this.apiClient),this.fileSearchStores=new GN(this.apiClient)}}const r2=()=>{const e="AIzaSyBClt2j3o5eO4ZnbA0_OKgbYpzugE3-qAY";return new s2({apiKey:e})};async function a2(e){var t;if(e.startsWith("data:")){const[n,s]=e.split(",");return{mimeType:((t=n.match(/:(.*?);/))==null?void 0:t[1])||"image/png",data:s}}try{const n=await fetch(e);if(!n.ok)throw new Error(`Failed to fetch image: ${n.statusText}`);const s=await n.blob();return new Promise((a,c)=>{const d=new FileReader;d.onloadend=()=>{var x;const _=d.result,[T,v]=_.split(","),w=((x=T.match(/:(.*?);/))==null?void 0:x[1])||"image/png";a({mimeType:w,data:v})},d.onerror=c,d.readAsDataURL(s)})}catch(n){return console.warn("Could not convert image URL to base64, proceeding with text only:",n),null}}const l2=async(e,t,n,s,a="Photorealistic",c="1:1")=>{var d,_,T;try{const v=r2(),w="gemini-2.5-flash-image",x="gemini-2.5-flash",b=await a2(e);let U="Photorealistic, high quality architectural visualization.";a==="Sketch"&&(U="Architectural pencil sketch, loose lines, concept art style."),a==="Watercolor"&&(U="Soft watercolor painting style, artistic, vibrant."),a==="Futuristic"&&(U="Futuristic, sci-fi, neon lights, high-tech urban design."),a==="Nature-Takeover"&&(U="Overgrown, solarpunk, nature reclaiming the space, lush greenery.");const Y=`Edit this image to show a transformation of the urban space. 
    CRITICAL: You MUST use the provided image as the base geometry. Keep the perspective, lighting, and main structures (buildings, roads) matching the original image provided EXACTLY.
    The goal is to visualize: ${s}.
    Context: ${t.substring(0,150)}.
    Desired Features: ${n.join(", ")}.
    Style: ${U}
    Ensure the result seamlessly integrates with the original environment, looking like a realistic renovation or intervention.`,K=[];b&&K.push({inlineData:{mimeType:b.mimeType,data:b.data}}),K.push({text:Y});let $;try{$=await v.models.generateContent({model:w,contents:[{role:"user",parts:K}],config:{responseModalities:["TEXT","IMAGE"],imageConfig:{aspectRatio:c}}})}catch(_t){const lt=String((_t==null?void 0:_t.message)||_t||"");if(!lt.includes("NOT_FOUND")&&!lt.includes("404"))throw _t;$=await v.models.generateContent({model:x,contents:[{role:"user",parts:K}],config:{responseModalities:["TEXT","IMAGE"],imageConfig:{aspectRatio:c}}})}const dt=(T=(_=(d=$.candidates)==null?void 0:d[0])==null?void 0:_.content)==null?void 0:T.parts;if(dt){for(const lt of dt)if(lt.inlineData&&lt.inlineData.data)return`data:${lt.inlineData.mimeType||"image/png"};base64,${lt.inlineData.data}`;const _t=dt.find(lt=>lt.text);if(_t)throw console.warn("Model returned text:",_t.text),new Error(_t.text||"Model did not return an image.")}throw new Error("Generation failed: model returned no image. Check model access and API key permissions.")}catch(v){throw console.error("Error generating visualization:",v),v instanceof Error?v:new Error("An unexpected error occurred during generation.")}},u2=()=>{};var _0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},c2=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const a=e[n++];if(a<128)t[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=e[n++];t[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=e[n++],d=e[n++],_=e[n++],T=((a&7)<<18|(c&63)<<12|(d&63)<<6|_&63)-65536;t[s++]=String.fromCharCode(55296+(T>>10)),t[s++]=String.fromCharCode(56320+(T&1023))}else{const c=e[n++],d=e[n++];t[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|d&63)}}return t.join("")},gE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<e.length;a+=3){const c=e[a],d=a+1<e.length,_=d?e[a+1]:0,T=a+2<e.length,v=T?e[a+2]:0,w=c>>2,x=(c&3)<<4|_>>4;let b=(_&15)<<2|v>>6,U=v&63;T||(U=64,d||(b=64)),s.push(n[w],n[x],n[b],n[U])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(mE(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):c2(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<e.length;){const c=n[e.charAt(a++)],_=a<e.length?n[e.charAt(a)]:0;++a;const v=a<e.length?n[e.charAt(a)]:64;++a;const x=a<e.length?n[e.charAt(a)]:64;if(++a,c==null||_==null||v==null||x==null)throw new f2;const b=c<<2|_>>4;if(s.push(b),v!==64){const U=_<<4&240|v>>2;if(s.push(U),x!==64){const Y=v<<6&192|x;s.push(Y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class f2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const d2=function(e){const t=mE(e);return gE.encodeByteArray(t,!0)},Pf=function(e){return d2(e).replace(/\./g,"")},_E=function(e){try{return gE.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=()=>h2().__FIREBASE_DEFAULTS__,m2=()=>{if(typeof process>"u"||typeof _0>"u")return;const e=_0.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},g2=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&_E(e[1]);return t&&JSON.parse(t)},Yp=()=>{try{return u2()||p2()||m2()||g2()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},yE=e=>{var t,n;return(n=(t=Yp())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},_2=e=>{const t=yE(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},vE=()=>{var e;return(e=Yp())==null?void 0:e.config},TE=e=>{var t;return(t=Yp())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function EE(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",a=e.iat||0,c=e.sub||e.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Pf(JSON.stringify(n)),Pf(JSON.stringify(d)),""].join(".")}const Pu={};function T2(){const e={prod:[],emulator:[]};for(const t of Object.keys(Pu))Pu[t]?e.emulator.push(t):e.prod.push(t);return e}function E2(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let y0=!1;function SE(e,t){if(typeof window>"u"||typeof document>"u"||!Fu(window.location.host)||Pu[e]===t||Pu[e]||y0)return;Pu[e]=t;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",c=T2().prod.length>0;function d(){const b=document.getElementById(s);b&&b.remove()}function _(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function T(b,U){b.setAttribute("width","24"),b.setAttribute("id",U),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function v(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{y0=!0,d()},b}function w(b,U){b.setAttribute("id",U),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function x(){const b=E2(s),U=n("text"),Y=document.getElementById(U)||document.createElement("span"),K=n("learnmore"),$=document.getElementById(K)||document.createElement("a"),dt=n("preprendIcon"),_t=document.getElementById(dt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const lt=b.element;_(lt),w($,K);const St=v();T(_t,dt),lt.append(_t,Y,$,St),document.body.appendChild(lt)}c?(Y.innerText="Preview backend disconnected.",_t.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_t.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function S2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gi())}function w2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Kp(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function C2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function A2(){const e=gi();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Wp(){try{return typeof indexedDB=="object"}catch{return!1}}function Xp(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var c;t(((c=a.error)==null?void 0:c.message)||"")}}catch(n){t(n)}})}function wE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="FirebaseError";class Zo extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=x2,Object.setPrototypeOf(this,Zo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Va.prototype.create)}}class Va{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},a=`${this.service}/${t}`,c=this.errors[t],d=c?b2(c,s):"Error",_=`${this.serviceName}: ${d} (${a}).`;return new Zo(a,_,s)}}function b2(e,t){return e.replace(I2,(n,s)=>{const a=t[s];return a!=null?String(a):`<${s}?>`})}const I2=/\{\$([^}]+)}/g;function R2(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Fr(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const a of n){if(!s.includes(a))return!1;const c=e[a],d=t[a];if(v0(c)&&v0(d)){if(!Fr(c,d))return!1}else if(c!==d)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function v0(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach(a=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Ru(e){const t={};return e.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,c]=s.split("=");t[decodeURIComponent(a)]=decodeURIComponent(c)}}),t}function Nu(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function N2(e,t){const n=new M2(e,t);return n.subscribe.bind(n)}class M2{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let a;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");P2(t,["next","error","complete"])?a=t:a={next:t,error:n,complete:s},a.next===void 0&&(a.next=Xh),a.error===void 0&&(a.error=Xh),a.complete===void 0&&(a.complete=Xh);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function P2(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Xh(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=1e3,L2=2,k2=14400*1e3,U2=.5;function T0(e,t=D2,n=L2){const s=t*Math.pow(n,e),a=Math.round(U2*s*(Math.random()-.5)*2);return Math.min(k2,s+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(e){return e&&e._delegate?e._delegate:e}class Fo{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new y2;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(B2(t))try{this.getOrInitializeService({instanceIdentifier:Ia})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(t=Ia){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ia){return this.instances.has(t)}getOptions(t=Ia){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,d]of this.instancesDeferred.entries()){const _=this.normalizeInstanceIdentifier(c);s===_&&d.resolve(a)}return a}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(t),this.onInitCallbacks.set(s,a);const c=this.instances.get(s);return c&&t(c,s),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:z2(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ia){return this.component?this.component.multipleInstances?t:Ia:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function z2(e){return e===Ia?void 0:e}function B2(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new O2(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ce||(Ce={}));const V2={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},G2=Ce.INFO,F2={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},q2=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),a=F2[t];if(a)console[a](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Wf{constructor(t){this.name=t,this._logLevel=G2,this._logHandler=q2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ce))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?V2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...t),this._logHandler(this,Ce.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...t),this._logHandler(this,Ce.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...t),this._logHandler(this,Ce.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...t),this._logHandler(this,Ce.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...t),this._logHandler(this,Ce.ERROR,...t)}}const Z2=(e,t)=>t.some(n=>e instanceof n);let E0,S0;function J2(){return E0||(E0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Y2(){return S0||(S0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CE=new WeakMap,wp=new WeakMap,AE=new WeakMap,$h=new WeakMap,$p=new WeakMap;function K2(e){const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("success",c),e.removeEventListener("error",d)},c=()=>{n(Vr(e.result)),a()},d=()=>{s(e.error),a()};e.addEventListener("success",c),e.addEventListener("error",d)});return t.then(n=>{n instanceof IDBCursor&&CE.set(n,e)}).catch(()=>{}),$p.set(t,e),t}function W2(e){if(wp.has(e))return;const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("complete",c),e.removeEventListener("error",d),e.removeEventListener("abort",d)},c=()=>{n(),a()},d=()=>{s(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",c),e.addEventListener("error",d),e.addEventListener("abort",d)});wp.set(e,t)}let Cp={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return wp.get(e);if(t==="objectStoreNames")return e.objectStoreNames||AE.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function X2(e){Cp=e(Cp)}function $2(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(Qh(this),t,...n);return AE.set(s,t.sort?t.sort():[t]),Vr(s)}:Y2().includes(e)?function(...t){return e.apply(Qh(this),t),Vr(CE.get(this))}:function(...t){return Vr(e.apply(Qh(this),t))}}function Q2(e){return typeof e=="function"?$2(e):(e instanceof IDBTransaction&&W2(e),Z2(e,J2())?new Proxy(e,Cp):e)}function Vr(e){if(e instanceof IDBRequest)return K2(e);if($h.has(e))return $h.get(e);const t=Q2(e);return t!==e&&($h.set(e,t),$p.set(t,e)),t}const Qh=e=>$p.get(e);function xE(e,t,{blocked:n,upgrade:s,blocking:a,terminated:c}={}){const d=indexedDB.open(e,t),_=Vr(d);return s&&d.addEventListener("upgradeneeded",T=>{s(Vr(d.result),T.oldVersion,T.newVersion,Vr(d.transaction),T)}),n&&d.addEventListener("blocked",T=>n(T.oldVersion,T.newVersion,T)),_.then(T=>{c&&T.addEventListener("close",()=>c()),a&&T.addEventListener("versionchange",v=>a(v.oldVersion,v.newVersion,v))}).catch(()=>{}),_}const j2=["get","getKey","getAll","getAllKeys","count"],tP=["put","add","delete","clear"],jh=new Map;function w0(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(jh.get(t))return jh.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,a=tP.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||j2.includes(n)))return;const c=async function(d,..._){const T=this.transaction(d,a?"readwrite":"readonly");let v=T.store;return s&&(v=v.index(_.shift())),(await Promise.all([v[n](..._),a&&T.done]))[0]};return jh.set(t,c),c}X2(e=>({...e,get:(t,n,s)=>w0(t,n)||e.get(t,n,s),has:(t,n)=>!!w0(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nP(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function nP(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Ap="@firebase/app",C0="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=new Wf("@firebase/app"),iP="@firebase/app-compat",oP="@firebase/analytics-compat",sP="@firebase/analytics",rP="@firebase/app-check-compat",aP="@firebase/app-check",lP="@firebase/auth",uP="@firebase/auth-compat",cP="@firebase/database",fP="@firebase/data-connect",dP="@firebase/database-compat",hP="@firebase/functions",pP="@firebase/functions-compat",mP="@firebase/installations",gP="@firebase/installations-compat",_P="@firebase/messaging",yP="@firebase/messaging-compat",vP="@firebase/performance",TP="@firebase/performance-compat",EP="@firebase/remote-config",SP="@firebase/remote-config-compat",wP="@firebase/storage",CP="@firebase/storage-compat",AP="@firebase/firestore",xP="@firebase/ai",bP="@firebase/firestore-compat",IP="firebase",RP="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp="[DEFAULT]",NP={[Ap]:"fire-core",[iP]:"fire-core-compat",[sP]:"fire-analytics",[oP]:"fire-analytics-compat",[aP]:"fire-app-check",[rP]:"fire-app-check-compat",[lP]:"fire-auth",[uP]:"fire-auth-compat",[cP]:"fire-rtdb",[fP]:"fire-data-connect",[dP]:"fire-rtdb-compat",[hP]:"fire-fn",[pP]:"fire-fn-compat",[mP]:"fire-iid",[gP]:"fire-iid-compat",[_P]:"fire-fcm",[yP]:"fire-fcm-compat",[vP]:"fire-perf",[TP]:"fire-perf-compat",[EP]:"fire-rc",[SP]:"fire-rc-compat",[wP]:"fire-gcs",[CP]:"fire-gcs-compat",[AP]:"fire-fst",[bP]:"fire-fst-compat",[xP]:"fire-vertex","fire-js":"fire-js",[IP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df=new Map,MP=new Map,bp=new Map;function A0(e,t){try{e.container.addComponent(t)}catch(n){Xs.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ys(e){const t=e.name;if(bp.has(t))return Xs.debug(`There were multiple attempts to register component ${t}.`),!1;bp.set(t,e);for(const n of Df.values())A0(n,e);for(const n of MP.values())A0(n,e);return!0}function Ga(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function $i(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gr=new Va("app","Firebase",PP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Fo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul=RP;function bE(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s={name:xp,automaticDataCollectionEnabled:!0,...t},a=s.name;if(typeof a!="string"||!a)throw Gr.create("bad-app-name",{appName:String(a)});if(n||(n=vE()),!n)throw Gr.create("no-options");const c=Df.get(a);if(c){if(Fr(n,c.options)&&Fr(s,c.config))return c;throw Gr.create("duplicate-app",{appName:a})}const d=new H2(a);for(const T of bp.values())d.addComponent(T);const _=new DP(n,s,d);return Df.set(a,_),_}function Qp(e=xp){const t=Df.get(e);if(!t&&e===xp&&vE())return bE();if(!t)throw Gr.create("no-app",{appName:e});return t}function go(e,t,n){let s=NP[e]??e;n&&(s+=`-${n}`);const a=s.match(/\s|\//),c=t.match(/\s|\//);if(a||c){const d=[`Unable to register library "${s}" with version "${t}":`];a&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Xs.warn(d.join(" "));return}ys(new Fo(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP="firebase-heartbeat-database",kP=1,zu="firebase-heartbeat-store";let tp=null;function IE(){return tp||(tp=xE(LP,kP,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(zu)}catch(n){console.warn(n)}}}}).catch(e=>{throw Gr.create("idb-open",{originalErrorMessage:e.message})})),tp}async function UP(e){try{const n=(await IE()).transaction(zu),s=await n.objectStore(zu).get(RE(e));return await n.done,s}catch(t){if(t instanceof Zo)Xs.warn(t.message);else{const n=Gr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Xs.warn(n.message)}}}async function x0(e,t){try{const s=(await IE()).transaction(zu,"readwrite");await s.objectStore(zu).put(t,RE(e)),await s.done}catch(n){if(n instanceof Zo)Xs.warn(n.message);else{const s=Gr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xs.warn(s.message)}}}function RE(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP=1024,zP=30;class BP{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new VP(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=b0();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats.length>zP){const d=GP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Xs.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=b0(),{heartbeatsToSend:s,unsentEntries:a}=HP(this._heartbeatsCache.heartbeats),c=Pf(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return Xs.warn(n),""}}}function b0(){return new Date().toISOString().substring(0,10)}function HP(e,t=OP){const n=[];let s=e.slice();for(const a of e){const c=n.find(d=>d.agent===a.agent);if(c){if(c.dates.push(a.date),I0(n)>t){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),I0(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class VP{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Wp()?Xp().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await UP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return x0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return x0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function I0(e){return Pf(JSON.stringify({version:2,heartbeats:e})).length}function GP(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FP(e){ys(new Fo("platform-logger",t=>new eP(t),"PRIVATE")),ys(new Fo("heartbeat",t=>new BP(t),"PRIVATE")),go(Ap,C0,e),go(Ap,C0,"esm2020"),go("fire-js","")}FP("");var qP="firebase",ZP="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */go(qP,ZP,"app");function NE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JP=NE,ME=new Va("auth","Firebase",NE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf=new Wf("@firebase/auth");function YP(e,...t){Lf.logLevel<=Ce.WARN&&Lf.warn(`Auth (${Ul}): ${e}`,...t)}function vf(e,...t){Lf.logLevel<=Ce.ERROR&&Lf.error(`Auth (${Ul}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(e,...t){throw tm(e,...t)}function Go(e,...t){return tm(e,...t)}function jp(e,t,n){const s={...JP(),[t]:n};return new Va("auth","Firebase",s).create(t,{appName:e.name})}function Ks(e){return jp(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function KP(e,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&yo(e,"argument-error"),jp(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function tm(e,...t){if(typeof e!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(n,...s)}return ME.create(e,...t)}function Ht(e,t,...n){if(!e)throw tm(t,...n)}function Js(e){const t="INTERNAL ASSERTION FAILED: "+e;throw vf(t),new Error(t)}function $s(e,t){e||Js(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function WP(){return R0()==="http:"||R0()==="https:"}function R0(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WP()||Kp()||"connection"in navigator)?navigator.onLine:!0}function $P(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(t,n){this.shortDelay=t,this.longDelay=n,$s(n>t,"Short delay should be less than long delay!"),this.isMobile=S2()||C2()}get(){return XP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(e,t){$s(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Js("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Js("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Js("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tD=new Zu(3e4,6e4);function Jr(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Yr(e,t,n,s,a={}){return DE(e,a,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const _=qu({key:e.config.apiKey,...d}).slice(1),T=await e._getAdditionalHeaders();T["Content-Type"]="application/json",e.languageCode&&(T["X-Firebase-Locale"]=e.languageCode);const v={method:t,headers:T,...c};return w2()||(v.referrerPolicy="no-referrer"),e.emulatorConfig&&Fu(e.emulatorConfig.host)&&(v.credentials="include"),PE.fetch()(await LE(e,e.config.apiHost,n,_),v)})}async function DE(e,t,n){e._canInitEmulator=!1;const s={...QP,...t};try{const a=new nD(e),c=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw df(e,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const _=c.ok?d.errorMessage:d.error.message,[T,v]=_.split(" : ");if(T==="FEDERATED_USER_ID_ALREADY_LINKED")throw df(e,"credential-already-in-use",d);if(T==="EMAIL_EXISTS")throw df(e,"email-already-in-use",d);if(T==="USER_DISABLED")throw df(e,"user-disabled",d);const w=s[T]||T.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw jp(e,w,v);yo(e,w)}}catch(a){if(a instanceof Zo)throw a;yo(e,"network-request-failed",{message:String(a)})}}async function Ju(e,t,n,s,a={}){const c=await Yr(e,t,n,s,a);return"mfaPendingCredential"in c&&yo(e,"multi-factor-auth-required",{_serverResponse:c}),c}async function LE(e,t,n,s){const a=`${t}${n}?${s}`,c=e,d=c.config.emulator?em(e.config,a):`${e.config.apiScheme}://${a}`;return jP.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function eD(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Go(this.auth,"network-request-failed")),tD.get())})}}function df(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Go(e,t,s);return a.customData._tokenResponse=n,a}function N0(e){return e!==void 0&&e.enterprise!==void 0}class iD{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return eD(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function oD(e,t){return Yr(e,"GET","/v2/recaptchaConfig",Jr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sD(e,t){return Yr(e,"POST","/v1/accounts:delete",t)}async function kf(e,t){return Yr(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function rD(e,t=!1){const n=to(e),s=await n.getIdToken(t),a=nm(s);Ht(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const c=typeof a.firebase=="object"?a.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:a,token:s,authTime:Du(ep(a.auth_time)),issuedAtTime:Du(ep(a.iat)),expirationTime:Du(ep(a.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function ep(e){return Number(e)*1e3}function nm(e){const[t,n,s]=e.split(".");if(t===void 0||n===void 0||s===void 0)return vf("JWT malformed, contained fewer than 3 sections"),null;try{const a=_E(n);return a?JSON.parse(a):(vf("Failed to decode base64 JWT payload"),null)}catch(a){return vf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function M0(e){const t=nm(e);return Ht(t,"internal-error"),Ht(typeof t.exp<"u","internal-error"),Ht(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bu(e,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Zo&&aD(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}function aD({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Du(this.lastLoginAt),this.creationTime=Du(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uf(e){var x;const t=e.auth,n=await e.getIdToken(),s=await Bu(e,kf(t,{idToken:n}));Ht(s==null?void 0:s.users.length,t,"internal-error");const a=s.users[0];e._notifyReloadListener(a);const c=(x=a.providerUserInfo)!=null&&x.length?kE(a.providerUserInfo):[],d=cD(e.providerData,c),_=e.isAnonymous,T=!(e.email&&a.passwordHash)&&!(d!=null&&d.length),v=_?T:!1,w={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new Rp(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(e,w)}async function uD(e){const t=to(e);await Uf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function cD(e,t){return[...e.filter(s=>!t.some(a=>a.providerId===s.providerId)),...t]}function kE(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD(e,t){const n=await DE(e,{},async()=>{const s=qu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:c}=e.config,d=await LE(e,a,"/v1/token",`key=${c}`),_=await e._getAdditionalHeaders();_["Content-Type"]="application/x-www-form-urlencoded";const T={method:"POST",headers:_,body:s};return e.emulatorConfig&&Fu(e.emulatorConfig.host)&&(T.credentials="include"),PE.fetch()(d,T)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function dD(e,t){return Yr(e,"POST","/v2/accounts:revokeToken",Jr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ht(t.idToken,"internal-error"),Ht(typeof t.idToken<"u","internal-error"),Ht(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):M0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Ht(t.length!==0,"internal-error");const n=M0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ht(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:a,expiresIn:c}=await fD(t,n);this.updateTokensAndExpiration(s,a,Number(c))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:a,expirationTime:c}=n,d=new bl;return s&&(Ht(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),a&&(Ht(typeof a=="string","internal-error",{appName:t}),d.accessToken=a),c&&(Ht(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new bl,this.toJSON())}_performRefresh(){return Js("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(e,t){Ht(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class zo{constructor({uid:t,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new lD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Rp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const n=await Bu(this,this.stsTokenManager.getToken(this.auth,t));return Ht(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return rD(this,t)}reload(){return uD(this)}_assign(t){this!==t&&(Ht(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new zo({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Ht(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Uf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($i(this.auth.app))return Promise.reject(Ks(this.auth));const t=await this.getIdToken();return await Bu(this,sD(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,a=n.email??void 0,c=n.phoneNumber??void 0,d=n.photoURL??void 0,_=n.tenantId??void 0,T=n._redirectEventId??void 0,v=n.createdAt??void 0,w=n.lastLoginAt??void 0,{uid:x,emailVerified:b,isAnonymous:U,providerData:Y,stsTokenManager:K}=n;Ht(x&&K,t,"internal-error");const $=bl.fromJSON(this.name,K);Ht(typeof x=="string",t,"internal-error"),Ur(s,t.name),Ur(a,t.name),Ht(typeof b=="boolean",t,"internal-error"),Ht(typeof U=="boolean",t,"internal-error"),Ur(c,t.name),Ur(d,t.name),Ur(_,t.name),Ur(T,t.name),Ur(v,t.name),Ur(w,t.name);const dt=new zo({uid:x,auth:t,email:a,emailVerified:b,displayName:s,isAnonymous:U,photoURL:d,phoneNumber:c,tenantId:_,stsTokenManager:$,createdAt:v,lastLoginAt:w});return Y&&Array.isArray(Y)&&(dt.providerData=Y.map(_t=>({..._t}))),T&&(dt._redirectEventId=T),dt}static async _fromIdTokenResponse(t,n,s=!1){const a=new bl;a.updateFromServerResponse(n);const c=new zo({uid:n.localId,auth:t,stsTokenManager:a,isAnonymous:s});return await Uf(c),c}static async _fromGetAccountInfoResponse(t,n,s){const a=n.users[0];Ht(a.localId!==void 0,"internal-error");const c=a.providerUserInfo!==void 0?kE(a.providerUserInfo):[],d=!(a.email&&a.passwordHash)&&!(c!=null&&c.length),_=new bl;_.updateFromIdToken(s);const T=new zo({uid:a.localId,auth:t,stsTokenManager:_,isAnonymous:d}),v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Rp(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(c!=null&&c.length)};return Object.assign(T,v),T}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0=new Map;function Ys(e){$s(e instanceof Function,"Expected a class definition");let t=P0.get(e);return t?($s(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,P0.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}UE.type="NONE";const D0=UE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(e,t,n){return`firebase:${e}:${t}:${n}`}class Il{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:a,name:c}=this.auth;this.fullUserKey=Tf(this.userKey,a.apiKey,c),this.fullPersistenceKey=Tf("persistence",a.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await kf(this.auth,{idToken:t}).catch(()=>{});return n?zo._fromGetAccountInfoResponse(this.auth,n,t):null}return zo._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Il(Ys(D0),t,s);const a=(await Promise.all(n.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=a[0]||Ys(D0);const d=Tf(s,t.config.apiKey,t.name);let _=null;for(const v of n)try{const w=await v._get(d);if(w){let x;if(typeof w=="string"){const b=await kf(t,{idToken:w}).catch(()=>{});if(!b)break;x=await zo._fromGetAccountInfoResponse(t,b,w)}else x=zo._fromJSON(t,w);v!==c&&(_=x),c=v;break}}catch{}const T=a.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!T.length?new Il(c,t,s):(c=T[0],_&&await c._set(d,_.toJSON()),await Promise.all(n.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new Il(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(HE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(OE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(GE(t))return"Blackberry";if(FE(t))return"Webos";if(zE(t))return"Safari";if((t.includes("chrome/")||BE(t))&&!t.includes("edge/"))return"Chrome";if(VE(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function OE(e=gi()){return/firefox\//i.test(e)}function zE(e=gi()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function BE(e=gi()){return/crios\//i.test(e)}function HE(e=gi()){return/iemobile/i.test(e)}function VE(e=gi()){return/android/i.test(e)}function GE(e=gi()){return/blackberry/i.test(e)}function FE(e=gi()){return/webos/i.test(e)}function im(e=gi()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function hD(e=gi()){var t;return im(e)&&!!((t=window.navigator)!=null&&t.standalone)}function pD(){return A2()&&document.documentMode===10}function qE(e=gi()){return im(e)||VE(e)||FE(e)||GE(e)||/windows phone/i.test(e)||HE(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(e,t=[]){let n;switch(e){case"Browser":n=L0(gi());break;case"Worker":n=`${L0(gi())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ul}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=c=>new Promise((d,_)=>{try{const T=t(c);d(T)}catch(T){_(T)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gD(e,t={}){return Yr(e,"GET","/v2/passwordPolicy",Jr(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=6;class yD{constructor(t){var s;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??_D,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=t.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),a&&(n.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<t.length;a++)s=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,a,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(t,n,s,a){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new k0(this),this.idTokenSubscription=new k0(this),this.beforeStateQueue=new mD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ME,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ys(n)),this._initializationPromise=this.queue(async()=>{var s,a,c;if(!this._deleted&&(this.persistenceManager=await Il.create(this,t),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await kf(this,{idToken:t}),s=await zo._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var c;if($i(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(_=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(_,_))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(c=this.redirectUser)==null?void 0:c._redirectEventId,_=s==null?void 0:s._redirectEventId,T=await this.tryRedirectSignIn(t);(!d||d===_)&&(T!=null&&T.user)&&(s=T.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(d){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ht(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Uf(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=$P()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if($i(this.app))return Promise.reject(Ks(this));const n=t?to(t):null;return n&&Ht(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Ht(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return $i(this.app)?Promise.reject(Ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return $i(this.app)?Promise.reject(Ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ys(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await gD(this),n=new yD(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Va("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await dD(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Ys(t)||this._popupRedirectResolver;Ht(n,this,"argument-error"),this.redirectPersistenceManager=await Il.create(this,[Ys(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,a){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const _=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ht(_,this,"internal-error"),_.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const T=t.addObserver(n,s,a);return()=>{d=!0,T()}}else{const T=t.addObserver(n);return()=>{d=!0,T()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ht(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ZE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var n;if($i(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&YP(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Kr(e){return to(e)}class k0{constructor(t){this.auth=t,this.observer=null,this.addObserver=N2(n=>this.observer=n)}get next(){return Ht(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TD(e){Xf=e}function JE(e){return Xf.loadJS(e)}function ED(){return Xf.recaptchaEnterpriseScript}function SD(){return Xf.gapiScript}function wD(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class CD{constructor(){this.enterprise=new AD}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class AD{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const xD="recaptcha-enterprise",YE="NO_RECAPTCHA";class bD{constructor(t){this.type=xD,this.auth=Kr(t)}async verify(t="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,_)=>{oD(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(T=>{if(T.recaptchaKey===void 0)_(new Error("recaptcha Enterprise site key undefined"));else{const v=new iD(T);return c.tenantId==null?c._agentRecaptchaConfig=v:c._tenantRecaptchaConfigs[c.tenantId]=v,d(v.siteKey)}}).catch(T=>{_(T)})})}function a(c,d,_){const T=window.grecaptcha;N0(T)?T.enterprise.ready(()=>{T.enterprise.execute(c,{action:t}).then(v=>{d(v)}).catch(()=>{d(YE)})}):_(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new CD().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{s(this.auth).then(_=>{if(!n&&N0(window.grecaptcha))a(_,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let T=ED();T.length!==0&&(T+=_),JE(T).then(()=>{a(_,c,d)}).catch(v=>{d(v)})}}).catch(_=>{d(_)})})}}async function U0(e,t,n,s=!1,a=!1){const c=new bD(e);let d;if(a)d=YE;else try{d=await c.verify(n)}catch{d=await c.verify(n,!0)}const _={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in _){const T=_.phoneEnrollmentInfo.phoneNumber,v=_.phoneEnrollmentInfo.recaptchaToken;Object.assign(_,{phoneEnrollmentInfo:{phoneNumber:T,recaptchaToken:v,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in _){const T=_.phoneSignInInfo.recaptchaToken;Object.assign(_,{phoneSignInInfo:{recaptchaToken:T,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return _}return s?Object.assign(_,{captchaResp:d}):Object.assign(_,{captchaResponse:d}),Object.assign(_,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(_,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),_}async function Np(e,t,n,s,a){var c;if((c=e._getRecaptchaConfig())!=null&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await U0(e,t,n,n==="getOobCode");return s(e,d)}else return s(e,t).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const _=await U0(e,t,n,n==="getOobCode");return s(e,_)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(e,t){const n=Ga(e,"auth");if(n.isInitialized()){const a=n.getImmediate(),c=n.getOptions();if(Fr(c,t??{}))return a;yo(a,"already-initialized")}return n.initialize({options:t})}function RD(e,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Ys);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function ND(e,t,n){const s=Kr(e);Ht(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const a=!1,c=KE(t),{host:d,port:_}=MD(t),T=_===null?"":`:${_}`,v={url:`${c}//${d}${T}/`},w=Object.freeze({host:d,port:_,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Ht(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ht(Fr(v,s.config.emulator)&&Fr(w,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=v,s.emulatorConfig=w,s.settings.appVerificationDisabledForTesting=!0,Fu(d)?(EE(`${c}//${d}${T}`),SE("Auth",!0)):PD()}function KE(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function MD(e){const t=KE(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const c=a[1];return{host:c,port:O0(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:O0(d)}}}function O0(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function PD(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Js("not implemented")}_getIdTokenResponse(t){return Js("not implemented")}_linkToIdToken(t,n){return Js("not implemented")}_getReauthenticationResolver(t){return Js("not implemented")}}async function DD(e,t){return Yr(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LD(e,t){return Ju(e,"POST","/v1/accounts:signInWithPassword",Jr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kD(e,t){return Ju(e,"POST","/v1/accounts:signInWithEmailLink",Jr(e,t))}async function UD(e,t){return Ju(e,"POST","/v1/accounts:signInWithEmailLink",Jr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu extends om{constructor(t,n,s,a=null){super("password",s),this._email=t,this._password=n,this._tenantId=a}static _fromEmailAndPassword(t,n){return new Hu(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Hu(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Np(t,n,"signInWithPassword",LD);case"emailLink":return kD(t,{email:this._email,oobCode:this._password});default:yo(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Np(t,s,"signUpPassword",DD);case"emailLink":return UD(t,{idToken:n,email:this._email,oobCode:this._password});default:yo(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(e,t){return Ju(e,"POST","/v1/accounts:signInWithIdp",Jr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD="http://localhost";class ka extends om{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ka(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):yo("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:a,...c}=n;if(!s||!a)return null;const d=new ka(s,a);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const n=this.buildRequest();return Rl(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Rl(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Rl(t,n)}buildRequest(){const t={requestUri:OD,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=qu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function BD(e){const t=Ru(Nu(e)).link,n=t?Ru(Nu(t)).deep_link_id:null,s=Ru(Nu(e)).deep_link_id;return(s?Ru(Nu(s)).link:null)||s||n||t||e}class sm{constructor(t){const n=Ru(Nu(t)),s=n.apiKey??null,a=n.oobCode??null,c=zD(n.mode??null);Ht(s&&a&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=BD(t);try{return new sm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(){this.providerId=Ol.PROVIDER_ID}static credential(t,n){return Hu._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=sm.parseLink(n);return Ht(s,"argument-error"),Hu._fromEmailAndCode(t,s.code,s.tenantId)}}Ol.PROVIDER_ID="password";Ol.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ol.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu extends rm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends Yu{constructor(){super("facebook.com")}static credential(t){return ka._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Or.credentialFromTaggedObject(t)}static credentialFromError(t){return Or.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Or.credential(t.oauthAccessToken)}catch{return null}}}Or.FACEBOOK_SIGN_IN_METHOD="facebook.com";Or.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends Yu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ka._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return qs.credentialFromTaggedObject(t)}static credentialFromError(t){return qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return qs.credential(n,s)}catch{return null}}}qs.GOOGLE_SIGN_IN_METHOD="google.com";qs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends Yu{constructor(){super("github.com")}static credential(t){return ka._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zr.credentialFromTaggedObject(t)}static credentialFromError(t){return zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zr.credential(t.oauthAccessToken)}catch{return null}}}zr.GITHUB_SIGN_IN_METHOD="github.com";zr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends Yu{constructor(){super("twitter.com")}static credential(t,n){return ka._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Br.credentialFromTaggedObject(t)}static credentialFromError(t){return Br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Br.credential(n,s)}catch{return null}}}Br.TWITTER_SIGN_IN_METHOD="twitter.com";Br.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(e,t){return Ju(e,"POST","/v1/accounts:signUp",Jr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,a=!1){const c=await zo._fromIdTokenResponse(t,s,a),d=z0(s);return new Ua({user:c,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const a=z0(s);return new Ua({user:t,providerId:a,_tokenResponse:s,operationType:n})}}function z0(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of extends Zo{constructor(t,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Of.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,a){return new Of(t,n,s,a)}}function WE(e,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Of._fromErrorAndOperation(e,c,t,s):c})}async function VD(e,t,n=!1){const s=await Bu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ua._forOperation(e,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GD(e,t,n=!1){const{auth:s}=e;if($i(s.app))return Promise.reject(Ks(s));const a="reauthenticate";try{const c=await Bu(e,WE(s,a,t,e),n);Ht(c.idToken,s,"internal-error");const d=nm(c.idToken);Ht(d,s,"internal-error");const{sub:_}=d;return Ht(e.uid===_,s,"user-mismatch"),Ua._forOperation(e,a,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&yo(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XE(e,t,n=!1){if($i(e.app))return Promise.reject(Ks(e));const s="signIn",a=await WE(e,s,t),c=await Ua._fromIdTokenResponse(e,s,a);return n||await e._updateCurrentUser(c.user),c}async function FD(e,t){return XE(Kr(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $E(e){const t=Kr(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function qD(e,t,n){if($i(e.app))return Promise.reject(Ks(e));const s=Kr(e),d=await Np(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",HD).catch(T=>{throw T.code==="auth/password-does-not-meet-requirements"&&$E(e),T}),_=await Ua._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(_.user),_}function ZD(e,t,n){return $i(e.app)?Promise.reject(Ks(e)):FD(to(e),Ol.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&$E(e),s})}function JD(e,t,n,s){return to(e).onIdTokenChanged(t,n,s)}function YD(e,t,n){return to(e).beforeAuthStateChanged(t,n)}function KD(e,t,n,s){return to(e).onAuthStateChanged(t,n,s)}function WD(e){return to(e).signOut()}const zf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zf,"1"),this.storage.removeItem(zf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=1e3,$D=10;class jE extends QE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&t(n,a,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((d,_,T)=>{this.notifyListeners(d,T)});return}const s=t.key;n?this.detachListener():this.stopPolling();const a=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);pD()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,$D):a()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},XD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}jE.type="LOCAL";const QD=jE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS extends QE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}tS.type="SESSION";const eS=tS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(a=>a.isListeningto(t));if(n)return n;const s=new $f(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:a,data:c}=n.data,d=this.handlersMap[a];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const _=Array.from(d).map(async v=>v(n.origin,c)),T=await jD(_);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:T})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$f.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(e="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let c,d;return new Promise((_,T)=>{const v=am("",20);a.port1.start();const w=setTimeout(()=>{T(new Error("unsupported_event"))},s);d={messageChannel:a,onMessage(x){const b=x;if(b.data.eventId===v)switch(b.data.status){case"ack":clearTimeout(w),c=setTimeout(()=>{T(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),_(b.data.response);break;default:clearTimeout(w),clearTimeout(c),T(new Error("invalid_response"));break}}},this.handlers.add(d),a.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:n},[a.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(){return window}function eL(e){_s().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(){return typeof _s().WorkerGlobalScope<"u"&&typeof _s().importScripts=="function"}async function nL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iL(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function oL(){return nS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="firebaseLocalStorageDb",sL=1,Bf="firebaseLocalStorage",oS="fbase_key";class Ku{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qf(e,t){return e.transaction([Bf],t?"readwrite":"readonly").objectStore(Bf)}function rL(){const e=indexedDB.deleteDatabase(iS);return new Ku(e).toPromise()}function Mp(){const e=indexedDB.open(iS,sL);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const s=e.result;try{s.createObjectStore(Bf,{keyPath:oS})}catch(a){n(a)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(Bf)?t(s):(s.close(),await rL(),t(await Mp()))})})}async function B0(e,t,n){const s=Qf(e,!0).put({[oS]:t,value:n});return new Ku(s).toPromise()}async function aL(e,t){const n=Qf(e,!1).get(t),s=await new Ku(n).toPromise();return s===void 0?null:s.value}function H0(e,t){const n=Qf(e,!0).delete(t);return new Ku(n).toPromise()}const lL=800,uL=3;class sS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>uL)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$f._getInstance(oL()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await nL(),!this.activeServiceWorker)return;this.sender=new tL(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(s=t[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||iL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Mp();return await B0(t,zf,"1"),await H0(t,zf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>B0(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>aL(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>H0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const c=Qf(a,!1).getAll();return new Ku(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:a,value:c}of t)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(c)&&(this.notifyListeners(a,c),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sS.type="LOCAL";const cL=sS;new Zu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(e,t){return t?Ys(t):(Ht(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm extends om{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Rl(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Rl(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Rl(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function fL(e){return XE(e.auth,new lm(e),e.bypassAuthState)}function dL(e){const{auth:t,user:n}=e;return Ht(n,t,"internal-error"),GD(n,new lm(e),e.bypassAuthState)}async function hL(e){const{auth:t,user:n}=e;return Ht(n,t,"internal-error"),VD(n,new lm(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(t,n,s,a,c=!1){this.auth=t,this.resolver=s,this.user=a,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:a,tenantId:c,error:d,type:_}=t;if(d){this.reject(d);return}const T={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(_)(T))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return fL;case"linkViaPopup":case"linkViaRedirect":return hL;case"reauthViaPopup":case"reauthViaRedirect":return dL;default:yo(this.auth,"internal-error")}}resolve(t){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL=new Zu(2e3,1e4);async function mL(e,t,n){if($i(e.app))return Promise.reject(Go(e,"operation-not-supported-in-this-environment"));const s=Kr(e);KP(e,t,rm);const a=rS(s,n);return new Na(s,"signInViaPopup",t,a).executeNotNull()}class Na extends aS{constructor(t,n,s,a,c){super(t,n,a,c),this.provider=s,this.authWindow=null,this.pollId=null,Na.currentPopupAction&&Na.currentPopupAction.cancel(),Na.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ht(t,this.auth,"internal-error"),t}async onExecution(){$s(this.filter.length===1,"Popup operations only handle one event");const t=am();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Go(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(Go(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Na.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Go(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,pL.get())};t()}}Na.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL="pendingRedirect",Ef=new Map;class _L extends aS{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Ef.get(this.auth._key());if(!t){try{const s=await yL(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Ef.set(this.auth._key(),t)}return this.bypassAuthState||Ef.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yL(e,t){const n=EL(t),s=TL(e);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function vL(e,t){Ef.set(e._key(),t)}function TL(e){return Ys(e._redirectPersistence)}function EL(e){return Tf(gL,e.config.apiKey,e.name)}async function SL(e,t,n=!1){if($i(e.app))return Promise.reject(Ks(e));const s=Kr(e),a=rS(s,t),d=await new _L(s,a,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL=600*1e3;class CL{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!AL(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!lS(t)){const a=((s=t.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Go(this.auth,a))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=wL&&this.cachedEventUids.clear(),this.cachedEventUids.has(V0(t))}saveEventToCache(t){this.cachedEventUids.add(V0(t)),this.lastProcessedEventTime=Date.now()}}function V0(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function lS({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function AL(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lS(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xL(e,t={}){return Yr(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IL=/^https?/;async function RL(e){if(e.config.emulator)return;const{authorizedDomains:t}=await xL(e);for(const n of t)try{if(NL(n))return}catch{}yo(e,"unauthorized-domain")}function NL(e){const t=Ip(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const d=new URL(e);return d.hostname===""&&s===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!IL.test(n))return!1;if(bL.test(e))return s===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML=new Zu(3e4,6e4);function G0(){const e=_s().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function PL(e){return new Promise((t,n)=>{var a,c,d;function s(){G0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{G0(),n(Go(e,"network-request-failed"))},timeout:ML.get()})}if((c=(a=_s().gapi)==null?void 0:a.iframes)!=null&&c.Iframe)t(gapi.iframes.getContext());else if((d=_s().gapi)!=null&&d.load)s();else{const _=wD("iframefcb");return _s()[_]=()=>{gapi.load?s():n(Go(e,"network-request-failed"))},JE(`${SD()}?onload=${_}`).catch(T=>n(T))}}).catch(t=>{throw Sf=null,t})}let Sf=null;function DL(e){return Sf=Sf||PL(e),Sf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL=new Zu(5e3,15e3),kL="__/auth/iframe",UL="emulator/auth/iframe",OL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BL(e){const t=e.config;Ht(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?em(t,UL):`https://${e.config.authDomain}/${kL}`,s={apiKey:t.apiKey,appName:e.name,v:Ul},a=zL.get(e.config.apiHost);a&&(s.eid=a);const c=e._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${qu(s).slice(1)}`}async function HL(e){const t=await DL(e),n=_s().gapi;return Ht(n,e,"internal-error"),t.open({where:document.body,url:BL(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OL,dontclear:!0},s=>new Promise(async(a,c)=>{await s.restyle({setHideOnLeave:!1});const d=Go(e,"network-request-failed"),_=_s().setTimeout(()=>{c(d)},LL.get());function T(){_s().clearTimeout(_),a(s)}s.ping(T).then(T,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GL=500,FL=600,qL="_blank",ZL="http://localhost";class F0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function JL(e,t,n,s=GL,a=FL){const c=Math.max((window.screen.availHeight-a)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let _="";const T={...VL,width:s.toString(),height:a.toString(),top:c,left:d},v=gi().toLowerCase();n&&(_=BE(v)?qL:n),OE(v)&&(t=t||ZL,T.scrollbars="yes");const w=Object.entries(T).reduce((b,[U,Y])=>`${b}${U}=${Y},`,"");if(hD(v)&&_!=="_self")return YL(t||"",_),new F0(null);const x=window.open(t||"",_,w);Ht(x,e,"popup-blocked");try{x.focus()}catch{}return new F0(x)}function YL(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL="__/auth/handler",WL="emulator/auth/handler",XL=encodeURIComponent("fac");async function q0(e,t,n,s,a,c){Ht(e.config.authDomain,e,"auth-domain-config-required"),Ht(e.config.apiKey,e,"invalid-api-key");const d={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:Ul,eventId:a};if(t instanceof rm){t.setDefaultLanguage(e.languageCode),d.providerId=t.providerId||"",R2(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[w,x]of Object.entries({}))d[w]=x}if(t instanceof Yu){const w=t.getScopes().filter(x=>x!=="");w.length>0&&(d.scopes=w.join(","))}e.tenantId&&(d.tid=e.tenantId);const _=d;for(const w of Object.keys(_))_[w]===void 0&&delete _[w];const T=await e._getAppCheckToken(),v=T?`#${XL}=${encodeURIComponent(T)}`:"";return`${$L(e)}?${qu(_).slice(1)}${v}`}function $L({config:e}){return e.emulator?em(e,WL):`https://${e.authDomain}/${KL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np="webStorageSupport";class QL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eS,this._completeRedirectFn=SL,this._overrideRedirectResult=vL}async _openPopup(t,n,s,a){var d;$s((d=this.eventManagers[t._key()])==null?void 0:d.manager,"_initialize() not called before _openPopup()");const c=await q0(t,n,s,Ip(),a);return JL(t,c,am())}async _openRedirect(t,n,s,a){await this._originValidation(t);const c=await q0(t,n,s,Ip(),a);return eL(c),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:a,promise:c}=this.eventManagers[n];return a?Promise.resolve(a):($s(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await HL(t),s=new CL(t);return n.register("authEvent",a=>(Ht(a==null?void 0:a.authEvent,t,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(np,{type:np},a=>{var d;const c=(d=a==null?void 0:a[0])==null?void 0:d[np];c!==void 0&&n(!!c),yo(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=RL(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return qE()||zE()||im()}}const jL=QL;var Z0="@firebase/auth",J0="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ht(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ek(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nk(e){ys(new Fo("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:_}=s.options;Ht(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const T={apiKey:d,authDomain:_,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZE(e)},v=new vD(s,a,c,T);return RD(v,n),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),ys(new Fo("auth-internal",t=>{const n=Kr(t.getProvider("auth").getImmediate());return(s=>new tk(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),go(Z0,J0,ek(e)),go(Z0,J0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik=300,ok=TE("authIdTokenMaxAge")||ik;let Y0=null;const sk=e=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>ok)return;const a=n==null?void 0:n.token;Y0!==a&&(Y0=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function rk(e=Qp()){const t=Ga(e,"auth");if(t.isInitialized())return t.getImmediate();const n=ID(e,{popupRedirectResolver:jL,persistence:[cL,QD,eS]}),s=TE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=sk(c.toString());YD(n,d,()=>d(n.currentUser)),JD(n,_=>d(_))}}const a=yE("auth");return a&&ND(n,`http://${a}`),n}function ak(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}TD({loadJS(e){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=a=>{const c=Go("internal-error");c.customData=a,n(c)},s.type="text/javascript",s.charset="UTF-8",ak().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nk("Browser");var K0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var um;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(z,O){function k(){}k.prototype=O.prototype,z.F=O.prototype,z.prototype=new k,z.prototype.constructor=z,z.D=function(F,V,J){for(var B=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)B[Ut-2]=arguments[Ut];return O.prototype[V].apply(F,B)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(z,O,k){k||(k=0);const F=Array(16);if(typeof O=="string")for(var V=0;V<16;++V)F[V]=O.charCodeAt(k++)|O.charCodeAt(k++)<<8|O.charCodeAt(k++)<<16|O.charCodeAt(k++)<<24;else for(V=0;V<16;++V)F[V]=O[k++]|O[k++]<<8|O[k++]<<16|O[k++]<<24;O=z.g[0],k=z.g[1],V=z.g[2];let J=z.g[3],B;B=O+(J^k&(V^J))+F[0]+3614090360&4294967295,O=k+(B<<7&4294967295|B>>>25),B=J+(V^O&(k^V))+F[1]+3905402710&4294967295,J=O+(B<<12&4294967295|B>>>20),B=V+(k^J&(O^k))+F[2]+606105819&4294967295,V=J+(B<<17&4294967295|B>>>15),B=k+(O^V&(J^O))+F[3]+3250441966&4294967295,k=V+(B<<22&4294967295|B>>>10),B=O+(J^k&(V^J))+F[4]+4118548399&4294967295,O=k+(B<<7&4294967295|B>>>25),B=J+(V^O&(k^V))+F[5]+1200080426&4294967295,J=O+(B<<12&4294967295|B>>>20),B=V+(k^J&(O^k))+F[6]+2821735955&4294967295,V=J+(B<<17&4294967295|B>>>15),B=k+(O^V&(J^O))+F[7]+4249261313&4294967295,k=V+(B<<22&4294967295|B>>>10),B=O+(J^k&(V^J))+F[8]+1770035416&4294967295,O=k+(B<<7&4294967295|B>>>25),B=J+(V^O&(k^V))+F[9]+2336552879&4294967295,J=O+(B<<12&4294967295|B>>>20),B=V+(k^J&(O^k))+F[10]+4294925233&4294967295,V=J+(B<<17&4294967295|B>>>15),B=k+(O^V&(J^O))+F[11]+2304563134&4294967295,k=V+(B<<22&4294967295|B>>>10),B=O+(J^k&(V^J))+F[12]+1804603682&4294967295,O=k+(B<<7&4294967295|B>>>25),B=J+(V^O&(k^V))+F[13]+4254626195&4294967295,J=O+(B<<12&4294967295|B>>>20),B=V+(k^J&(O^k))+F[14]+2792965006&4294967295,V=J+(B<<17&4294967295|B>>>15),B=k+(O^V&(J^O))+F[15]+1236535329&4294967295,k=V+(B<<22&4294967295|B>>>10),B=O+(V^J&(k^V))+F[1]+4129170786&4294967295,O=k+(B<<5&4294967295|B>>>27),B=J+(k^V&(O^k))+F[6]+3225465664&4294967295,J=O+(B<<9&4294967295|B>>>23),B=V+(O^k&(J^O))+F[11]+643717713&4294967295,V=J+(B<<14&4294967295|B>>>18),B=k+(J^O&(V^J))+F[0]+3921069994&4294967295,k=V+(B<<20&4294967295|B>>>12),B=O+(V^J&(k^V))+F[5]+3593408605&4294967295,O=k+(B<<5&4294967295|B>>>27),B=J+(k^V&(O^k))+F[10]+38016083&4294967295,J=O+(B<<9&4294967295|B>>>23),B=V+(O^k&(J^O))+F[15]+3634488961&4294967295,V=J+(B<<14&4294967295|B>>>18),B=k+(J^O&(V^J))+F[4]+3889429448&4294967295,k=V+(B<<20&4294967295|B>>>12),B=O+(V^J&(k^V))+F[9]+568446438&4294967295,O=k+(B<<5&4294967295|B>>>27),B=J+(k^V&(O^k))+F[14]+3275163606&4294967295,J=O+(B<<9&4294967295|B>>>23),B=V+(O^k&(J^O))+F[3]+4107603335&4294967295,V=J+(B<<14&4294967295|B>>>18),B=k+(J^O&(V^J))+F[8]+1163531501&4294967295,k=V+(B<<20&4294967295|B>>>12),B=O+(V^J&(k^V))+F[13]+2850285829&4294967295,O=k+(B<<5&4294967295|B>>>27),B=J+(k^V&(O^k))+F[2]+4243563512&4294967295,J=O+(B<<9&4294967295|B>>>23),B=V+(O^k&(J^O))+F[7]+1735328473&4294967295,V=J+(B<<14&4294967295|B>>>18),B=k+(J^O&(V^J))+F[12]+2368359562&4294967295,k=V+(B<<20&4294967295|B>>>12),B=O+(k^V^J)+F[5]+4294588738&4294967295,O=k+(B<<4&4294967295|B>>>28),B=J+(O^k^V)+F[8]+2272392833&4294967295,J=O+(B<<11&4294967295|B>>>21),B=V+(J^O^k)+F[11]+1839030562&4294967295,V=J+(B<<16&4294967295|B>>>16),B=k+(V^J^O)+F[14]+4259657740&4294967295,k=V+(B<<23&4294967295|B>>>9),B=O+(k^V^J)+F[1]+2763975236&4294967295,O=k+(B<<4&4294967295|B>>>28),B=J+(O^k^V)+F[4]+1272893353&4294967295,J=O+(B<<11&4294967295|B>>>21),B=V+(J^O^k)+F[7]+4139469664&4294967295,V=J+(B<<16&4294967295|B>>>16),B=k+(V^J^O)+F[10]+3200236656&4294967295,k=V+(B<<23&4294967295|B>>>9),B=O+(k^V^J)+F[13]+681279174&4294967295,O=k+(B<<4&4294967295|B>>>28),B=J+(O^k^V)+F[0]+3936430074&4294967295,J=O+(B<<11&4294967295|B>>>21),B=V+(J^O^k)+F[3]+3572445317&4294967295,V=J+(B<<16&4294967295|B>>>16),B=k+(V^J^O)+F[6]+76029189&4294967295,k=V+(B<<23&4294967295|B>>>9),B=O+(k^V^J)+F[9]+3654602809&4294967295,O=k+(B<<4&4294967295|B>>>28),B=J+(O^k^V)+F[12]+3873151461&4294967295,J=O+(B<<11&4294967295|B>>>21),B=V+(J^O^k)+F[15]+530742520&4294967295,V=J+(B<<16&4294967295|B>>>16),B=k+(V^J^O)+F[2]+3299628645&4294967295,k=V+(B<<23&4294967295|B>>>9),B=O+(V^(k|~J))+F[0]+4096336452&4294967295,O=k+(B<<6&4294967295|B>>>26),B=J+(k^(O|~V))+F[7]+1126891415&4294967295,J=O+(B<<10&4294967295|B>>>22),B=V+(O^(J|~k))+F[14]+2878612391&4294967295,V=J+(B<<15&4294967295|B>>>17),B=k+(J^(V|~O))+F[5]+4237533241&4294967295,k=V+(B<<21&4294967295|B>>>11),B=O+(V^(k|~J))+F[12]+1700485571&4294967295,O=k+(B<<6&4294967295|B>>>26),B=J+(k^(O|~V))+F[3]+2399980690&4294967295,J=O+(B<<10&4294967295|B>>>22),B=V+(O^(J|~k))+F[10]+4293915773&4294967295,V=J+(B<<15&4294967295|B>>>17),B=k+(J^(V|~O))+F[1]+2240044497&4294967295,k=V+(B<<21&4294967295|B>>>11),B=O+(V^(k|~J))+F[8]+1873313359&4294967295,O=k+(B<<6&4294967295|B>>>26),B=J+(k^(O|~V))+F[15]+4264355552&4294967295,J=O+(B<<10&4294967295|B>>>22),B=V+(O^(J|~k))+F[6]+2734768916&4294967295,V=J+(B<<15&4294967295|B>>>17),B=k+(J^(V|~O))+F[13]+1309151649&4294967295,k=V+(B<<21&4294967295|B>>>11),B=O+(V^(k|~J))+F[4]+4149444226&4294967295,O=k+(B<<6&4294967295|B>>>26),B=J+(k^(O|~V))+F[11]+3174756917&4294967295,J=O+(B<<10&4294967295|B>>>22),B=V+(O^(J|~k))+F[2]+718787259&4294967295,V=J+(B<<15&4294967295|B>>>17),B=k+(J^(V|~O))+F[9]+3951481745&4294967295,z.g[0]=z.g[0]+O&4294967295,z.g[1]=z.g[1]+(V+(B<<21&4294967295|B>>>11))&4294967295,z.g[2]=z.g[2]+V&4294967295,z.g[3]=z.g[3]+J&4294967295}s.prototype.v=function(z,O){O===void 0&&(O=z.length);const k=O-this.blockSize,F=this.C;let V=this.h,J=0;for(;J<O;){if(V==0)for(;J<=k;)a(this,z,J),J+=this.blockSize;if(typeof z=="string"){for(;J<O;)if(F[V++]=z.charCodeAt(J++),V==this.blockSize){a(this,F),V=0;break}}else for(;J<O;)if(F[V++]=z[J++],V==this.blockSize){a(this,F),V=0;break}}this.h=V,this.o+=O},s.prototype.A=function(){var z=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);z[0]=128;for(var O=1;O<z.length-8;++O)z[O]=0;O=this.o*8;for(var k=z.length-8;k<z.length;++k)z[k]=O&255,O/=256;for(this.v(z),z=Array(16),O=0,k=0;k<4;++k)for(let F=0;F<32;F+=8)z[O++]=this.g[k]>>>F&255;return z};function c(z,O){var k=_;return Object.prototype.hasOwnProperty.call(k,z)?k[z]:k[z]=O(z)}function d(z,O){this.h=O;const k=[];let F=!0;for(let V=z.length-1;V>=0;V--){const J=z[V]|0;F&&J==O||(k[V]=J,F=!1)}this.g=k}var _={};function T(z){return-128<=z&&z<128?c(z,function(O){return new d([O|0],O<0?-1:0)}):new d([z|0],z<0?-1:0)}function v(z){if(isNaN(z)||!isFinite(z))return x;if(z<0)return $(v(-z));const O=[];let k=1;for(let F=0;z>=k;F++)O[F]=z/k|0,k*=4294967296;return new d(O,0)}function w(z,O){if(z.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(z.charAt(0)=="-")return $(w(z.substring(1),O));if(z.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=v(Math.pow(O,8));let F=x;for(let J=0;J<z.length;J+=8){var V=Math.min(8,z.length-J);const B=parseInt(z.substring(J,J+V),O);V<8?(V=v(Math.pow(O,V)),F=F.j(V).add(v(B))):(F=F.j(k),F=F.add(v(B)))}return F}var x=T(0),b=T(1),U=T(16777216);e=d.prototype,e.m=function(){if(K(this))return-$(this).m();let z=0,O=1;for(let k=0;k<this.g.length;k++){const F=this.i(k);z+=(F>=0?F:4294967296+F)*O,O*=4294967296}return z},e.toString=function(z){if(z=z||10,z<2||36<z)throw Error("radix out of range: "+z);if(Y(this))return"0";if(K(this))return"-"+$(this).toString(z);const O=v(Math.pow(z,6));var k=this;let F="";for(;;){const V=St(k,O).g;k=dt(k,V.j(O));let J=((k.g.length>0?k.g[0]:k.h)>>>0).toString(z);if(k=V,Y(k))return J+F;for(;J.length<6;)J="0"+J;F=J+F}},e.i=function(z){return z<0?0:z<this.g.length?this.g[z]:this.h};function Y(z){if(z.h!=0)return!1;for(let O=0;O<z.g.length;O++)if(z.g[O]!=0)return!1;return!0}function K(z){return z.h==-1}e.l=function(z){return z=dt(this,z),K(z)?-1:Y(z)?0:1};function $(z){const O=z.g.length,k=[];for(let F=0;F<O;F++)k[F]=~z.g[F];return new d(k,~z.h).add(b)}e.abs=function(){return K(this)?$(this):this},e.add=function(z){const O=Math.max(this.g.length,z.g.length),k=[];let F=0;for(let V=0;V<=O;V++){let J=F+(this.i(V)&65535)+(z.i(V)&65535),B=(J>>>16)+(this.i(V)>>>16)+(z.i(V)>>>16);F=B>>>16,J&=65535,B&=65535,k[V]=B<<16|J}return new d(k,k[k.length-1]&-2147483648?-1:0)};function dt(z,O){return z.add($(O))}e.j=function(z){if(Y(this)||Y(z))return x;if(K(this))return K(z)?$(this).j($(z)):$($(this).j(z));if(K(z))return $(this.j($(z)));if(this.l(U)<0&&z.l(U)<0)return v(this.m()*z.m());const O=this.g.length+z.g.length,k=[];for(var F=0;F<2*O;F++)k[F]=0;for(F=0;F<this.g.length;F++)for(let V=0;V<z.g.length;V++){const J=this.i(F)>>>16,B=this.i(F)&65535,Ut=z.i(V)>>>16,Ee=z.i(V)&65535;k[2*F+2*V]+=B*Ee,_t(k,2*F+2*V),k[2*F+2*V+1]+=J*Ee,_t(k,2*F+2*V+1),k[2*F+2*V+1]+=B*Ut,_t(k,2*F+2*V+1),k[2*F+2*V+2]+=J*Ut,_t(k,2*F+2*V+2)}for(z=0;z<O;z++)k[z]=k[2*z+1]<<16|k[2*z];for(z=O;z<2*O;z++)k[z]=0;return new d(k,0)};function _t(z,O){for(;(z[O]&65535)!=z[O];)z[O+1]+=z[O]>>>16,z[O]&=65535,O++}function lt(z,O){this.g=z,this.h=O}function St(z,O){if(Y(O))throw Error("division by zero");if(Y(z))return new lt(x,x);if(K(z))return O=St($(z),O),new lt($(O.g),$(O.h));if(K(O))return O=St(z,$(O)),new lt($(O.g),O.h);if(z.g.length>30){if(K(z)||K(O))throw Error("slowDivide_ only works with positive integers.");for(var k=b,F=O;F.l(z)<=0;)k=Rt(k),F=Rt(F);var V=ft(k,1),J=ft(F,1);for(F=ft(F,2),k=ft(k,2);!Y(F);){var B=J.add(F);B.l(z)<=0&&(V=V.add(k),J=B),F=ft(F,1),k=ft(k,1)}return O=dt(z,V.j(O)),new lt(V,O)}for(V=x;z.l(O)>=0;){for(k=Math.max(1,Math.floor(z.m()/O.m())),F=Math.ceil(Math.log(k)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),J=v(k),B=J.j(O);K(B)||B.l(z)>0;)k-=F,J=v(k),B=J.j(O);Y(J)&&(J=b),V=V.add(J),z=dt(z,B)}return new lt(V,z)}e.B=function(z){return St(this,z).h},e.and=function(z){const O=Math.max(this.g.length,z.g.length),k=[];for(let F=0;F<O;F++)k[F]=this.i(F)&z.i(F);return new d(k,this.h&z.h)},e.or=function(z){const O=Math.max(this.g.length,z.g.length),k=[];for(let F=0;F<O;F++)k[F]=this.i(F)|z.i(F);return new d(k,this.h|z.h)},e.xor=function(z){const O=Math.max(this.g.length,z.g.length),k=[];for(let F=0;F<O;F++)k[F]=this.i(F)^z.i(F);return new d(k,this.h^z.h)};function Rt(z){const O=z.g.length+1,k=[];for(let F=0;F<O;F++)k[F]=z.i(F)<<1|z.i(F-1)>>>31;return new d(k,z.h)}function ft(z,O){const k=O>>5;O%=32;const F=z.g.length-k,V=[];for(let J=0;J<F;J++)V[J]=O>0?z.i(J+k)>>>O|z.i(J+k+1)<<32-O:z.i(J+k);return new d(V,z.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=w,um=d}).apply(typeof K0<"u"?K0:typeof self<"u"?self:typeof window<"u"?window:{});var hf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var e,t=Object.defineProperty;function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof hf=="object"&&hf];for(var C=0;C<m.length;++C){var R=m[C];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var s=n(this);function a(m,C){if(C)t:{var R=s;m=m.split(".");for(var D=0;D<m.length-1;D++){var Q=m[D];if(!(Q in R))break t;R=R[Q]}m=m[m.length-1],D=R[m],C=C(D),C!=D&&C!=null&&t(R,m,{configurable:!0,writable:!0,value:C})}}a("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(m){return m||function(C){var R=[],D;for(D in C)Object.prototype.hasOwnProperty.call(C,D)&&R.push([D,C[D]]);return R}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function _(m){var C=typeof m;return C=="object"&&m!=null||C=="function"}function T(m,C,R){return m.call.apply(m.bind,arguments)}function v(m,C,R){return v=T,v.apply(null,arguments)}function w(m,C){var R=Array.prototype.slice.call(arguments,1);return function(){var D=R.slice();return D.push.apply(D,arguments),m.apply(this,D)}}function x(m,C){function R(){}R.prototype=C.prototype,m.Z=C.prototype,m.prototype=new R,m.prototype.constructor=m,m.Ob=function(D,Q,st){for(var wt=Array(arguments.length-2),Jt=2;Jt<arguments.length;Jt++)wt[Jt-2]=arguments[Jt];return C.prototype[Q].apply(D,wt)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function U(m){const C=m.length;if(C>0){const R=Array(C);for(let D=0;D<C;D++)R[D]=m[D];return R}return[]}function Y(m,C){for(let D=1;D<arguments.length;D++){const Q=arguments[D];var R=typeof Q;if(R=R!="object"?R:Q?Array.isArray(Q)?"array":R:"null",R=="array"||R=="object"&&typeof Q.length=="number"){R=m.length||0;const st=Q.length||0;m.length=R+st;for(let wt=0;wt<st;wt++)m[R+wt]=Q[wt]}else m.push(Q)}}class K{constructor(C,R){this.i=C,this.j=R,this.h=0,this.g=null}get(){let C;return this.h>0?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function $(m){d.setTimeout(()=>{throw m},0)}function dt(){var m=z;let C=null;return m.g&&(C=m.g,m.g=m.g.next,m.g||(m.h=null),C.next=null),C}class _t{constructor(){this.h=this.g=null}add(C,R){const D=lt.get();D.set(C,R),this.h?this.h.next=D:this.g=D,this.h=D}}var lt=new K(()=>new St,m=>m.reset());class St{constructor(){this.next=this.g=this.h=null}set(C,R){this.h=C,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let Rt,ft=!1,z=new _t,O=()=>{const m=Promise.resolve(void 0);Rt=()=>{m.then(k)}};function k(){for(var m;m=dt();){try{m.h.call(m.g)}catch(R){$(R)}var C=lt;C.j(m),C.h<100&&(C.h++,m.next=C.g,C.g=m)}ft=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(m,C){this.type=m,this.g=this.target=C,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var J=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var m=!1,C=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const R=()=>{};d.addEventListener("test",R,C),d.removeEventListener("test",R,C)}catch{}return m})();function B(m){return/^[\s\xa0]*$/.test(m)}function Ut(m,C){V.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,C)}x(Ut,V),Ut.prototype.init=function(m,C){const R=this.type=m.type,D=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=C,C=m.relatedTarget,C||(R=="mouseover"?C=m.fromElement:R=="mouseout"&&(C=m.toElement)),this.relatedTarget=C,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&Ut.Z.h.call(this)},Ut.prototype.h=function(){Ut.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Ee="closure_listenable_"+(Math.random()*1e6|0),rt=0;function At(m,C,R,D,Q){this.listener=m,this.proxy=null,this.src=C,this.type=R,this.capture=!!D,this.ha=Q,this.key=++rt,this.da=this.fa=!1}function ut(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function qt(m,C,R){for(const D in m)C.call(R,m[D],D,m)}function It(m,C){for(const R in m)C.call(void 0,m[R],R,m)}function q(m){const C={};for(const R in m)C[R]=m[R];return C}const ct="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vt(m,C){let R,D;for(let Q=1;Q<arguments.length;Q++){D=arguments[Q];for(R in D)m[R]=D[R];for(let st=0;st<ct.length;st++)R=ct[st],Object.prototype.hasOwnProperty.call(D,R)&&(m[R]=D[R])}}function Tt(m){this.src=m,this.g={},this.h=0}Tt.prototype.add=function(m,C,R,D,Q){const st=m.toString();m=this.g[st],m||(m=this.g[st]=[],this.h++);const wt=xt(m,C,D,Q);return wt>-1?(C=m[wt],R||(C.fa=!1)):(C=new At(C,this.src,st,!!D,Q),C.fa=R,m.push(C)),C};function Ct(m,C){const R=C.type;if(R in m.g){var D=m.g[R],Q=Array.prototype.indexOf.call(D,C,void 0),st;(st=Q>=0)&&Array.prototype.splice.call(D,Q,1),st&&(ut(C),m.g[R].length==0&&(delete m.g[R],m.h--))}}function xt(m,C,R,D){for(let Q=0;Q<m.length;++Q){const st=m[Q];if(!st.da&&st.listener==C&&st.capture==!!R&&st.ha==D)return Q}return-1}var Vt="closure_lm_"+(Math.random()*1e6|0),_e={};function Se(m,C,R,D,Q){if(Array.isArray(C)){for(let st=0;st<C.length;st++)Se(m,C[st],R,D,Q);return null}return R=yi(R),m&&m[Ee]?m.J(C,R,_(D)?!!D.capture:!1,Q):Ui(m,C,R,!1,D,Q)}function Ui(m,C,R,D,Q,st){if(!C)throw Error("Invalid event type");const wt=_(Q)?!!Q.capture:!!Q;let Jt=Oi(m);if(Jt||(m[Vt]=Jt=new Tt(m)),R=Jt.add(C,R,D,wt,st),R.proxy)return R;if(D=_i(),R.proxy=D,D.src=m,D.listener=R,m.addEventListener)J||(Q=wt),Q===void 0&&(Q=!1),m.addEventListener(C.toString(),D,Q);else if(m.attachEvent)m.attachEvent(ti(C.toString()),D);else if(m.addListener&&m.removeListener)m.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return R}function _i(){function m(R){return C.call(m.src,m.listener,R)}const C=vo;return m}function jn(m,C,R,D,Q){if(Array.isArray(C))for(var st=0;st<C.length;st++)jn(m,C[st],R,D,Q);else D=_(D)?!!D.capture:!!D,R=yi(R),m&&m[Ee]?(m=m.i,st=String(C).toString(),st in m.g&&(C=m.g[st],R=xt(C,R,D,Q),R>-1&&(ut(C[R]),Array.prototype.splice.call(C,R,1),C.length==0&&(delete m.g[st],m.h--)))):m&&(m=Oi(m))&&(C=m.g[C.toString()],m=-1,C&&(m=xt(C,R,D,Q)),(R=m>-1?C[m]:null)&&zn(R))}function zn(m){if(typeof m!="number"&&m&&!m.da){var C=m.src;if(C&&C[Ee])Ct(C.i,m);else{var R=m.type,D=m.proxy;C.removeEventListener?C.removeEventListener(R,D,m.capture):C.detachEvent?C.detachEvent(ti(R),D):C.addListener&&C.removeListener&&C.removeListener(D),(R=Oi(C))?(Ct(R,m),R.h==0&&(R.src=null,C[Vt]=null)):ut(m)}}}function ti(m){return m in _e?_e[m]:_e[m]="on"+m}function vo(m,C){if(m.da)m=!0;else{C=new Ut(C,this);const R=m.listener,D=m.ha||m.src;m.fa&&zn(m),m=R.call(D,C)}return m}function Oi(m){return m=m[Vt],m instanceof Tt?m:null}var Bn="__closure_events_fn_"+(Math.random()*1e9>>>0);function yi(m){return typeof m=="function"?m:(m[Bn]||(m[Bn]=function(C){return m.handleEvent(C)}),m[Bn])}function Fe(){F.call(this),this.i=new Tt(this),this.M=this,this.G=null}x(Fe,F),Fe.prototype[Ee]=!0,Fe.prototype.removeEventListener=function(m,C,R,D){jn(this,m,C,R,D)};function De(m,C){var R,D=m.G;if(D)for(R=[];D;D=D.G)R.push(D);if(m=m.M,D=C.type||C,typeof C=="string")C=new V(C,m);else if(C instanceof V)C.target=C.target||m;else{var Q=C;C=new V(D,m),vt(C,Q)}Q=!0;let st,wt;if(R)for(wt=R.length-1;wt>=0;wt--)st=C.g=R[wt],Q=sn(st,D,!0,C)&&Q;if(st=C.g=m,Q=sn(st,D,!0,C)&&Q,Q=sn(st,D,!1,C)&&Q,R)for(wt=0;wt<R.length;wt++)st=C.g=R[wt],Q=sn(st,D,!1,C)&&Q}Fe.prototype.N=function(){if(Fe.Z.N.call(this),this.i){var m=this.i;for(const C in m.g){const R=m.g[C];for(let D=0;D<R.length;D++)ut(R[D]);delete m.g[C],m.h--}}this.G=null},Fe.prototype.J=function(m,C,R,D){return this.i.add(String(m),C,!1,R,D)},Fe.prototype.K=function(m,C,R,D){return this.i.add(String(m),C,!0,R,D)};function sn(m,C,R,D){if(C=m.i.g[String(C)],!C)return!0;C=C.concat();let Q=!0;for(let st=0;st<C.length;++st){const wt=C[st];if(wt&&!wt.da&&wt.capture==R){const Jt=wt.listener,ke=wt.ha||wt.src;wt.fa&&Ct(m.i,wt),Q=Jt.call(ke,D)!==!1&&Q}}return Q&&!D.defaultPrevented}function Jo(m,C){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=v(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(C)>2147483647?-1:d.setTimeout(m,C||0)}function vs(m){m.g=Jo(()=>{m.g=null,m.i&&(m.i=!1,vs(m))},m.l);const C=m.h;m.h=null,m.m.apply(null,C)}class en extends F{constructor(C,R){super(),this.m=C,this.l=R,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:vs(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function eo(m){F.call(this),this.h=m,this.g={}}x(eo,F);var no=[];function To(m){qt(m.g,function(C,R){this.g.hasOwnProperty(R)&&zn(C)},m),m.g={}}eo.prototype.N=function(){eo.Z.N.call(this),To(this)},eo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vi=d.JSON.stringify,tr=d.JSON.parse,Yo=class{stringify(m){return d.JSON.stringify(m,void 0)}parse(m){return d.JSON.parse(m,void 0)}};function Ts(){}function ei(){}var Ke={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qe(){V.call(this,"d")}x(qe,V);function Nn(){V.call(this,"c")}x(Nn,V);var Oe={},zi=null;function Ko(){return zi=zi||new Fe}Oe.Ia="serverreachability";function Es(m){V.call(this,Oe.Ia,m)}x(Es,V);function Hn(m){const C=Ko();De(C,new Es(C))}Oe.STAT_EVENT="statevent";function Ti(m,C){V.call(this,Oe.STAT_EVENT,m),this.stat=C}x(Ti,V);function Be(m){const C=Ko();De(C,new Ti(C,m))}Oe.Ja="timingevent";function ni(m,C){V.call(this,Oe.Ja,m),this.size=C}x(ni,V);function Ei(m,C){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){m()},C)}function Mn(){this.g=!0}Mn.prototype.ua=function(){this.g=!1};function er(m,C,R,D,Q,st){m.info(function(){if(m.g)if(st){var wt="",Jt=st.split("&");for(let Wt=0;Wt<Jt.length;Wt++){var ke=Jt[Wt].split("=");if(ke.length>1){const Ve=ke[0];ke=ke[1];const mn=Ve.split("_");wt=mn.length>=2&&mn[1]=="type"?wt+(Ve+"="+ke+"&"):wt+(Ve+"=redacted&")}}}else wt=null;else wt=st;return"XMLHTTP REQ ("+D+") [attempt "+Q+"]: "+C+`
`+R+`
`+wt})}function Si(m,C,R,D,Q,st,wt){m.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+Q+"]: "+C+`
`+R+`
`+st+" "+wt})}function ii(m,C,R,D){m.info(function(){return"XMLHTTP TEXT ("+C+"): "+Ss(m,R)+(D?" "+D:"")})}function wi(m,C){m.info(function(){return"TIMEOUT: "+C})}Mn.prototype.info=function(){};function Ss(m,C){if(!m.g)return C;if(!C)return null;try{const st=JSON.parse(C);if(st){for(m=0;m<st.length;m++)if(Array.isArray(st[m])){var R=st[m];if(!(R.length<2)){var D=R[1];if(Array.isArray(D)&&!(D.length<1)){var Q=D[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let wt=1;wt<D.length;wt++)D[wt]=""}}}}return vi(st)}catch{return C}}var Eo={NO_ERROR:0,TIMEOUT:8},So={},wo;function rn(){}x(rn,Ts),rn.prototype.g=function(){return new XMLHttpRequest},wo=new rn;function Pt(m){return encodeURIComponent(String(m))}function Wo(m){var C=1;m=m.split(":");const R=[];for(;C>0&&m.length;)R.push(m.shift()),C--;return m.length&&R.push(m.join(":")),R}function Vn(m,C,R,D){this.j=m,this.i=C,this.l=R,this.S=D||1,this.V=new eo(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new oi}function oi(){this.i=null,this.g="",this.h=!1}var He={},ze={};function Gn(m,C,R){m.M=1,m.A=ye(Re(C)),m.u=R,m.R=!0,si(m,null)}function si(m,C){m.F=Date.now(),Bi(m),m.B=Re(m.A);var R=m.B,D=m.S;Array.isArray(D)||(D=[String(D)]),oo(R.i,"t",D),m.C=0,R=m.j.L,m.h=new oi,m.g=jr(m.j,R?C:null,!m.u),m.P>0&&(m.O=new en(v(m.Y,m,m.g),m.P)),C=m.V,R=m.g,D=m.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(no[0]=Q.toString()),Q=no);for(let st=0;st<Q.length;st++){const wt=Se(R,Q[st],D||C.handleEvent,!1,C.h||C);if(!wt)break;C.g[wt.key]=wt}C=m.J?q(m.J):{},m.u?(m.v||(m.v="POST"),C["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,C)):(m.v="GET",m.g.ea(m.B,m.v,null,C)),Hn(),er(m.i,m.v,m.B,m.l,m.S,m.u)}Vn.prototype.ba=function(m){m=m.target;const C=this.O;C&&ri(m)==3?C.j():this.Y(m)},Vn.prototype.Y=function(m){try{if(m==this.g)t:{const Jt=ri(this.g),ke=this.g.ya(),Wt=this.g.ca();if(!(Jt<3)&&(Jt!=3||this.g&&(this.h.h||this.g.la()||$e(this.g)))){this.K||Jt!=4||ke==7||(ke==8||Wt<=0?Hn(3):Hn(2)),Ci(this);var C=this.g.ca();this.X=C;var R=ws(this);if(this.o=C==200,Si(this.i,this.v,this.B,this.l,this.S,Jt,C),this.o){if(this.U&&!this.L){e:{if(this.g){var D,Q=this.g;if((D=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(D)){var st=D;break e}}st=null}if(m=st)ii(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,qn(this,m);else{this.o=!1,this.m=3,Be(12),an(this),Fn(this);break t}}if(this.R){m=!0;let Ve;for(;!this.K&&this.C<R.length;)if(Ve=Cs(this,R),Ve==ze){Jt==4&&(this.m=4,Be(14),m=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(Ve==He){this.m=4,Be(15),ii(this.i,this.l,R,"[Invalid Chunk]"),m=!1;break}else ii(this.i,this.l,Ve,null),qn(this,Ve);if(nr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Jt!=4||R.length!=0||this.h.h||(this.m=1,Be(16),m=!1),this.o=this.o&&m,!m)ii(this.i,this.l,R,"[Invalid Chunked Response]"),an(this),Fn(this);else if(R.length>0&&!this.W){this.W=!0;var wt=this.j;wt.g==this&&wt.aa&&!wt.P&&(wt.j.info("Great, no buffering proxy detected. Bytes received: "+R.length),$r(wt),wt.P=!0,Be(11))}}else ii(this.i,this.l,R,null),qn(this,R);Jt==4&&an(this),this.o&&!this.K&&(Jt==4?ai(this.j,this):(this.o=!1,Bi(this)))}else xe(this.g),C==400&&R.indexOf("Unknown SID")>0?(this.m=3,Be(12)):(this.m=0,Be(13)),an(this),Fn(this)}}}catch{}finally{}};function ws(m){if(!nr(m))return m.g.la();const C=$e(m.g);if(C==="")return"";let R="";const D=C.length,Q=ri(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return an(m),Fn(m),"";m.h.i=new d.TextDecoder}for(let st=0;st<D;st++)m.h.h=!0,R+=m.h.i.decode(C[st],{stream:!(Q&&st==D-1)});return C.length=0,m.h.g+=R,m.C=0,m.h.g}function nr(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function Cs(m,C){var R=m.C,D=C.indexOf(`
`,R);return D==-1?ze:(R=Number(C.substring(R,D)),isNaN(R)?He:(D+=1,D+R>C.length?ze:(C=C.slice(D,D+R),m.C=D+R,C)))}Vn.prototype.cancel=function(){this.K=!0,an(this)};function Bi(m){m.T=Date.now()+m.H,Xo(m,m.H)}function Xo(m,C){if(m.D!=null)throw Error("WatchDog timer not null");m.D=Ei(v(m.aa,m),C)}function Ci(m){m.D&&(d.clearTimeout(m.D),m.D=null)}Vn.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(wi(this.i,this.B),this.M!=2&&(Hn(),Be(17)),an(this),this.m=2,Fn(this)):Xo(this,this.T-m)};function Fn(m){m.j.I==0||m.K||ai(m.j,m)}function an(m){Ci(m);var C=m.O;C&&typeof C.dispose=="function"&&C.dispose(),m.O=null,To(m.V),m.g&&(C=m.g,m.g=null,C.abort(),C.dispose())}function qn(m,C){try{var R=m.j;if(R.I!=0&&(R.g==m||Zn(R.h,m))){if(!m.L&&Zn(R.h,m)&&R.I==3){try{var D=R.Ba.g.parse(C)}catch{D=null}if(Array.isArray(D)&&D.length==3){var Q=D;if(Q[0]==0){t:if(!R.v){if(R.g)if(R.g.F+3e3<m.F)or(R),ns(R);else break t;bs(R),Be(18)}}else R.xa=Q[1],0<R.xa-R.K&&Q[2]<37500&&R.F&&R.A==0&&!R.C&&(R.C=Ei(v(R.Va,R),6e3));Ai(R.h)<=1&&R.ta&&(R.ta=void 0)}else Fi(R,11)}else if((m.L||R.g==m)&&or(R),!B(C))for(Q=R.Ba.g.parse(C),C=0;C<Q.length;C++){let Wt=Q[C];const Ve=Wt[0];if(!(Ve<=R.K))if(R.K=Ve,Wt=Wt[1],R.I==2)if(Wt[0]=="c"){R.M=Wt[1],R.ba=Wt[2];const mn=Wt[3];mn!=null&&(R.ka=mn,R.j.info("VER="+R.ka));const No=Wt[4];No!=null&&(R.za=No,R.j.info("SVER="+R.za));const li=Wt[5];li!=null&&typeof li=="number"&&li>0&&(D=1.5*li,R.O=D,R.j.info("backChannelRequestTimeoutMs_="+D)),D=R;const ui=m.g;if(ui){const Is=ui.g?ui.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Is){var st=D.h;st.g||Is.indexOf("spdy")==-1&&Is.indexOf("quic")==-1&&Is.indexOf("h2")==-1||(st.j=st.l,st.g=new Set,st.h&&(Hi(st,st.h),st.h=null))}if(D.G){const rr=ui.g?ui.g.getResponseHeader("X-HTTP-Session-Id"):null;rr&&(D.wa=rr,Mt(D.J,D.G,rr))}}R.I=3,R.l&&R.l.ra(),R.aa&&(R.T=Date.now()-m.F,R.j.info("Handshake RTT: "+R.T+"ms")),D=R;var wt=m;if(D.na=Qr(D,D.L?D.ba:null,D.W),wt.L){Co(D.h,wt);var Jt=wt,ke=D.O;ke&&(Jt.H=ke),Jt.D&&(Ci(Jt),Bi(Jt)),D.g=wt}else Xr(D);R.i.length>0&&Wn(R)}else Wt[0]!="stop"&&Wt[0]!="close"||Fi(R,7);else R.I==3&&(Wt[0]=="stop"||Wt[0]=="close"?Wt[0]=="stop"?Fi(R,7):Kt(R):Wt[0]!="noop"&&R.l&&R.l.qa(Wt),R.A=0)}}Hn(4)}catch{}}var Ze=class{constructor(m,C){this.g=m,this.map=C}};function As(m){this.l=m||10,d.PerformanceNavigationTiming?(m=d.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function $o(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Ai(m){return m.h?1:m.g?m.g.size:0}function Zn(m,C){return m.h?m.h==C:m.g?m.g.has(C):!1}function Hi(m,C){m.g?m.g.add(C):m.h=C}function Co(m,C){m.h&&m.h==C?m.h=null:m.g&&m.g.has(C)&&m.g.delete(C)}As.prototype.cancel=function(){if(this.i=Qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Qo(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let C=m.i;for(const R of m.g.values())C=C.concat(R.G);return C}return U(m.i)}var io=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $t(m,C){if(m){m=m.split("&");for(let R=0;R<m.length;R++){const D=m[R].indexOf("=");let Q,st=null;D>=0?(Q=m[R].substring(0,D),st=m[R].substring(D+1)):Q=m[R],C(Q,st?decodeURIComponent(st.replace(/\+/g," ")):"")}}}function Zt(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let C;m instanceof Zt?(this.l=m.l,Le(this,m.j),this.o=m.o,this.g=m.g,yn(this,m.u),this.h=m.h,Ao(this,Io(m.i)),this.m=m.m):m&&(C=String(m).match(io))?(this.l=!1,Le(this,C[1]||"",!0),this.o=Jn(C[2]||""),this.g=Jn(C[3]||"",!0),yn(this,C[4]),this.h=Jn(C[5]||"",!0),Ao(this,C[6]||"",!0),this.m=Jn(C[7]||"")):(this.l=!1,this.i=new Kn(null,this.l))}Zt.prototype.toString=function(){const m=[];var C=this.j;C&&m.push(xi(C,jo,!0),":");var R=this.g;return(R||C=="file")&&(m.push("//"),(C=this.o)&&m.push(xi(C,jo,!0),"@"),m.push(Pt(R).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.u,R!=null&&m.push(":",String(R))),(R=this.h)&&(this.g&&R.charAt(0)!="/"&&m.push("/"),m.push(xi(R,R.charAt(0)=="/"?pn:xo,!0))),(R=this.i.toString())&&m.push("?",R),(R=this.m)&&m.push("#",xi(R,Yn)),m.join("")},Zt.prototype.resolve=function(m){const C=Re(this);let R=!!m.j;R?Le(C,m.j):R=!!m.o,R?C.o=m.o:R=!!m.g,R?C.g=m.g:R=m.u!=null;var D=m.h;if(R)yn(C,m.u);else if(R=!!m.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var Q=C.h.lastIndexOf("/");Q!=-1&&(D=C.h.slice(0,Q+1)+D)}if(Q=D,Q==".."||Q==".")D="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){D=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const st=[];for(let wt=0;wt<Q.length;){const Jt=Q[wt++];Jt=="."?D&&wt==Q.length&&st.push(""):Jt==".."?((st.length>1||st.length==1&&st[0]!="")&&st.pop(),D&&wt==Q.length&&st.push("")):(st.push(Jt),D=!0)}D=st.join("/")}else D=Q}return R?C.h=D:R=m.i.toString()!=="",R?Ao(C,Io(m.i)):R=!!m.m,R&&(C.m=m.m),C};function Re(m){return new Zt(m)}function Le(m,C,R){m.j=R?Jn(C,!0):C,m.j&&(m.j=m.j.replace(/:$/,""))}function yn(m,C){if(C){if(C=Number(C),isNaN(C)||C<0)throw Error("Bad port number "+C);m.u=C}else m.u=null}function Ao(m,C,R){C instanceof Kn?(m.i=C,so(m.i,m.l)):(R||(C=xi(C,ve)),m.i=new Kn(C,m.l))}function Mt(m,C,R){m.i.set(C,R)}function ye(m){return Mt(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function Jn(m,C){return m?C?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function xi(m,C,R){return typeof m=="string"?(m=encodeURI(m).replace(C,Ae),R&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Ae(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var jo=/[#\/\?@]/g,xo=/[#\?:]/g,pn=/[#\?]/g,ve=/[#\?@]/g,Yn=/#/g;function Kn(m,C){this.h=this.g=null,this.i=m||null,this.j=!!C}function We(m){m.g||(m.g=new Map,m.h=0,m.i&&$t(m.i,function(C,R){m.add(decodeURIComponent(C.replace(/\+/g," ")),R)}))}e=Kn.prototype,e.add=function(m,C){We(this),this.i=null,m=bi(this,m);let R=this.g.get(m);return R||this.g.set(m,R=[]),R.push(C),this.h+=1,this};function ts(m,C){We(m),C=bi(m,C),m.g.has(C)&&(m.i=null,m.h-=m.g.get(C).length,m.g.delete(C))}function Vi(m,C){return We(m),C=bi(m,C),m.g.has(C)}e.forEach=function(m,C){We(this),this.g.forEach(function(R,D){R.forEach(function(Q){m.call(C,Q,D,this)},this)},this)};function bo(m,C){We(m);let R=[];if(typeof C=="string")Vi(m,C)&&(R=R.concat(m.g.get(bi(m,C))));else for(m=Array.from(m.g.values()),C=0;C<m.length;C++)R=R.concat(m[C]);return R}e.set=function(m,C){return We(this),this.i=null,m=bi(this,m),Vi(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[C]),this.h+=1,this},e.get=function(m,C){return m?(m=bo(this,m),m.length>0?String(m[0]):C):C};function oo(m,C,R){ts(m,C),R.length>0&&(m.i=null,m.g.set(bi(m,C),U(R)),m.h+=R.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],C=Array.from(this.g.keys());for(let D=0;D<C.length;D++){var R=C[D];const Q=Pt(R);R=bo(this,R);for(let st=0;st<R.length;st++){let wt=Q;R[st]!==""&&(wt+="="+Pt(R[st])),m.push(wt)}}return this.i=m.join("&")};function Io(m){const C=new Kn;return C.i=m.i,m.g&&(C.g=new Map(m.g),C.h=m.h),C}function bi(m,C){return C=String(C),m.j&&(C=C.toLowerCase()),C}function so(m,C){C&&!m.j&&(We(m),m.i=null,m.g.forEach(function(R,D){const Q=D.toLowerCase();D!=Q&&(ts(this,D),oo(this,Q,R))},m)),m.j=C}function vn(m,C){const R=new Mn;if(d.Image){const D=new Image;D.onload=w(Tn,R,"TestLoadImage: loaded",!0,C,D),D.onerror=w(Tn,R,"TestLoadImage: error",!1,C,D),D.onabort=w(Tn,R,"TestLoadImage: abort",!1,C,D),D.ontimeout=w(Tn,R,"TestLoadImage: timeout",!1,C,D),d.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=m}else C(!1)}function es(m,C){const R=new Mn,D=new AbortController,Q=setTimeout(()=>{D.abort(),Tn(R,"TestPingServer: timeout",!1,C)},1e4);fetch(m,{signal:D.signal}).then(st=>{clearTimeout(Q),st.ok?Tn(R,"TestPingServer: ok",!0,C):Tn(R,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(Q),Tn(R,"TestPingServer: error",!1,C)})}function Tn(m,C,R,D,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),D(R)}catch{}}function ro(){this.g=new Yo}function Ot(m){this.i=m.Sb||null,this.h=m.ab||!1}x(Ot,Ts),Ot.prototype.g=function(){return new ln(this.i,this.h)};function ln(m,C){Fe.call(this),this.H=m,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(ln,Fe),e=ln.prototype,e.open=function(m,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=C,this.readyState=1,Pn(this)},e.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const C={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(C.body=m),(this.H||d).fetch(new Request(this.D,C)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Gi(this)),this.readyState=0},e.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Pn(this)),this.g&&(this.readyState=3,Pn(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ae(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function ae(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}e.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var C=m.value?m.value:new Uint8Array(0);(C=this.B.decode(C,{stream:!m.done}))&&(this.response=this.responseText+=C)}m.done?Gi(this):Pn(this),this.readyState==3&&ae(this)}},e.Oa=function(m){this.g&&(this.response=this.responseText=m,Gi(this))},e.Na=function(m){this.g&&(this.response=m,Gi(this))},e.ga=function(){this.g&&Gi(this)};function Gi(m){m.readyState=4,m.l=null,m.j=null,m.B=null,Pn(m)}e.setRequestHeader=function(m,C){this.A.append(m,C)},e.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],C=this.h.entries();for(var R=C.next();!R.done;)R=R.value,m.push(R[0]+": "+R[1]),R=C.next();return m.join(`\r
`)};function Pn(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(ln.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function j(m){let C="";return qt(m,function(R,D){C+=D,C+=":",C+=R,C+=`\r
`}),C}function yt(m,C,R){t:{for(D in R){var D=!1;break t}D=!0}D||(R=j(R),typeof m=="string"?R!=null&&Pt(R):Mt(m,C,R))}function ot(m){Fe.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(ot,Fe);var Gt=/^https?$/i,we=["POST","PUT"];e=ot.prototype,e.Fa=function(m){this.H=m},e.ea=function(m,C,R,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);C=C?C.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wo.g(),this.g.onreadystatechange=b(v(this.Ca,this));try{this.B=!0,this.g.open(C,String(m),!0),this.B=!1}catch(st){oe(this,st);return}if(m=R||"",R=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var Q in D)R.set(Q,D[Q]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const st of D.keys())R.set(st,D.get(st));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(R.keys()).find(st=>st.toLowerCase()=="content-type"),Q=d.FormData&&m instanceof d.FormData,!(Array.prototype.indexOf.call(we,C,void 0)>=0)||D||Q||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[st,wt]of R)this.g.setRequestHeader(st,wt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(st){oe(this,st)}};function oe(m,C){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=C,m.o=5,Xe(m),Dn(m)}function Xe(m){m.A||(m.A=!0,De(m,"complete"),De(m,"error"))}e.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,De(this,"complete"),De(this,"abort"),Dn(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Dn(this,!0)),ot.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?En(this):this.Xa())},e.Xa=function(){En(this)};function En(m){if(m.h&&typeof c<"u"){if(m.v&&ri(m)==4)setTimeout(m.Ca.bind(m),0);else if(De(m,"readystatechange"),ri(m)==4){m.h=!1;try{const st=m.ca();t:switch(st){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break t;default:C=!1}var R;if(!(R=C)){var D;if(D=st===0){let wt=String(m.D).match(io)[1]||null;!wt&&d.self&&d.self.location&&(wt=d.self.location.protocol.slice(0,-1)),D=!Gt.test(wt?wt.toLowerCase():"")}R=D}if(R)De(m,"complete"),De(m,"success");else{m.o=6;try{var Q=ri(m)>2?m.g.statusText:""}catch{Q=""}m.l=Q+" ["+m.ca()+"]",Xe(m)}}finally{Dn(m)}}}}function Dn(m,C){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const R=m.g;m.g=null,C||De(m,"ready");try{R.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function ri(m){return m.g?m.g.readyState:0}e.ca=function(){try{return ri(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(m){if(this.g){var C=this.g.responseText;return m&&C.indexOf(m)==0&&(C=C.substring(m.length)),tr(C)}};function $e(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function xe(m){const C={};m=(m.g&&ri(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<m.length;D++){if(B(m[D]))continue;var R=Wo(m[D]);const Q=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const st=C[Q]||[];C[Q]=st,st.push(R)}It(C,function(D){return D.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Sn(m,C,R){return R&&R.internalChannelParams&&R.internalChannelParams[m]||C}function Ln(m){this.za=0,this.i=[],this.j=new Mn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Sn("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Sn("baseRetryDelayMs",5e3,m),this.Za=Sn("retryDelaySeedMs",1e4,m),this.Ta=Sn("forwardChannelMaxRetries",2,m),this.va=Sn("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new As(m&&m.concurrentRequestLimit),this.Ba=new ro,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=Ln.prototype,e.ka=8,e.I=1,e.connect=function(m,C,R,D){Be(0),this.W=m,this.H=C||{},R&&D!==void 0&&(this.H.OSID=R,this.H.OAID=D),this.F=this.X,this.J=Qr(this,null,this.W),Wn(this)};function Kt(m){if(wn(m),m.I==3){var C=m.V++,R=Re(m.J);if(Mt(R,"SID",m.M),Mt(R,"RID",C),Mt(R,"TYPE","terminate"),Ro(m,R),C=new Vn(m,m.j,C),C.M=2,C.A=ye(Re(R)),R=!1,d.navigator&&d.navigator.sendBeacon)try{R=d.navigator.sendBeacon(C.A.toString(),"")}catch{}!R&&d.Image&&(new Image().src=C.A,R=!0),R||(C.g=jr(C.j,null),C.g.ea(C.A)),C.F=Date.now(),Bi(C)}qi(m)}function ns(m){m.g&&($r(m),m.g.cancel(),m.g=null)}function wn(m){ns(m),m.v&&(d.clearTimeout(m.v),m.v=null),or(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&d.clearTimeout(m.m),m.m=null)}function Wn(m){if(!$o(m.h)&&!m.m){m.m=!0;var C=m.Ea;Rt||O(),ft||(Rt(),ft=!0),z.add(C,m),m.D=0}}function xs(m,C){return Ai(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=C.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=Ei(v(m.Ea,m,C),qa(m,m.D)),m.D++,!0)}e.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const Q=new Vn(this,this.j,m);let st=this.o;if(this.U&&(st?(st=q(st),vt(st,this.U)):st=this.U),this.u!==null||this.R||(Q.J=st,st=null),this.S)t:{for(var C=0,R=0;R<this.i.length;R++){e:{var D=this.i[R];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break e}D=void 0}if(D===void 0)break;if(C+=D,C>4096){C=R;break t}if(C===4096||R===this.i.length-1){C=R+1;break t}}C=1e3}else C=1e3;C=Fa(this,Q,C),R=Re(this.J),Mt(R,"RID",m),Mt(R,"CVER",22),this.G&&Mt(R,"X-HTTP-Session-Id",this.G),Ro(this,R),st&&(this.R?C="headers="+Pt(j(st))+"&"+C:this.u&&yt(R,this.u,st)),Hi(this.h,Q),this.Ra&&Mt(R,"TYPE","init"),this.S?(Mt(R,"$req",C),Mt(R,"SID","null"),Q.U=!0,Gn(Q,R,null)):Gn(Q,R,C),this.I=2}}else this.I==3&&(m?Wr(this,m):this.i.length==0||$o(this.h)||Wr(this))};function Wr(m,C){var R;C?R=C.l:R=m.V++;const D=Re(m.J);Mt(D,"SID",m.M),Mt(D,"RID",R),Mt(D,"AID",m.K),Ro(m,D),m.u&&m.o&&yt(D,m.u,m.o),R=new Vn(m,m.j,R,m.D+1),m.u===null&&(R.J=m.o),C&&(m.i=C.G.concat(m.i)),C=Fa(m,R,1e3),R.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),Hi(m.h,R),Gn(R,D,C)}function Ro(m,C){m.H&&qt(m.H,function(R,D){Mt(C,D,R)}),m.l&&qt({},function(R,D){Mt(C,D,R)})}function Fa(m,C,R){R=Math.min(m.i.length,R);const D=m.l?v(m.l.Ka,m.l,m):null;t:{var Q=m.i;let Jt=-1;for(;;){const ke=["count="+R];Jt==-1?R>0?(Jt=Q[0].g,ke.push("ofs="+Jt)):Jt=0:ke.push("ofs="+Jt);let Wt=!0;for(let Ve=0;Ve<R;Ve++){var st=Q[Ve].g;const mn=Q[Ve].map;if(st-=Jt,st<0)Jt=Math.max(0,Q[Ve].g-100),Wt=!1;else try{st="req"+st+"_"||"";try{var wt=mn instanceof Map?mn:Object.entries(mn);for(const[No,li]of wt){let ui=li;_(li)&&(ui=vi(li)),ke.push(st+No+"="+encodeURIComponent(ui))}}catch(No){throw ke.push(st+"type="+encodeURIComponent("_badmap")),No}}catch{D&&D(mn)}}if(Wt){wt=ke.join("&");break t}}wt=void 0}return m=m.i.splice(0,R),C.G=m,wt}function Xr(m){if(!m.g&&!m.v){m.Y=1;var C=m.Da;Rt||O(),ft||(Rt(),ft=!0),z.add(C,m),m.A=0}}function bs(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=Ei(v(m.Da,m),qa(m,m.A)),m.A++,!0)}e.Da=function(){if(this.v=null,ir(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=Ei(v(this.Wa,this),m)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Be(10),ns(this),ir(this))};function $r(m){m.B!=null&&(d.clearTimeout(m.B),m.B=null)}function ir(m){m.g=new Vn(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var C=Re(m.na);Mt(C,"RID","rpc"),Mt(C,"SID",m.M),Mt(C,"AID",m.K),Mt(C,"CI",m.F?"0":"1"),!m.F&&m.ia&&Mt(C,"TO",m.ia),Mt(C,"TYPE","xmlhttp"),Ro(m,C),m.u&&m.o&&yt(C,m.u,m.o),m.O&&(m.g.H=m.O);var R=m.g;m=m.ba,R.M=1,R.A=ye(Re(C)),R.u=null,R.R=!0,si(R,m)}e.Va=function(){this.C!=null&&(this.C=null,ns(this),bs(this),Be(19))};function or(m){m.C!=null&&(d.clearTimeout(m.C),m.C=null)}function ai(m,C){var R=null;if(m.g==C){or(m),$r(m),m.g=null;var D=2}else if(Zn(m.h,C))R=C.G,Co(m.h,C),D=1;else return;if(m.I!=0){if(C.o)if(D==1){R=C.u?C.u.length:0,C=Date.now()-C.F;var Q=m.D;D=Ko(),De(D,new ni(D,R)),Wn(m)}else Xr(m);else if(Q=C.m,Q==3||Q==0&&C.X>0||!(D==1&&xs(m,C)||D==2&&bs(m)))switch(R&&R.length>0&&(C=m.h,C.i=C.i.concat(R)),Q){case 1:Fi(m,5);break;case 4:Fi(m,10);break;case 3:Fi(m,6);break;default:Fi(m,2)}}}function qa(m,C){let R=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(R*=2),R*C}function Fi(m,C){if(m.j.info("Error code "+C),C==2){var R=v(m.bb,m),D=m.Ua;const Q=!D;D=new Zt(D||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Le(D,"https"),ye(D),Q?vn(D.toString(),R):es(D.toString(),R)}else Be(2);m.I=0,m.l&&m.l.pa(C),qi(m),wn(m)}e.bb=function(m){m?(this.j.info("Successfully pinged google.com"),Be(2)):(this.j.info("Failed to ping google.com"),Be(1))};function qi(m){if(m.I=0,m.ja=[],m.l){const C=Qo(m.h);(C.length!=0||m.i.length!=0)&&(Y(m.ja,C),Y(m.ja,m.i),m.h.i.length=0,U(m.i),m.i.length=0),m.l.oa()}}function Qr(m,C,R){var D=R instanceof Zt?Re(R):new Zt(R);if(D.g!="")C&&(D.g=C+"."+D.g),yn(D,D.u);else{var Q=d.location;D=Q.protocol,C=C?C+"."+Q.hostname:Q.hostname,Q=+Q.port;const st=new Zt(null);D&&Le(st,D),C&&(st.g=C),Q&&yn(st,Q),R&&(st.h=R),D=st}return R=m.G,C=m.wa,R&&C&&Mt(D,R,C),Mt(D,"VER",m.ka),Ro(m,D),D}function jr(m,C,R){if(C&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return C=m.Aa&&!m.ma?new ot(new Ot({ab:R})):new ot(m.ma),C.Fa(m.L),C}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function sr(){}e=sr.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Cn(m,C){Fe.call(this),this.g=new Ln(C),this.l=m,this.h=C&&C.messageUrlParams||null,m=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(m?m["X-WebChannel-Content-Type"]=C.messageContentType:m={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.sa&&(m?m["X-WebChannel-Client-Profile"]=C.sa:m={"X-WebChannel-Client-Profile":C.sa}),this.g.U=m,(m=C&&C.Qb)&&!B(m)&&(this.g.u=m),this.A=C&&C.supportsCrossDomainXhr||!1,this.v=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!B(C)&&(this.g.G=C,m=this.h,m!==null&&C in m&&(m=this.h,C in m&&delete m[C])),this.j=new is(this)}x(Cn,Fe),Cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){Kt(this.g)},Cn.prototype.o=function(m){var C=this.g;if(typeof m=="string"){var R={};R.__data__=m,m=R}else this.v&&(R={},R.__data__=vi(m),m=R);C.i.push(new Ze(C.Ya++,m)),C.I==3&&Wn(C)},Cn.prototype.N=function(){this.g.l=null,delete this.j,Kt(this.g),delete this.g,Cn.Z.N.call(this)};function ta(m){qe.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var C=m.__sm__;if(C){t:{for(const R in C){m=R;break t}m=void 0}(this.i=m)&&(m=this.i,C=C!==null&&m in C?C[m]:void 0),this.data=C}else this.data=m}x(ta,qe);function ea(){Nn.call(this),this.status=1}x(ea,Nn);function is(m){this.g=m}x(is,sr),is.prototype.ra=function(){De(this.g,"a")},is.prototype.qa=function(m){De(this.g,new ta(m))},is.prototype.pa=function(m){De(this.g,new ea)},is.prototype.oa=function(){De(this.g,"b")},Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,Eo.NO_ERROR=0,Eo.TIMEOUT=8,Eo.HTTP_ERROR=6,So.COMPLETE="complete",ei.EventType=Ke,Ke.OPEN="a",Ke.CLOSE="b",Ke.ERROR="c",Ke.MESSAGE="d",Fe.prototype.listen=Fe.prototype.J,ot.prototype.listenOnce=ot.prototype.K,ot.prototype.getLastError=ot.prototype.Ha,ot.prototype.getLastErrorCode=ot.prototype.ya,ot.prototype.getStatus=ot.prototype.ca,ot.prototype.getResponseJson=ot.prototype.La,ot.prototype.getResponseText=ot.prototype.la,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Fa}).apply(typeof hf<"u"?hf:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}hi.UNAUTHENTICATED=new hi(null),hi.GOOGLE_CREDENTIALS=new hi("google-credentials-uid"),hi.FIRST_PARTY=new hi("first-party-uid"),hi.MOCK_USER=new hi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wu="12.9.0";function lk(e){Wu=e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=new Wf("@firebase/firestore");function Bo(e,...t){if(Pl.logLevel<=Ce.DEBUG){const n=t.map(cm);Pl.debug(`Firestore (${Wu}): ${e}`,...n)}}function uS(e,...t){if(Pl.logLevel<=Ce.ERROR){const n=t.map(cm);Pl.error(`Firestore (${Wu}): ${e}`,...n)}}function uk(e,...t){if(Pl.logLevel<=Ce.WARN){const n=t.map(cm);Pl.warn(`Firestore (${Wu}): ${e}`,...n)}}function cm(e){if(typeof e=="string")return e;try{return(function(n){return JSON.stringify(n)})(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,cS(e,s,n)}function cS(e,t,n){let s=`FIRESTORE (${Wu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw uS(s),new Error(s)}function Lu(e,t,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,e||cS(t,a,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class fe extends Zo{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ck{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(hi.UNAUTHENTICATED)))}shutdown(){}}class fk{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class dk{constructor(t){this.t=t,this.currentUser=hi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Lu(this.o===void 0,42304);let s=this.i;const a=T=>this.i!==s?(s=this.i,n(T)):Promise.resolve();let c=new ku;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ku,t.enqueueRetryable((()=>a(this.currentUser)))};const d=()=>{const T=c;t.enqueueRetryable((async()=>{await T.promise,await a(this.currentUser)}))},_=T=>{Bo("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=T,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((T=>_(T))),setTimeout((()=>{if(!this.auth){const T=this.t.getImmediate({optional:!0});T?_(T):(Bo("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ku)}}),0),d()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(Bo("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Lu(typeof s.accessToken=="string",31837,{l:s}),new fS(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Lu(t===null||typeof t=="string",2055,{h:t}),new hi(t)}}class hk{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=hi.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class pk{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new hk(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(hi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class W0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mk{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$i(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Lu(this.o===void 0,3512);const s=c=>{c.error!=null&&Bo("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,Bo("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>s(c)))};const a=c=>{Bo("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>a(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?a(c):Bo("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new W0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Lu(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new W0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=gk(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<n&&(s+=t.charAt(a[c]%62))}return s}}function qr(e,t){return e<t?-1:e>t?1:0}function yk(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const a=e.charAt(s),c=t.charAt(s);if(a!==c)return ip(a)===ip(c)?qr(a,c):ip(a)?1:-1}return qr(e.length,t.length)}const vk=55296,Tk=57343;function ip(e){const t=e.charCodeAt(0);return t>=vk&&t<=Tk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="__name__";class ps{constructor(t,n,s){n===void 0?n=0:n>t.length&&Vu(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Vu(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return ps.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ps?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let a=0;a<s;a++){const c=ps.compareSegments(t.get(a),n.get(a));if(c!==0)return c}return qr(t.length,n.length)}static compareSegments(t,n){const s=ps.isNumericId(t),a=ps.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?ps.extractNumericId(t).compare(ps.extractNumericId(n)):yk(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return um.fromString(t.substring(4,t.length-2))}}class Oo extends ps{construct(t,n,s){return new Oo(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new fe(ce.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new Oo(n)}static emptyPath(){return new Oo([])}}const Ek=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ra extends ps{construct(t,n,s){return new Ra(t,n,s)}static isValidIdentifier(t){return Ek.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ra.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===X0}static keyField(){return new Ra([X0])}static fromServerFormat(t){const n=[];let s="",a=0;const c=()=>{if(s.length===0)throw new fe(ce.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;a<t.length;){const _=t[a];if(_==="\\"){if(a+1===t.length)throw new fe(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const T=t[a+1];if(T!=="\\"&&T!=="."&&T!=="`")throw new fe(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=T,a+=2}else _==="`"?(d=!d,a++):_!=="."||d?(s+=_,a++):(c(),a++)}if(c(),d)throw new fe(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ra(n)}static emptyPath(){return new Ra([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(t){this.path=t}static fromPath(t){return new Ma(Oo.fromString(t))}static fromName(t){return new Ma(Oo.fromString(t).popFirst(5))}static empty(){return new Ma(Oo.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Oo.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Oo.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ma(new Oo(t.slice()))}}function Sk(e,t,n,s){if(t===!0&&s===!0)throw new fe(ce.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function wk(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Ck(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Vu(12329,{type:typeof e})}function Ak(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new fe(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ck(e);throw new fe(ce.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(e,t){const n={typeString:e};return t&&(n.value=t),n}function Xu(e,t){if(!wk(e))throw new fe(ce.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const a=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in e)){n=`JSON missing required field: '${s}'`;break}const d=e[s];if(a&&typeof d!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new fe(ce.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0=-62135596800,Q0=1e6;class ms{static now(){return ms.fromMillis(Date.now())}static fromDate(t){return ms.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Q0);return new ms(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new fe(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<$0)throw new fe(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new fe(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Q0}_compareTo(t){return this.seconds===t.seconds?qr(this.nanoseconds,t.nanoseconds):qr(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ms._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Xu(t,ms._jsonSchema))return new ms(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-$0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ms._jsonSchemaVersion="firestore/timestamp/1.0",ms._jsonSchema={type:hn("string",ms._jsonSchemaVersion),seconds:hn("number"),nanoseconds:hn("number")};function xk(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new bk("Invalid base64 string: "+c):c}})(t);return new Oa(n)}static fromUint8Array(t){const n=(function(a){let c="";for(let d=0;d<a.length;++d)c+=String.fromCharCode(a[d]);return c})(t);return new Oa(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return qr(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Oa.EMPTY_BYTE_STRING=new Oa("");const Pp="(default)";class Hf{constructor(t,n){this.projectId=t,this.database=n||Pp}static empty(){return new Hf("","")}get isDefaultDatabase(){return this.database===Pp}isEqual(t){return t instanceof Hf&&t.projectId===this.projectId&&t.database===this.database}}function Ik(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new fe(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hf(e.options.projectId,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(t,n=null,s=[],a=[],c=null,d="F",_=null,T=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=d,this.startAt=_,this.endAt=T,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Nk(e){return new Rk(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var j0,le;(le=j0||(j0={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new um([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=1048576;function op(){return typeof document<"u"?document:null}class Dk{constructor(t,n,s=1e3,a=1.5,c=6e4){this.Ci=t,this.timerId=n,this.R_=s,this.A_=a,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&Bo("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(t,n,s,a,c){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new ku,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,a,c){const d=Date.now()+s,_=new fm(t,n,d,a,c);return _.start(s),_}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ce.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var tT,eT;(eT=tT||(tT={})).Ma="default",eT.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk="ComponentProvider",nT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="firestore.googleapis.com",iT=!0;class oT{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new fe(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dS,this.ssl=iT}else this.host=t.host,this.ssl=t.ssl??iT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Mk;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Pk)throw new fe(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Sk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Lk(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new fe(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new fe(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new fe(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class hS{constructor(t,n,s,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new fe(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new ck;switch(s.type){case"firstParty":return new pk(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=nT.get(n);s&&(Bo(kk,"Removing Datastore"),nT.delete(n),s.terminate())})(this),Promise.resolve()}}function Uk(e,t,n,s={}){var v;e=Ak(e,hS);const a=Fu(t),c=e._getSettings(),d={...c,emulatorOptions:e._getEmulatorOptions()},_=`${t}:${n}`;a&&(EE(`https://${_}`),SE("Firestore",!0)),c.host!==dS&&c.host!==_&&uk("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const T={...c,host:_,ssl:a,emulatorOptions:s};if(!Fr(T,d)&&(e._setSettings(T),s.mockUserToken)){let w,x;if(typeof s.mockUserToken=="string")w=s.mockUserToken,x=hi.MOCK_USER;else{w=v2(s.mockUserToken,(v=e._app)==null?void 0:v.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new fe(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new hi(b)}e._authCredentials=new fk(new fS(w,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new dm(this.firestore,t,this._query)}}class gs{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hm(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new gs(this.firestore,t,this._key)}toJSON(){return{type:gs._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Xu(n,gs._jsonSchema))return new gs(t,s||null,new Ma(Oo.fromString(n.referencePath)))}}gs._jsonSchemaVersion="firestore/documentReference/1.0",gs._jsonSchema={type:hn("string",gs._jsonSchemaVersion),referencePath:hn("string")};class hm extends dm{constructor(t,n,s){super(t,n,Nk(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new gs(this.firestore,null,new Ma(t))}withConverter(t){return new hm(this.firestore,t,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="AsyncQueue";class rT{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Dk(this,"async_queue_retry"),this._c=()=>{const s=op();s&&Bo(sT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=op();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=op();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ku;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!xk(t))throw t;Bo(sT,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,uS("INTERNAL UNHANDLED ERROR: ",aT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const a=fm.createAndSchedule(this,t,n,s,(c=>this.hc(c)));return this.tc.push(a),a}uc(){this.nc&&Vu(47125,{Pc:aT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function aT(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class Ok extends hS{constructor(t,n,s,a){super(t,n,s,a),this.type="firestore",this._queue=new rT,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new rT(t),this._firestoreClient=void 0,await t}}}function zk(e,t){const n=typeof e=="object"?e:Qp(),s=typeof e=="string"?e:Pp,a=Ga(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=_2("firestore");c&&Uk(a,...c)}return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Zs(Oa.fromBase64String(t))}catch(n){throw new fe(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Zs(Oa.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Zs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Xu(t,Zs._jsonSchema))return Zs.fromBase64String(t.bytes)}}Zs._jsonSchemaVersion="firestore/bytes/1.0",Zs._jsonSchema={type:hn("string",Zs._jsonSchemaVersion),bytes:hn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new fe(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ra(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new fe(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new fe(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return qr(this._lat,t._lat)||qr(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Da._jsonSchemaVersion}}static fromJSON(t){if(Xu(t,Da._jsonSchema))return new Da(t.latitude,t.longitude)}}Da._jsonSchemaVersion="firestore/geoPoint/1.0",Da._jsonSchema={type:hn("string",Da._jsonSchemaVersion),latitude:hn("number"),longitude:hn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,a){if(s.length!==a.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==a[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:La._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Xu(t,La._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new La(t.vectorValues);throw new fe(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}La._jsonSchemaVersion="firestore/vectorValue/1.0",La._jsonSchema={type:hn("string",La._jsonSchemaVersion),vectorValues:hn("object")};function mS(e,t,n){if((t=to(t))instanceof pS)return t._internalPath;if(typeof t=="string")return Hk(e,t);throw Dp("Field path arguments must be of type string or ",e)}const Bk=new RegExp("[~\\*/\\[\\]]");function Hk(e,t,n){if(t.search(Bk)>=0)throw Dp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e);try{return new pS(...t.split("."))._internalPath}catch{throw Dp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e)}}function Dp(e,t,n,s,a){let c=`Function ${t}() called with invalid data`;c+=". ";let d="";return new fe(ce.INVALID_ARGUMENT,c+e+d)}const lT="@firebase/firestore",uT="4.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(t,n,s,a,c){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new gs(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Vk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var t;return((t=this._document)==null?void 0:t.data.clone().value.mapValue.fields)??void 0}get(t){if(this._document){const n=this._document.data.field(mS("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Vk extends gS{data(){return super.data()}}class pf{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Nl extends gS{constructor(t,n,s,a,c,d){super(t,n,s,a,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new wf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(mS("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Nl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Nl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Nl._jsonSchema={type:hn("string",Nl._jsonSchemaVersion),bundleSource:hn("string","DocumentSnapshot"),bundleName:hn("string"),bundle:hn("string")};class wf extends Nl{data(t={}){return super.data(t)}}class Uu{constructor(t,n,s,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new pf(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new wf(this._firestore,this._userDataWriter,s.key,s,new pf(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,c){if(a._snapshot.oldDocs.isEmpty()){let d=0;return a._snapshot.docChanges.map((_=>{const T=new wf(a._firestore,a._userDataWriter,_.doc.key,_.doc,new pf(a._snapshot.mutatedKeys.has(_.doc.key),a._snapshot.fromCache),a.query.converter);return _.doc,{type:"added",doc:T,oldIndex:-1,newIndex:d++}}))}{let d=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((_=>c||_.type!==3)).map((_=>{const T=new wf(a._firestore,a._userDataWriter,_.doc.key,_.doc,new pf(a._snapshot.mutatedKeys.has(_.doc.key),a._snapshot.fromCache),a.query.converter);let v=-1,w=-1;return _.type!==0&&(v=d.indexOf(_.doc.key),d=d.delete(_.doc.key)),_.type!==1&&(d=d.add(_.doc),w=d.indexOf(_.doc.key)),{type:Gk(_.type),doc:T,oldIndex:v,newIndex:w}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Uu._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=_k.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),a.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Gk(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Vu(61501,{type:e})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Uu._jsonSchemaVersion="firestore/querySnapshot/1.0",Uu._jsonSchema={type:hn("string",Uu._jsonSchemaVersion),bundleSource:hn("string","QuerySnapshot"),bundleName:hn("string"),bundle:hn("string")};(function(t,n=!0){lk(Ul),ys(new Fo("firestore",((s,{instanceIdentifier:a,options:c})=>{const d=s.getProvider("app").getImmediate(),_=new Ok(new dk(s.getProvider("auth-internal")),new mk(d,s.getProvider("app-check-internal")),Ik(d,a),d);return c={useFetchStreams:n,...c},_._setSettings(c),_}),"PUBLIC").setMultipleInstances(!0)),go(lT,uT,t),go(lT,uT,"esm2020")})();const _S="@firebase/installations",pm="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS=1e4,vS=`w:${pm}`,TS="FIS_v2",Fk="https://firebaseinstallations.googleapis.com/v1",qk=3600*1e3,Zk="installations",Jk="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},za=new Va(Zk,Jk,Yk);function ES(e){return e instanceof Zo&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS({projectId:e}){return`${Fk}/projects/${e}/installations`}function wS(e){return{token:e.token,requestStatus:2,expiresIn:Wk(e.expiresIn),creationTime:Date.now()}}async function CS(e,t){const s=(await t.json()).error;return za.create("request-failed",{requestName:e,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function AS({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function Kk(e,{refreshToken:t}){const n=AS(e);return n.append("Authorization",Xk(t)),n}async function xS(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Wk(e){return Number(e.replace("s","000"))}function Xk(e){return`${TS} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $k({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const s=SS(e),a=AS(e),c=t.getImmediate({optional:!0});if(c){const v=await c.getHeartbeatsHeader();v&&a.append("x-firebase-client",v)}const d={fid:n,authVersion:TS,appId:e.appId,sdkVersion:vS},_={method:"POST",headers:a,body:JSON.stringify(d)},T=await xS(()=>fetch(s,_));if(T.ok){const v=await T.json();return{fid:v.fid||n,registrationStatus:2,refreshToken:v.refreshToken,authToken:wS(v.authToken)}}else throw await CS("Create Installation",T)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk=/^[cdef][\w-]{21}$/,Lp="";function tU(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=eU(e);return jk.test(n)?n:Lp}catch{return Lp}}function eU(e){return Qk(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=new Map;function RS(e,t){const n=jf(e);NS(n,t),nU(n,t)}function NS(e,t){const n=IS.get(e);if(n)for(const s of n)s(t)}function nU(e,t){const n=iU();n&&n.postMessage({key:e,fid:t}),oU()}let Pa=null;function iU(){return!Pa&&"BroadcastChannel"in self&&(Pa=new BroadcastChannel("[Firebase] FID Change"),Pa.onmessage=e=>{NS(e.data.key,e.data.fid)}),Pa}function oU(){IS.size===0&&Pa&&(Pa.close(),Pa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU="firebase-installations-database",rU=1,Ba="firebase-installations-store";let sp=null;function mm(){return sp||(sp=xE(sU,rU,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Ba)}}})),sp}async function Vf(e,t){const n=jf(e),a=(await mm()).transaction(Ba,"readwrite"),c=a.objectStore(Ba),d=await c.get(n);return await c.put(t,n),await a.done,(!d||d.fid!==t.fid)&&RS(e,t.fid),t}async function MS(e){const t=jf(e),s=(await mm()).transaction(Ba,"readwrite");await s.objectStore(Ba).delete(t),await s.done}async function td(e,t){const n=jf(e),a=(await mm()).transaction(Ba,"readwrite"),c=a.objectStore(Ba),d=await c.get(n),_=t(d);return _===void 0?await c.delete(n):await c.put(_,n),await a.done,_&&(!d||d.fid!==_.fid)&&RS(e,_.fid),_}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gm(e){let t;const n=await td(e.appConfig,s=>{const a=aU(s),c=lU(e,a);return t=c.registrationPromise,c.installationEntry});return n.fid===Lp?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function aU(e){const t=e||{fid:tU(),registrationStatus:0};return PS(t)}function lU(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(za.create("app-offline"));return{installationEntry:t,registrationPromise:a}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},s=uU(e,n);return{installationEntry:n,registrationPromise:s}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:cU(e)}:{installationEntry:t}}async function uU(e,t){try{const n=await $k(e,t);return Vf(e.appConfig,n)}catch(n){throw ES(n)&&n.customData.serverCode===409?await MS(e.appConfig):await Vf(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function cU(e){let t=await cT(e.appConfig);for(;t.registrationStatus===1;)await bS(100),t=await cT(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await gm(e);return s||n}return t}function cT(e){return td(e,t=>{if(!t)throw za.create("installation-not-found");return PS(t)})}function PS(e){return fU(e)?{fid:e.fid,registrationStatus:0}:e}function fU(e){return e.registrationStatus===1&&e.registrationTime+yS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dU({appConfig:e,heartbeatServiceProvider:t},n){const s=hU(e,n),a=Kk(e,n),c=t.getImmediate({optional:!0});if(c){const v=await c.getHeartbeatsHeader();v&&a.append("x-firebase-client",v)}const d={installation:{sdkVersion:vS,appId:e.appId}},_={method:"POST",headers:a,body:JSON.stringify(d)},T=await xS(()=>fetch(s,_));if(T.ok){const v=await T.json();return wS(v)}else throw await CS("Generate Auth Token",T)}function hU(e,{fid:t}){return`${SS(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _m(e,t=!1){let n;const s=await td(e.appConfig,c=>{if(!DS(c))throw za.create("not-registered");const d=c.authToken;if(!t&&gU(d))return c;if(d.requestStatus===1)return n=pU(e,t),c;{if(!navigator.onLine)throw za.create("app-offline");const _=yU(c);return n=mU(e,_),_}});return n?await n:s.authToken}async function pU(e,t){let n=await fT(e.appConfig);for(;n.authToken.requestStatus===1;)await bS(100),n=await fT(e.appConfig);const s=n.authToken;return s.requestStatus===0?_m(e,t):s}function fT(e){return td(e,t=>{if(!DS(t))throw za.create("not-registered");const n=t.authToken;return vU(n)?{...t,authToken:{requestStatus:0}}:t})}async function mU(e,t){try{const n=await dU(e,t),s={...t,authToken:n};return await Vf(e.appConfig,s),n}catch(n){if(ES(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await MS(e.appConfig);else{const s={...t,authToken:{requestStatus:0}};await Vf(e.appConfig,s)}throw n}}function DS(e){return e!==void 0&&e.registrationStatus===2}function gU(e){return e.requestStatus===2&&!_U(e)}function _U(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+qk}function yU(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function vU(e){return e.requestStatus===1&&e.requestTime+yS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TU(e){const t=e,{installationEntry:n,registrationPromise:s}=await gm(t);return s?s.catch(console.error):_m(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EU(e,t=!1){const n=e;return await SU(n),(await _m(n,t)).token}async function SU(e){const{registrationPromise:t}=await gm(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wU(e){if(!e||!e.options)throw rp("App Configuration");if(!e.name)throw rp("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw rp(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function rp(e){return za.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="installations",CU="installations-internal",AU=e=>{const t=e.getProvider("app").getImmediate(),n=wU(t),s=Ga(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},xU=e=>{const t=e.getProvider("app").getImmediate(),n=Ga(t,LS).getImmediate();return{getId:()=>TU(n),getToken:a=>EU(n,a)}};function bU(){ys(new Fo(LS,AU,"PUBLIC")),ys(new Fo(CU,xU,"PRIVATE"))}bU();go(_S,pm);go(_S,pm,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf="analytics",IU="firebase_id",RU="origin",NU=60*1e3,MU="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ym="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi=new Wf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ji=new Va("analytics","Analytics",PU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DU(e){if(!e.startsWith(ym)){const t=ji.create("invalid-gtag-resource",{gtagURL:e});return pi.warn(t.message),""}return e}function kS(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function LU(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function kU(e,t){const n=LU("firebase-js-sdk-policy",{createScriptURL:DU}),s=document.createElement("script"),a=`${ym}?l=${e}&id=${t}`;s.src=n?n==null?void 0:n.createScriptURL(a):a,s.async=!0,document.head.appendChild(s)}function UU(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function OU(e,t,n,s,a,c){const d=s[a];try{if(d)await t[d];else{const T=(await kS(n)).find(v=>v.measurementId===a);T&&await t[T.appId]}}catch(_){pi.error(_)}e("config",a,c)}async function zU(e,t,n,s,a){try{let c=[];if(a&&a.send_to){let d=a.send_to;Array.isArray(d)||(d=[d]);const _=await kS(n);for(const T of d){const v=_.find(x=>x.measurementId===T),w=v&&t[v.appId];if(w)c.push(w);else{c=[];break}}}c.length===0&&(c=Object.values(t)),await Promise.all(c),e("event",s,a||{})}catch(c){pi.error(c)}}function BU(e,t,n,s){async function a(c,...d){try{if(c==="event"){const[_,T]=d;await zU(e,t,n,_,T)}else if(c==="config"){const[_,T]=d;await OU(e,t,n,s,_,T)}else if(c==="consent"){const[_,T]=d;e("consent",_,T)}else if(c==="get"){const[_,T,v]=d;e("get",_,T,v)}else if(c==="set"){const[_]=d;e("set",_)}else e(c,...d)}catch(_){pi.error(_)}}return a}function HU(e,t,n,s,a){let c=function(...d){window[s].push(arguments)};return window[a]&&typeof window[a]=="function"&&(c=window[a]),window[a]=BU(c,e,t,n),{gtagCore:c,wrappedGtag:window[a]}}function VU(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(ym)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GU=30,FU=1e3;class qU{constructor(t={},n=FU){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const US=new qU;function ZU(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function JU(e){var d;const{appId:t,apiKey:n}=e,s={method:"GET",headers:ZU(n)},a=MU.replace("{app-id}",t),c=await fetch(a,s);if(c.status!==200&&c.status!==304){let _="";try{const T=await c.json();(d=T.error)!=null&&d.message&&(_=T.error.message)}catch{}throw ji.create("config-fetch-failed",{httpStatus:c.status,responseMessage:_})}return c.json()}async function YU(e,t=US,n){const{appId:s,apiKey:a,measurementId:c}=e.options;if(!s)throw ji.create("no-app-id");if(!a){if(c)return{measurementId:c,appId:s};throw ji.create("no-api-key")}const d=t.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},_=new XU;return setTimeout(async()=>{_.abort()},NU),OS({appId:s,apiKey:a,measurementId:c},d,_,t)}async function OS(e,{throttleEndTimeMillis:t,backoffCount:n},s,a=US){var _;const{appId:c,measurementId:d}=e;try{await KU(s,t)}catch(T){if(d)return pi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${T==null?void 0:T.message}]`),{appId:c,measurementId:d};throw T}try{const T=await JU(e);return a.deleteThrottleMetadata(c),T}catch(T){const v=T;if(!WU(v)){if(a.deleteThrottleMetadata(c),d)return pi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${v==null?void 0:v.message}]`),{appId:c,measurementId:d};throw T}const w=Number((_=v==null?void 0:v.customData)==null?void 0:_.httpStatus)===503?T0(n,a.intervalMillis,GU):T0(n,a.intervalMillis),x={throttleEndTimeMillis:Date.now()+w,backoffCount:n+1};return a.setThrottleMetadata(c,x),pi.debug(`Calling attemptFetch again in ${w} millis`),OS(e,x,s,a)}}function KU(e,t){return new Promise((n,s)=>{const a=Math.max(t-Date.now(),0),c=setTimeout(n,a);e.addEventListener(()=>{clearTimeout(c),s(ji.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function WU(e){if(!(e instanceof Zo)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class XU{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function $U(e,t,n,s,a){if(a&&a.global){e("event",n,s);return}else{const c=await t,d={...s,send_to:c};e("event",n,d)}}async function QU(e,t,n,s){if(s&&s.global){const a={};for(const c of Object.keys(n))a[`user_properties.${c}`]=n[c];return e("set",a),Promise.resolve()}else{const a=await t;e("config",a,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jU(){if(Wp())try{await Xp()}catch(e){return pi.warn(ji.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return pi.warn(ji.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function t4(e,t,n,s,a,c,d){const _=YU(e);_.then(b=>{n[b.measurementId]=b.appId,e.options.measurementId&&b.measurementId!==e.options.measurementId&&pi.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>pi.error(b)),t.push(_);const T=jU().then(b=>{if(b)return s.getId()}),[v,w]=await Promise.all([_,T]);VU(c)||kU(c,v.measurementId),a("js",new Date);const x=(d==null?void 0:d.config)??{};return x[RU]="firebase",x.update=!0,w!=null&&(x[IU]=w),a("config",v.measurementId,x),v.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(t){this.app=t}_delete(){return delete Ml[this.app.options.appId],Promise.resolve()}}let Ml={},dT=[];const hT={};let ap="dataLayer",n4="gtag",pT,vm,mT=!1;function i4(){const e=[];if(Kp()&&e.push("This is a browser extension environment."),wE()||e.push("Cookies are not available."),e.length>0){const t=e.map((s,a)=>`(${a+1}) ${s}`).join(" "),n=ji.create("invalid-analytics-context",{errorInfo:t});pi.warn(n.message)}}function o4(e,t,n){i4();const s=e.options.appId;if(!s)throw ji.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)pi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ji.create("no-api-key");if(Ml[s]!=null)throw ji.create("already-exists",{id:s});if(!mT){UU(ap);const{wrappedGtag:c,gtagCore:d}=HU(Ml,dT,hT,ap,n4);vm=c,pT=d,mT=!0}return Ml[s]=t4(e,dT,hT,t,pT,ap,n),new e4(e)}function s4(e=Qp()){e=to(e);const t=Ga(e,Gf);return t.isInitialized()?t.getImmediate():r4(e)}function r4(e,t={}){const n=Ga(e,Gf);if(n.isInitialized()){const a=n.getImmediate();if(Fr(t,n.getOptions()))return a;throw ji.create("already-initialized")}return n.initialize({options:t})}async function a4(){if(Kp()||!wE()||!Wp())return!1;try{return await Xp()}catch{return!1}}function l4(e,t,n){e=to(e),QU(vm,Ml[e.app.options.appId],t,n).catch(s=>pi.error(s))}function u4(e,t,n,s){e=to(e),$U(vm,Ml[e.app.options.appId],t,n,s).catch(a=>pi.error(a))}const gT="@firebase/analytics",_T="0.10.19";function c4(){ys(new Fo(Gf,(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),a=t.getProvider("installations-internal").getImmediate();return o4(s,a,n)},"PUBLIC")),ys(new Fo("analytics-internal",e,"PRIVATE")),go(gT,_T),go(gT,_T,"esm2020");function e(t){try{const n=t.getProvider(Gf).getImmediate();return{logEvent:(s,a,c)=>u4(n,s,a,c),setUserProperties:(s,a)=>l4(n,s,a)}}catch(n){throw ji.create("interop-component-reg-failed",{reason:n})}}}c4();const f4={apiKey:"AIzaSyBy_UXY6F0wcUmk4lPIqe2SuWINmhKA2Q8",authDomain:"spot-the-plot.firebaseapp.com",projectId:"spot-the-plot",storageBucket:"spot-the-plot.firebasestorage.app",messagingSenderId:"957233057642",appId:"1:957233057642:web:60c9af6dd2c7dcd584df13",measurementId:"G-LJ7WWXV2F8"},Tm=bE(f4),xu=rk(Tm);zk(Tm);a4().then(e=>{e&&s4(Tm)});function d4(e,t){const n=Et.useRef(t);Et.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}TT();const h4=1;function p4(e){return Object.freeze({__version:h4,map:e})}function m4(e,t){return Object.freeze({...e,...t})}const Em=Et.createContext(null);function zS(){const e=Et.use(Em);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function g4(e){function t(n,s){const{instance:a,context:c}=e(n).current;Et.useImperativeHandle(s,()=>a);const{children:d}=n;return d==null?null:Cf.createElement(Em,{value:c},d)}return Et.forwardRef(t)}function _4(e){function t(n,s){const{instance:a}=e(n).current;return Et.useImperativeHandle(s,()=>a),null}return Et.forwardRef(t)}function y4(e,t){const n=Et.useRef(void 0);Et.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function BS(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}var Mu={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var v4=Mu.exports,yT;function T4(){return yT||(yT=1,(function(e,t){(function(n,s){s(t)})(v4,(function(n){var s="1.9.4";function a(r){var u,g,S,A;for(g=1,S=arguments.length;g<S;g++){A=arguments[g];for(u in A)r[u]=A[u]}return r}var c=Object.create||(function(){function r(){}return function(u){return r.prototype=u,new r}})();function d(r,u){var g=Array.prototype.slice;if(r.bind)return r.bind.apply(r,g.call(arguments,1));var S=g.call(arguments,2);return function(){return r.apply(u,S.length?S.concat(g.call(arguments)):arguments)}}var _=0;function T(r){return"_leaflet_id"in r||(r._leaflet_id=++_),r._leaflet_id}function v(r,u,g){var S,A,M,H;return H=function(){S=!1,A&&(M.apply(g,A),A=!1)},M=function(){S?A=arguments:(r.apply(g,arguments),setTimeout(H,u),S=!0)},M}function w(r,u,g){var S=u[1],A=u[0],M=S-A;return r===S&&g?r:((r-A)%M+M)%M+A}function x(){return!1}function b(r,u){if(u===!1)return r;var g=Math.pow(10,u===void 0?6:u);return Math.round(r*g)/g}function U(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function Y(r){return U(r).split(/\s+/)}function K(r,u){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?c(r.options):{});for(var g in u)r.options[g]=u[g];return r.options}function $(r,u,g){var S=[];for(var A in r)S.push(encodeURIComponent(g?A.toUpperCase():A)+"="+encodeURIComponent(r[A]));return(!u||u.indexOf("?")===-1?"?":"&")+S.join("&")}var dt=/\{ *([\w_ -]+) *\}/g;function _t(r,u){return r.replace(dt,function(g,S){var A=u[S];if(A===void 0)throw new Error("No value provided for variable "+g);return typeof A=="function"&&(A=A(u)),A})}var lt=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function St(r,u){for(var g=0;g<r.length;g++)if(r[g]===u)return g;return-1}var Rt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ft(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var z=0;function O(r){var u=+new Date,g=Math.max(0,16-(u-z));return z=u+g,window.setTimeout(r,g)}var k=window.requestAnimationFrame||ft("RequestAnimationFrame")||O,F=window.cancelAnimationFrame||ft("CancelAnimationFrame")||ft("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function V(r,u,g){if(g&&k===O)r.call(u);else return k.call(window,d(r,u))}function J(r){r&&F.call(window,r)}var B={__proto__:null,extend:a,create:c,bind:d,get lastId(){return _},stamp:T,throttle:v,wrapNum:w,falseFn:x,formatNum:b,trim:U,splitWords:Y,setOptions:K,getParamString:$,template:_t,isArray:lt,indexOf:St,emptyImageUrl:Rt,requestFn:k,cancelFn:F,requestAnimFrame:V,cancelAnimFrame:J};function Ut(){}Ut.extend=function(r){var u=function(){K(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},g=u.__super__=this.prototype,S=c(g);S.constructor=u,u.prototype=S;for(var A in this)Object.prototype.hasOwnProperty.call(this,A)&&A!=="prototype"&&A!=="__super__"&&(u[A]=this[A]);return r.statics&&a(u,r.statics),r.includes&&(Ee(r.includes),a.apply(null,[S].concat(r.includes))),a(S,r),delete S.statics,delete S.includes,S.options&&(S.options=g.options?c(g.options):{},a(S.options,r.options)),S._initHooks=[],S.callInitHooks=function(){if(!this._initHooksCalled){g.callInitHooks&&g.callInitHooks.call(this),this._initHooksCalled=!0;for(var M=0,H=S._initHooks.length;M<H;M++)S._initHooks[M].call(this)}},u},Ut.include=function(r){var u=this.prototype.options;return a(this.prototype,r),r.options&&(this.prototype.options=u,this.mergeOptions(r.options)),this},Ut.mergeOptions=function(r){return a(this.prototype.options,r),this},Ut.addInitHook=function(r){var u=Array.prototype.slice.call(arguments,1),g=typeof r=="function"?r:function(){this[r].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(g),this};function Ee(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=lt(r)?r:[r];for(var u=0;u<r.length;u++)r[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var rt={on:function(r,u,g){if(typeof r=="object")for(var S in r)this._on(S,r[S],u);else{r=Y(r);for(var A=0,M=r.length;A<M;A++)this._on(r[A],u,g)}return this},off:function(r,u,g){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var S in r)this._off(S,r[S],u);else{r=Y(r);for(var A=arguments.length===1,M=0,H=r.length;M<H;M++)A?this._off(r[M]):this._off(r[M],u,g)}return this},_on:function(r,u,g,S){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(r,u,g)===!1){g===this&&(g=void 0);var A={fn:u,ctx:g};S&&(A.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(A)}},_off:function(r,u,g){var S,A,M;if(this._events&&(S=this._events[r],!!S)){if(arguments.length===1){if(this._firingCount)for(A=0,M=S.length;A<M;A++)S[A].fn=x;delete this._events[r];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var H=this._listens(r,u,g);if(H!==!1){var X=S[H];this._firingCount&&(X.fn=x,this._events[r]=S=S.slice()),S.splice(H,1)}}},fire:function(r,u,g){if(!this.listens(r,g))return this;var S=a({},u,{type:r,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var A=this._events[r];if(A){this._firingCount=this._firingCount+1||1;for(var M=0,H=A.length;M<H;M++){var X=A[M],nt=X.fn;X.once&&this.off(r,nt,X.ctx),nt.call(X.ctx||this,S)}this._firingCount--}}return g&&this._propagateEvent(S),this},listens:function(r,u,g,S){typeof r!="string"&&console.warn('"string" type argument expected');var A=u;typeof u!="function"&&(S=!!u,A=void 0,g=void 0);var M=this._events&&this._events[r];if(M&&M.length&&this._listens(r,A,g)!==!1)return!0;if(S){for(var H in this._eventParents)if(this._eventParents[H].listens(r,u,g,S))return!0}return!1},_listens:function(r,u,g){if(!this._events)return!1;var S=this._events[r]||[];if(!u)return!!S.length;g===this&&(g=void 0);for(var A=0,M=S.length;A<M;A++)if(S[A].fn===u&&S[A].ctx===g)return A;return!1},once:function(r,u,g){if(typeof r=="object")for(var S in r)this._on(S,r[S],u,!0);else{r=Y(r);for(var A=0,M=r.length;A<M;A++)this._on(r[A],u,g,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[T(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[T(r)],this},_propagateEvent:function(r){for(var u in this._eventParents)this._eventParents[u].fire(r.type,a({layer:r.target,propagatedFrom:r.target},r),!0)}};rt.addEventListener=rt.on,rt.removeEventListener=rt.clearAllEventListeners=rt.off,rt.addOneTimeEventListener=rt.once,rt.fireEvent=rt.fire,rt.hasEventListeners=rt.listens;var At=Ut.extend(rt);function ut(r,u,g){this.x=g?Math.round(r):r,this.y=g?Math.round(u):u}var qt=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};ut.prototype={clone:function(){return new ut(this.x,this.y)},add:function(r){return this.clone()._add(It(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(It(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new ut(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new ut(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=qt(this.x),this.y=qt(this.y),this},distanceTo:function(r){r=It(r);var u=r.x-this.x,g=r.y-this.y;return Math.sqrt(u*u+g*g)},equals:function(r){return r=It(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=It(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function It(r,u,g){return r instanceof ut?r:lt(r)?new ut(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new ut(r.x,r.y):new ut(r,u,g)}function q(r,u){if(r)for(var g=u?[r,u]:r,S=0,A=g.length;S<A;S++)this.extend(g[S])}q.prototype={extend:function(r){var u,g;if(!r)return this;if(r instanceof ut||typeof r[0]=="number"||"x"in r)u=g=It(r);else if(r=ct(r),u=r.min,g=r.max,!u||!g)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=g.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(g.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(g.y,this.max.y)),this},getCenter:function(r){return It((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return It(this.min.x,this.max.y)},getTopRight:function(){return It(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var u,g;return typeof r[0]=="number"||r instanceof ut?r=It(r):r=ct(r),r instanceof q?(u=r.min,g=r.max):u=g=r,u.x>=this.min.x&&g.x<=this.max.x&&u.y>=this.min.y&&g.y<=this.max.y},intersects:function(r){r=ct(r);var u=this.min,g=this.max,S=r.min,A=r.max,M=A.x>=u.x&&S.x<=g.x,H=A.y>=u.y&&S.y<=g.y;return M&&H},overlaps:function(r){r=ct(r);var u=this.min,g=this.max,S=r.min,A=r.max,M=A.x>u.x&&S.x<g.x,H=A.y>u.y&&S.y<g.y;return M&&H},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var u=this.min,g=this.max,S=Math.abs(u.x-g.x)*r,A=Math.abs(u.y-g.y)*r;return ct(It(u.x-S,u.y-A),It(g.x+S,g.y+A))},equals:function(r){return r?(r=ct(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function ct(r,u){return!r||r instanceof q?r:new q(r,u)}function vt(r,u){if(r)for(var g=u?[r,u]:r,S=0,A=g.length;S<A;S++)this.extend(g[S])}vt.prototype={extend:function(r){var u=this._southWest,g=this._northEast,S,A;if(r instanceof Ct)S=r,A=r;else if(r instanceof vt){if(S=r._southWest,A=r._northEast,!S||!A)return this}else return r?this.extend(xt(r)||Tt(r)):this;return!u&&!g?(this._southWest=new Ct(S.lat,S.lng),this._northEast=new Ct(A.lat,A.lng)):(u.lat=Math.min(S.lat,u.lat),u.lng=Math.min(S.lng,u.lng),g.lat=Math.max(A.lat,g.lat),g.lng=Math.max(A.lng,g.lng)),this},pad:function(r){var u=this._southWest,g=this._northEast,S=Math.abs(u.lat-g.lat)*r,A=Math.abs(u.lng-g.lng)*r;return new vt(new Ct(u.lat-S,u.lng-A),new Ct(g.lat+S,g.lng+A))},getCenter:function(){return new Ct((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ct(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ct(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof Ct||"lat"in r?r=xt(r):r=Tt(r);var u=this._southWest,g=this._northEast,S,A;return r instanceof vt?(S=r.getSouthWest(),A=r.getNorthEast()):S=A=r,S.lat>=u.lat&&A.lat<=g.lat&&S.lng>=u.lng&&A.lng<=g.lng},intersects:function(r){r=Tt(r);var u=this._southWest,g=this._northEast,S=r.getSouthWest(),A=r.getNorthEast(),M=A.lat>=u.lat&&S.lat<=g.lat,H=A.lng>=u.lng&&S.lng<=g.lng;return M&&H},overlaps:function(r){r=Tt(r);var u=this._southWest,g=this._northEast,S=r.getSouthWest(),A=r.getNorthEast(),M=A.lat>u.lat&&S.lat<g.lat,H=A.lng>u.lng&&S.lng<g.lng;return M&&H},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,u){return r?(r=Tt(r),this._southWest.equals(r.getSouthWest(),u)&&this._northEast.equals(r.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Tt(r,u){return r instanceof vt?r:new vt(r,u)}function Ct(r,u,g){if(isNaN(r)||isNaN(u))throw new Error("Invalid LatLng object: ("+r+", "+u+")");this.lat=+r,this.lng=+u,g!==void 0&&(this.alt=+g)}Ct.prototype={equals:function(r,u){if(!r)return!1;r=xt(r);var g=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return g<=(u===void 0?1e-9:u)},toString:function(r){return"LatLng("+b(this.lat,r)+", "+b(this.lng,r)+")"},distanceTo:function(r){return _e.distance(this,xt(r))},wrap:function(){return _e.wrapLatLng(this)},toBounds:function(r){var u=180*r/40075017,g=u/Math.cos(Math.PI/180*this.lat);return Tt([this.lat-u,this.lng-g],[this.lat+u,this.lng+g])},clone:function(){return new Ct(this.lat,this.lng,this.alt)}};function xt(r,u,g){return r instanceof Ct?r:lt(r)&&typeof r[0]!="object"?r.length===3?new Ct(r[0],r[1],r[2]):r.length===2?new Ct(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new Ct(r.lat,"lng"in r?r.lng:r.lon,r.alt):u===void 0?null:new Ct(r,u,g)}var Vt={latLngToPoint:function(r,u){var g=this.projection.project(r),S=this.scale(u);return this.transformation._transform(g,S)},pointToLatLng:function(r,u){var g=this.scale(u),S=this.transformation.untransform(r,g);return this.projection.unproject(S)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var u=this.projection.bounds,g=this.scale(r),S=this.transformation.transform(u.min,g),A=this.transformation.transform(u.max,g);return new q(S,A)},infinite:!1,wrapLatLng:function(r){var u=this.wrapLng?w(r.lng,this.wrapLng,!0):r.lng,g=this.wrapLat?w(r.lat,this.wrapLat,!0):r.lat,S=r.alt;return new Ct(g,u,S)},wrapLatLngBounds:function(r){var u=r.getCenter(),g=this.wrapLatLng(u),S=u.lat-g.lat,A=u.lng-g.lng;if(S===0&&A===0)return r;var M=r.getSouthWest(),H=r.getNorthEast(),X=new Ct(M.lat-S,M.lng-A),nt=new Ct(H.lat-S,H.lng-A);return new vt(X,nt)}},_e=a({},Vt,{wrapLng:[-180,180],R:6371e3,distance:function(r,u){var g=Math.PI/180,S=r.lat*g,A=u.lat*g,M=Math.sin((u.lat-r.lat)*g/2),H=Math.sin((u.lng-r.lng)*g/2),X=M*M+Math.cos(S)*Math.cos(A)*H*H,nt=2*Math.atan2(Math.sqrt(X),Math.sqrt(1-X));return this.R*nt}}),Se=6378137,Ui={R:Se,MAX_LATITUDE:85.0511287798,project:function(r){var u=Math.PI/180,g=this.MAX_LATITUDE,S=Math.max(Math.min(g,r.lat),-g),A=Math.sin(S*u);return new ut(this.R*r.lng*u,this.R*Math.log((1+A)/(1-A))/2)},unproject:function(r){var u=180/Math.PI;return new Ct((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*u,r.x*u/this.R)},bounds:(function(){var r=Se*Math.PI;return new q([-r,-r],[r,r])})()};function _i(r,u,g,S){if(lt(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=u,this._c=g,this._d=S}_i.prototype={transform:function(r,u){return this._transform(r.clone(),u)},_transform:function(r,u){return u=u||1,r.x=u*(this._a*r.x+this._b),r.y=u*(this._c*r.y+this._d),r},untransform:function(r,u){return u=u||1,new ut((r.x/u-this._b)/this._a,(r.y/u-this._d)/this._c)}};function jn(r,u,g,S){return new _i(r,u,g,S)}var zn=a({},_e,{code:"EPSG:3857",projection:Ui,transformation:(function(){var r=.5/(Math.PI*Ui.R);return jn(r,.5,-r,.5)})()}),ti=a({},zn,{code:"EPSG:900913"});function vo(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function Oi(r,u){var g="",S,A,M,H,X,nt;for(S=0,M=r.length;S<M;S++){for(X=r[S],A=0,H=X.length;A<H;A++)nt=X[A],g+=(A?"L":"M")+nt.x+" "+nt.y;g+=u?Pt.svg?"z":"x":""}return g||"M0 0"}var Bn=document.documentElement.style,yi="ActiveXObject"in window,Fe=yi&&!document.addEventListener,De="msLaunchUri"in navigator&&!("documentMode"in document),sn=rn("webkit"),Jo=rn("android"),vs=rn("android 2")||rn("android 3"),en=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),eo=Jo&&rn("Google")&&en<537&&!("AudioNode"in window),no=!!window.opera,To=!De&&rn("chrome"),vi=rn("gecko")&&!sn&&!no&&!yi,tr=!To&&rn("safari"),Yo=rn("phantom"),Ts="OTransition"in Bn,ei=navigator.platform.indexOf("Win")===0,Ke=yi&&"transition"in Bn,qe="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!vs,Nn="MozPerspective"in Bn,Oe=!window.L_DISABLE_3D&&(Ke||qe||Nn)&&!Ts&&!Yo,zi=typeof orientation<"u"||rn("mobile"),Ko=zi&&sn,Es=zi&&qe,Hn=!window.PointerEvent&&window.MSPointerEvent,Ti=!!(window.PointerEvent||Hn),Be="ontouchstart"in window||!!window.TouchEvent,ni=!window.L_NO_TOUCH&&(Be||Ti),Ei=zi&&no,Mn=zi&&vi,er=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Si=(function(){var r=!1;try{var u=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",x,u),window.removeEventListener("testPassiveEventSupport",x,u)}catch{}return r})(),ii=(function(){return!!document.createElement("canvas").getContext})(),wi=!!(document.createElementNS&&vo("svg").createSVGRect),Ss=!!wi&&(function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Eo=!wi&&(function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var u=r.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}})(),So=navigator.platform.indexOf("Mac")===0,wo=navigator.platform.indexOf("Linux")===0;function rn(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var Pt={ie:yi,ielt9:Fe,edge:De,webkit:sn,android:Jo,android23:vs,androidStock:eo,opera:no,chrome:To,gecko:vi,safari:tr,phantom:Yo,opera12:Ts,win:ei,ie3d:Ke,webkit3d:qe,gecko3d:Nn,any3d:Oe,mobile:zi,mobileWebkit:Ko,mobileWebkit3d:Es,msPointer:Hn,pointer:Ti,touch:ni,touchNative:Be,mobileOpera:Ei,mobileGecko:Mn,retina:er,passiveEvents:Si,canvas:ii,svg:wi,vml:Eo,inlineSvg:Ss,mac:So,linux:wo},Wo=Pt.msPointer?"MSPointerDown":"pointerdown",Vn=Pt.msPointer?"MSPointerMove":"pointermove",oi=Pt.msPointer?"MSPointerUp":"pointerup",He=Pt.msPointer?"MSPointerCancel":"pointercancel",ze={touchstart:Wo,touchmove:Vn,touchend:oi,touchcancel:He},Gn={touchstart:qn,touchmove:an,touchend:an,touchcancel:an},si={},ws=!1;function nr(r,u,g){return u==="touchstart"&&Fn(),Gn[u]?(g=Gn[u].bind(this,g),r.addEventListener(ze[u],g,!1),g):(console.warn("wrong event specified:",u),x)}function Cs(r,u,g){if(!ze[u]){console.warn("wrong event specified:",u);return}r.removeEventListener(ze[u],g,!1)}function Bi(r){si[r.pointerId]=r}function Xo(r){si[r.pointerId]&&(si[r.pointerId]=r)}function Ci(r){delete si[r.pointerId]}function Fn(){ws||(document.addEventListener(Wo,Bi,!0),document.addEventListener(Vn,Xo,!0),document.addEventListener(oi,Ci,!0),document.addEventListener(He,Ci,!0),ws=!0)}function an(r,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var g in si)u.touches.push(si[g]);u.changedTouches=[u],r(u)}}function qn(r,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&oe(u),an(r,u)}function Ze(r){var u={},g,S;for(S in r)g=r[S],u[S]=g&&g.bind?g.bind(r):g;return r=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var As=200;function $o(r,u){r.addEventListener("dblclick",u);var g=0,S;function A(M){if(M.detail!==1){S=M.detail;return}if(!(M.pointerType==="mouse"||M.sourceCapabilities&&!M.sourceCapabilities.firesTouchEvents)){var H=En(M);if(!(H.some(function(nt){return nt instanceof HTMLLabelElement&&nt.attributes.for})&&!H.some(function(nt){return nt instanceof HTMLInputElement||nt instanceof HTMLSelectElement}))){var X=Date.now();X-g<=As?(S++,S===2&&u(Ze(M))):S=1,g=X}}}return r.addEventListener("click",A),{dblclick:u,simDblclick:A}}function Ai(r,u){r.removeEventListener("dblclick",u.dblclick),r.removeEventListener("click",u.simDblclick)}var Zn=xo(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Hi=xo(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Co=Hi==="webkitTransition"||Hi==="OTransition"?Hi+"End":"transitionend";function Qo(r){return typeof r=="string"?document.getElementById(r):r}function io(r,u){var g=r.style[u]||r.currentStyle&&r.currentStyle[u];if((!g||g==="auto")&&document.defaultView){var S=document.defaultView.getComputedStyle(r,null);g=S?S[u]:null}return g==="auto"?null:g}function $t(r,u,g){var S=document.createElement(r);return S.className=u||"",g&&g.appendChild(S),S}function Zt(r){var u=r.parentNode;u&&u.removeChild(r)}function Re(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function Le(r){var u=r.parentNode;u&&u.lastChild!==r&&u.appendChild(r)}function yn(r){var u=r.parentNode;u&&u.firstChild!==r&&u.insertBefore(r,u.firstChild)}function Ao(r,u){if(r.classList!==void 0)return r.classList.contains(u);var g=xi(r);return g.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(g)}function Mt(r,u){if(r.classList!==void 0)for(var g=Y(u),S=0,A=g.length;S<A;S++)r.classList.add(g[S]);else if(!Ao(r,u)){var M=xi(r);Jn(r,(M?M+" ":"")+u)}}function ye(r,u){r.classList!==void 0?r.classList.remove(u):Jn(r,U((" "+xi(r)+" ").replace(" "+u+" "," ")))}function Jn(r,u){r.className.baseVal===void 0?r.className=u:r.className.baseVal=u}function xi(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function Ae(r,u){"opacity"in r.style?r.style.opacity=u:"filter"in r.style&&jo(r,u)}function jo(r,u){var g=!1,S="DXImageTransform.Microsoft.Alpha";try{g=r.filters.item(S)}catch{if(u===1)return}u=Math.round(u*100),g?(g.Enabled=u!==100,g.Opacity=u):r.style.filter+=" progid:"+S+"(opacity="+u+")"}function xo(r){for(var u=document.documentElement.style,g=0;g<r.length;g++)if(r[g]in u)return r[g];return!1}function pn(r,u,g){var S=u||new ut(0,0);r.style[Zn]=(Pt.ie3d?"translate("+S.x+"px,"+S.y+"px)":"translate3d("+S.x+"px,"+S.y+"px,0)")+(g?" scale("+g+")":"")}function ve(r,u){r._leaflet_pos=u,Pt.any3d?pn(r,u):(r.style.left=u.x+"px",r.style.top=u.y+"px")}function Yn(r){return r._leaflet_pos||new ut(0,0)}var Kn,We,ts;if("onselectstart"in document)Kn=function(){Ot(window,"selectstart",oe)},We=function(){ae(window,"selectstart",oe)};else{var Vi=xo(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Kn=function(){if(Vi){var r=document.documentElement.style;ts=r[Vi],r[Vi]="none"}},We=function(){Vi&&(document.documentElement.style[Vi]=ts,ts=void 0)}}function bo(){Ot(window,"dragstart",oe)}function oo(){ae(window,"dragstart",oe)}var Io,bi;function so(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(vn(),Io=r,bi=r.style.outlineStyle,r.style.outlineStyle="none",Ot(window,"keydown",vn))}function vn(){Io&&(Io.style.outlineStyle=bi,Io=void 0,bi=void 0,ae(window,"keydown",vn))}function es(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function Tn(r){var u=r.getBoundingClientRect();return{x:u.width/r.offsetWidth||1,y:u.height/r.offsetHeight||1,boundingClientRect:u}}var ro={__proto__:null,TRANSFORM:Zn,TRANSITION:Hi,TRANSITION_END:Co,get:Qo,getStyle:io,create:$t,remove:Zt,empty:Re,toFront:Le,toBack:yn,hasClass:Ao,addClass:Mt,removeClass:ye,setClass:Jn,getClass:xi,setOpacity:Ae,testProp:xo,setTransform:pn,setPosition:ve,getPosition:Yn,get disableTextSelection(){return Kn},get enableTextSelection(){return We},disableImageDrag:bo,enableImageDrag:oo,preventOutline:so,restoreOutline:vn,getSizedParentNode:es,getScale:Tn};function Ot(r,u,g,S){if(u&&typeof u=="object")for(var A in u)j(r,A,u[A],g);else{u=Y(u);for(var M=0,H=u.length;M<H;M++)j(r,u[M],g,S)}return this}var ln="_leaflet_events";function ae(r,u,g,S){if(arguments.length===1)Gi(r),delete r[ln];else if(u&&typeof u=="object")for(var A in u)yt(r,A,u[A],g);else if(u=Y(u),arguments.length===2)Gi(r,function(X){return St(u,X)!==-1});else for(var M=0,H=u.length;M<H;M++)yt(r,u[M],g,S);return this}function Gi(r,u){for(var g in r[ln]){var S=g.split(/\d/)[0];(!u||u(S))&&yt(r,S,null,null,g)}}var Pn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function j(r,u,g,S){var A=u+T(g)+(S?"_"+T(S):"");if(r[ln]&&r[ln][A])return this;var M=function(X){return g.call(S||r,X||window.event)},H=M;!Pt.touchNative&&Pt.pointer&&u.indexOf("touch")===0?M=nr(r,u,M):Pt.touch&&u==="dblclick"?M=$o(r,M):"addEventListener"in r?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?r.addEventListener(Pn[u]||u,M,Pt.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(M=function(X){X=X||window.event,xe(r,X)&&H(X)},r.addEventListener(Pn[u],M,!1)):r.addEventListener(u,H,!1):r.attachEvent("on"+u,M),r[ln]=r[ln]||{},r[ln][A]=M}function yt(r,u,g,S,A){A=A||u+T(g)+(S?"_"+T(S):"");var M=r[ln]&&r[ln][A];if(!M)return this;!Pt.touchNative&&Pt.pointer&&u.indexOf("touch")===0?Cs(r,u,M):Pt.touch&&u==="dblclick"?Ai(r,M):"removeEventListener"in r?r.removeEventListener(Pn[u]||u,M,!1):r.detachEvent("on"+u,M),r[ln][A]=null}function ot(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function Gt(r){return j(r,"wheel",ot),this}function we(r){return Ot(r,"mousedown touchstart dblclick contextmenu",ot),r._leaflet_disable_click=!0,this}function oe(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function Xe(r){return oe(r),ot(r),this}function En(r){if(r.composedPath)return r.composedPath();for(var u=[],g=r.target;g;)u.push(g),g=g.parentNode;return u}function Dn(r,u){if(!u)return new ut(r.clientX,r.clientY);var g=Tn(u),S=g.boundingClientRect;return new ut((r.clientX-S.left)/g.x-u.clientLeft,(r.clientY-S.top)/g.y-u.clientTop)}var ri=Pt.linux&&Pt.chrome?window.devicePixelRatio:Pt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function $e(r){return Pt.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/ri:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function xe(r,u){var g=u.relatedTarget;if(!g)return!0;try{for(;g&&g!==r;)g=g.parentNode}catch{return!1}return g!==r}var Sn={__proto__:null,on:Ot,off:ae,stopPropagation:ot,disableScrollPropagation:Gt,disableClickPropagation:we,preventDefault:oe,stop:Xe,getPropagationPath:En,getMousePosition:Dn,getWheelDelta:$e,isExternalTarget:xe,addListener:Ot,removeListener:ae},Ln=At.extend({run:function(r,u,g,S){this.stop(),this._el=r,this._inProgress=!0,this._duration=g||.25,this._easeOutPower=1/Math.max(S||.5,.2),this._startPos=Yn(r),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=V(this._animate,this),this._step()},_step:function(r){var u=+new Date-this._startTime,g=this._duration*1e3;u<g?this._runFrame(this._easeOut(u/g),r):(this._runFrame(1),this._complete())},_runFrame:function(r,u){var g=this._startPos.add(this._offset.multiplyBy(r));u&&g._round(),ve(this._el,g),this.fire("step")},_complete:function(){J(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),Kt=At.extend({options:{crs:zn,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,u){u=K(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(xt(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Hi&&Pt.any3d&&!Pt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ot(this._proxy,Co,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,u,g){if(u=u===void 0?this._zoom:this._limitZoom(u),r=this._limitCenter(xt(r),u,this.options.maxBounds),g=g||{},this._stop(),this._loaded&&!g.reset&&g!==!0){g.animate!==void 0&&(g.zoom=a({animate:g.animate},g.zoom),g.pan=a({animate:g.animate,duration:g.duration},g.pan));var S=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,u,g.zoom):this._tryAnimatedPan(r,g.pan);if(S)return clearTimeout(this._sizeTimer),this}return this._resetView(r,u,g.pan&&g.pan.noMoveStart),this},setZoom:function(r,u){return this._loaded?this.setView(this.getCenter(),r,{zoom:u}):(this._zoom=r,this)},zoomIn:function(r,u){return r=r||(Pt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,u)},zoomOut:function(r,u){return r=r||(Pt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,u)},setZoomAround:function(r,u,g){var S=this.getZoomScale(u),A=this.getSize().divideBy(2),M=r instanceof ut?r:this.latLngToContainerPoint(r),H=M.subtract(A).multiplyBy(1-1/S),X=this.containerPointToLatLng(A.add(H));return this.setView(X,u,{zoom:g})},_getBoundsCenterZoom:function(r,u){u=u||{},r=r.getBounds?r.getBounds():Tt(r);var g=It(u.paddingTopLeft||u.padding||[0,0]),S=It(u.paddingBottomRight||u.padding||[0,0]),A=this.getBoundsZoom(r,!1,g.add(S));if(A=typeof u.maxZoom=="number"?Math.min(u.maxZoom,A):A,A===1/0)return{center:r.getCenter(),zoom:A};var M=S.subtract(g).divideBy(2),H=this.project(r.getSouthWest(),A),X=this.project(r.getNorthEast(),A),nt=this.unproject(H.add(X).divideBy(2).add(M),A);return{center:nt,zoom:A}},fitBounds:function(r,u){if(r=Tt(r),!r.isValid())throw new Error("Bounds are not valid.");var g=this._getBoundsCenterZoom(r,u);return this.setView(g.center,g.zoom,u)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,u){return this.setView(r,this._zoom,{pan:u})},panBy:function(r,u){if(r=It(r).round(),u=u||{},!r.x&&!r.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ln,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){Mt(this._mapPane,"leaflet-pan-anim");var g=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,g,u.duration||.25,u.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,u,g){if(g=g||{},g.animate===!1||!Pt.any3d)return this.setView(r,u,g);this._stop();var S=this.project(this.getCenter()),A=this.project(r),M=this.getSize(),H=this._zoom;r=xt(r),u=u===void 0?H:u;var X=Math.max(M.x,M.y),nt=X*this.getZoomScale(H,u),mt=A.distanceTo(S)||1,bt=1.42,kt=bt*bt;function Qt(Ye){var Do=Ye?-1:1,Ms=Ye?nt:X,ql=nt*nt-X*X+Do*kt*kt*mt*mt,ma=2*Ms*kt*mt,ga=ql/ma,fs=Math.sqrt(ga*ga+1)-ga,Lo=fs<1e-9?-18:Math.log(fs);return Lo}function gn(Ye){return(Math.exp(Ye)-Math.exp(-Ye))/2}function Qe(Ye){return(Math.exp(Ye)+Math.exp(-Ye))/2}function ci(Ye){return gn(Ye)/Qe(Ye)}var de=Qt(0);function he(Ye){return X*(Qe(de)/Qe(de+bt*Ye))}function ee(Ye){return X*(Qe(de)*ci(de+bt*Ye)-gn(de))/kt}function us(Ye){return 1-Math.pow(1-Ye,1.5)}var Ni=Date.now(),tl=(Qt(1)-de)/bt,cs=g.duration?1e3*g.duration:1e3*tl*.8;function Fl(){var Ye=(Date.now()-Ni)/cs,Do=us(Ye)*tl;Ye<=1?(this._flyToFrame=V(Fl,this),this._move(this.unproject(S.add(A.subtract(S).multiplyBy(ee(Do)/mt)),H),this.getScaleZoom(X/he(Do),H),{flyTo:!0})):this._move(r,u)._moveEnd(!0)}return this._moveStart(!0,g.noMoveStart),Fl.call(this),this},flyToBounds:function(r,u){var g=this._getBoundsCenterZoom(r,u);return this.flyTo(g.center,g.zoom,u)},setMaxBounds:function(r){return r=Tt(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var u=this.options.minZoom;return this.options.minZoom=r,this._loaded&&u!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var u=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&u!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,u){this._enforcingBounds=!0;var g=this.getCenter(),S=this._limitCenter(g,this._zoom,Tt(r));return g.equals(S)||this.panTo(S,u),this._enforcingBounds=!1,this},panInside:function(r,u){u=u||{};var g=It(u.paddingTopLeft||u.padding||[0,0]),S=It(u.paddingBottomRight||u.padding||[0,0]),A=this.project(this.getCenter()),M=this.project(r),H=this.getPixelBounds(),X=ct([H.min.add(g),H.max.subtract(S)]),nt=X.getSize();if(!X.contains(M)){this._enforcingBounds=!0;var mt=M.subtract(X.getCenter()),bt=X.extend(M).getSize().subtract(nt);A.x+=mt.x<0?-bt.x:bt.x,A.y+=mt.y<0?-bt.y:bt.y,this.panTo(this.unproject(A),u),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=a({animate:!1,pan:!0},r===!0?{animate:!0}:r);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var g=this.getSize(),S=u.divideBy(2).round(),A=g.divideBy(2).round(),M=S.subtract(A);return!M.x&&!M.y?this:(r.animate&&r.pan?this.panBy(M):(r.pan&&this._rawPanBy(M),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:g}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=a({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=d(this._handleGeolocationResponse,this),g=d(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,g,r):navigator.geolocation.getCurrentPosition(u,g,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var u=r.code,g=r.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+g+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var u=r.coords.latitude,g=r.coords.longitude,S=new Ct(u,g),A=S.toBounds(r.coords.accuracy*2),M=this._locateOptions;if(M.setView){var H=this.getBoundsZoom(A);this.setView(S,M.maxZoom?Math.min(H,M.maxZoom):H)}var X={latlng:S,bounds:A,timestamp:r.timestamp};for(var nt in r.coords)typeof r.coords[nt]=="number"&&(X[nt]=r.coords[nt]);this.fire("locationfound",X)}},addHandler:function(r,u){if(!u)return this;var g=this[r]=new u(this);return this._handlers.push(g),this.options[r]&&g.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Zt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(J(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)Zt(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,u){var g="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),S=$t("div",g,u||this._mapPane);return r&&(this._panes[r]=S),S},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),u=this.unproject(r.getBottomLeft()),g=this.unproject(r.getTopRight());return new vt(u,g)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,u,g){r=Tt(r),g=It(g||[0,0]);var S=this.getZoom()||0,A=this.getMinZoom(),M=this.getMaxZoom(),H=r.getNorthWest(),X=r.getSouthEast(),nt=this.getSize().subtract(g),mt=ct(this.project(X,S),this.project(H,S)).getSize(),bt=Pt.any3d?this.options.zoomSnap:1,kt=nt.x/mt.x,Qt=nt.y/mt.y,gn=u?Math.max(kt,Qt):Math.min(kt,Qt);return S=this.getScaleZoom(gn,S),bt&&(S=Math.round(S/(bt/100))*(bt/100),S=u?Math.ceil(S/bt)*bt:Math.floor(S/bt)*bt),Math.max(A,Math.min(M,S))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ut(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,u){var g=this._getTopLeftPoint(r,u);return new q(g,g.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,u){var g=this.options.crs;return u=u===void 0?this._zoom:u,g.scale(r)/g.scale(u)},getScaleZoom:function(r,u){var g=this.options.crs;u=u===void 0?this._zoom:u;var S=g.zoom(r*g.scale(u));return isNaN(S)?1/0:S},project:function(r,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(xt(r),u)},unproject:function(r,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(It(r),u)},layerPointToLatLng:function(r){var u=It(r).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(r){var u=this.project(xt(r))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(xt(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(Tt(r))},distance:function(r,u){return this.options.crs.distance(xt(r),xt(u))},containerPointToLayerPoint:function(r){return It(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return It(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var u=this.containerPointToLayerPoint(It(r));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(xt(r)))},mouseEventToContainerPoint:function(r){return Dn(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var u=this._container=Qo(r);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ot(u,"scroll",this._onScroll,this),this._containerId=T(u)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&Pt.any3d,Mt(r,"leaflet-container"+(Pt.touch?" leaflet-touch":"")+(Pt.retina?" leaflet-retina":"")+(Pt.ielt9?" leaflet-oldie":"")+(Pt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=io(r,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ve(this._mapPane,new ut(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Mt(r.markerPane,"leaflet-zoom-hide"),Mt(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,u,g){ve(this._mapPane,new ut(0,0));var S=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var A=this._zoom!==u;this._moveStart(A,g)._move(r,u)._moveEnd(A),this.fire("viewreset"),S&&this.fire("load")},_moveStart:function(r,u){return r&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(r,u,g,S){u===void 0&&(u=this._zoom);var A=this._zoom!==u;return this._zoom=u,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),S?g&&g.pinch&&this.fire("zoom",g):((A||g&&g.pinch)&&this.fire("zoom",g),this.fire("move",g)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return J(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){ve(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[T(this._container)]=this;var u=r?ae:Ot;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Pt.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){J(this._resizeRequest),this._resizeRequest=V(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,u){for(var g=[],S,A=u==="mouseout"||u==="mouseover",M=r.target||r.srcElement,H=!1;M;){if(S=this._targets[T(M)],S&&(u==="click"||u==="preclick")&&this._draggableMoved(S)){H=!0;break}if(S&&S.listens(u,!0)&&(A&&!xe(M,r)||(g.push(S),A))||M===this._container)break;M=M.parentNode}return!g.length&&!H&&!A&&this.listens(u,!0)&&(g=[this]),g},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var u=r.target||r.srcElement;if(!(!this._loaded||u._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(u))){var g=r.type;g==="mousedown"&&so(u),this._fireDOMEvent(r,g)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,u,g){if(r.type==="click"){var S=a({},r);S.type="preclick",this._fireDOMEvent(S,S.type,g)}var A=this._findEventTargets(r,u);if(g){for(var M=[],H=0;H<g.length;H++)g[H].listens(u,!0)&&M.push(g[H]);A=M.concat(A)}if(A.length){u==="contextmenu"&&oe(r);var X=A[0],nt={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var mt=X.getLatLng&&(!X._radius||X._radius<=10);nt.containerPoint=mt?this.latLngToContainerPoint(X.getLatLng()):this.mouseEventToContainerPoint(r),nt.layerPoint=this.containerPointToLayerPoint(nt.containerPoint),nt.latlng=mt?X.getLatLng():this.layerPointToLatLng(nt.layerPoint)}for(H=0;H<A.length;H++)if(A[H].fire(u,nt,!0),nt.originalEvent._stopped||A[H].options.bubblingMouseEvents===!1&&St(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,u=this._handlers.length;r<u;r++)this._handlers[r].disable()},whenReady:function(r,u){return this._loaded?r.call(u||this,{target:this}):this.on("load",r,u),this},_getMapPanePos:function(){return Yn(this._mapPane)||new ut(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,u){var g=r&&u!==void 0?this._getNewPixelOrigin(r,u):this.getPixelOrigin();return g.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,u){var g=this.getSize()._divideBy(2);return this.project(r,u)._subtract(g)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,u,g){var S=this._getNewPixelOrigin(g,u);return this.project(r,u)._subtract(S)},_latLngBoundsToNewLayerBounds:function(r,u,g){var S=this._getNewPixelOrigin(g,u);return ct([this.project(r.getSouthWest(),u)._subtract(S),this.project(r.getNorthWest(),u)._subtract(S),this.project(r.getSouthEast(),u)._subtract(S),this.project(r.getNorthEast(),u)._subtract(S)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,u,g){if(!g)return r;var S=this.project(r,u),A=this.getSize().divideBy(2),M=new q(S.subtract(A),S.add(A)),H=this._getBoundsOffset(M,g,u);return Math.abs(H.x)<=1&&Math.abs(H.y)<=1?r:this.unproject(S.add(H),u)},_limitOffset:function(r,u){if(!u)return r;var g=this.getPixelBounds(),S=new q(g.min.add(r),g.max.add(r));return r.add(this._getBoundsOffset(S,u))},_getBoundsOffset:function(r,u,g){var S=ct(this.project(u.getNorthEast(),g),this.project(u.getSouthWest(),g)),A=S.min.subtract(r.min),M=S.max.subtract(r.max),H=this._rebound(A.x,-M.x),X=this._rebound(A.y,-M.y);return new ut(H,X)},_rebound:function(r,u){return r+u>0?Math.round(r-u)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(u))},_limitZoom:function(r){var u=this.getMinZoom(),g=this.getMaxZoom(),S=Pt.any3d?this.options.zoomSnap:1;return S&&(r=Math.round(r/S)*S),Math.max(u,Math.min(g,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ye(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,u){var g=this._getCenterOffset(r)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(g)?!1:(this.panBy(g,u),!0)},_createAnimProxy:function(){var r=this._proxy=$t("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(u){var g=Zn,S=this._proxy.style[g];pn(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),S===this._proxy.style[g]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Zt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),u=this.getZoom();pn(this._proxy,this.project(r,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,u,g){if(this._animatingZoom)return!0;if(g=g||{},!this._zoomAnimated||g.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var S=this.getZoomScale(u),A=this._getCenterOffset(r)._divideBy(1-1/S);return g.animate!==!0&&!this.getSize().contains(A)?!1:(V(function(){this._moveStart(!0,g.noMoveStart||!1)._animateZoom(r,u,!0)},this),!0)},_animateZoom:function(r,u,g,S){this._mapPane&&(g&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=u,Mt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:u,noUpdate:S}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ye(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ns(r,u){return new Kt(r,u)}var wn=Ut.extend({options:{position:"topright"},initialize:function(r){K(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var u=this._map;return u&&u.removeControl(this),this.options.position=r,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var u=this._container=this.onAdd(r),g=this.getPosition(),S=r._controlCorners[g];return Mt(u,"leaflet-control"),g.indexOf("bottom")!==-1?S.insertBefore(u,S.firstChild):S.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Zt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),Wn=function(r){return new wn(r)};Kt.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},u="leaflet-",g=this._controlContainer=$t("div",u+"control-container",this._container);function S(A,M){var H=u+A+" "+u+M;r[A+M]=$t("div",H,g)}S("top","left"),S("top","right"),S("bottom","left"),S("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)Zt(this._controlCorners[r]);Zt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var xs=wn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,u,g,S){return g<S?-1:S<g?1:0}},initialize:function(r,u,g){K(this,g),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var S in r)this._addLayer(r[S],S);for(S in u)this._addLayer(u[S],S,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return wn.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,u){return this._addLayer(r,u),this._map?this._update():this},addOverlay:function(r,u){return this._addLayer(r,u,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var u=this._getLayer(T(r));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){Mt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(Mt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):ye(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ye(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",u=this._container=$t("div",r),g=this.options.collapsed;u.setAttribute("aria-haspopup",!0),we(u),Gt(u);var S=this._section=$t("section",r+"-list");g&&(this._map.on("click",this.collapse,this),Ot(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var A=this._layersLink=$t("a",r+"-toggle",u);A.href="#",A.title="Layers",A.setAttribute("role","button"),Ot(A,{keydown:function(M){M.keyCode===13&&this._expandSafely()},click:function(M){oe(M),this._expandSafely()}},this),g||this.expand(),this._baseLayersList=$t("div",r+"-base",S),this._separator=$t("div",r+"-separator",S),this._overlaysList=$t("div",r+"-overlays",S),u.appendChild(S)},_getLayer:function(r){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&T(this._layers[u].layer)===r)return this._layers[u]},_addLayer:function(r,u,g){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:u,overlay:g}),this.options.sortLayers&&this._layers.sort(d(function(S,A){return this.options.sortFunction(S.layer,A.layer,S.name,A.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Re(this._baseLayersList),Re(this._overlaysList),this._layerControlInputs=[];var r,u,g,S,A=0;for(g=0;g<this._layers.length;g++)S=this._layers[g],this._addItem(S),u=u||S.overlay,r=r||!S.overlay,A+=S.overlay?0:1;return this.options.hideSingleBase&&(r=r&&A>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=u&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var u=this._getLayer(T(r.target)),g=u.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;g&&this._map.fire(g,u)},_createRadioElement:function(r,u){var g='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(u?' checked="checked"':"")+"/>",S=document.createElement("div");return S.innerHTML=g,S.firstChild},_addItem:function(r){var u=document.createElement("label"),g=this._map.hasLayer(r.layer),S;r.overlay?(S=document.createElement("input"),S.type="checkbox",S.className="leaflet-control-layers-selector",S.defaultChecked=g):S=this._createRadioElement("leaflet-base-layers_"+T(this),g),this._layerControlInputs.push(S),S.layerId=T(r.layer),Ot(S,"click",this._onInputClick,this);var A=document.createElement("span");A.innerHTML=" "+r.name;var M=document.createElement("span");u.appendChild(M),M.appendChild(S),M.appendChild(A);var H=r.overlay?this._overlaysList:this._baseLayersList;return H.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,u,g,S=[],A=[];this._handlingClick=!0;for(var M=r.length-1;M>=0;M--)u=r[M],g=this._getLayer(u.layerId).layer,u.checked?S.push(g):u.checked||A.push(g);for(M=0;M<A.length;M++)this._map.hasLayer(A[M])&&this._map.removeLayer(A[M]);for(M=0;M<S.length;M++)this._map.hasLayer(S[M])||this._map.addLayer(S[M]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,u,g,S=this._map.getZoom(),A=r.length-1;A>=0;A--)u=r[A],g=this._getLayer(u.layerId).layer,u.disabled=g.options.minZoom!==void 0&&S<g.options.minZoom||g.options.maxZoom!==void 0&&S>g.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,Ot(r,"click",oe),this.expand();var u=this;setTimeout(function(){ae(r,"click",oe),u._preventClick=!1})}}),Wr=function(r,u,g){return new xs(r,u,g)},Ro=wn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var u="leaflet-control-zoom",g=$t("div",u+" leaflet-bar"),S=this.options;return this._zoomInButton=this._createButton(S.zoomInText,S.zoomInTitle,u+"-in",g,this._zoomIn),this._zoomOutButton=this._createButton(S.zoomOutText,S.zoomOutTitle,u+"-out",g,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),g},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,u,g,S,A){var M=$t("a",g,S);return M.innerHTML=r,M.href="#",M.title=u,M.setAttribute("role","button"),M.setAttribute("aria-label",u),we(M),Ot(M,"click",Xe),Ot(M,"click",A,this),Ot(M,"click",this._refocusOnMap,this),M},_updateDisabled:function(){var r=this._map,u="leaflet-disabled";ye(this._zoomInButton,u),ye(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(Mt(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(Mt(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Kt.mergeOptions({zoomControl:!0}),Kt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ro,this.addControl(this.zoomControl))});var Fa=function(r){return new Ro(r)},Xr=wn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var u="leaflet-control-scale",g=$t("div",u),S=this.options;return this._addScales(S,u+"-line",g),r.on(S.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),g},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,u,g){r.metric&&(this._mScale=$t("div",u,g)),r.imperial&&(this._iScale=$t("div",u,g))},_update:function(){var r=this._map,u=r.getSize().y/2,g=r.distance(r.containerPointToLatLng([0,u]),r.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(g)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var u=this._getRoundNum(r),g=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,g,u/r)},_updateImperial:function(r){var u=r*3.2808399,g,S,A;u>5280?(g=u/5280,S=this._getRoundNum(g),this._updateScale(this._iScale,S+" mi",S/g)):(A=this._getRoundNum(u),this._updateScale(this._iScale,A+" ft",A/u))},_updateScale:function(r,u,g){r.style.width=Math.round(this.options.maxWidth*g)+"px",r.innerHTML=u},_getRoundNum:function(r){var u=Math.pow(10,(Math.floor(r)+"").length-1),g=r/u;return g=g>=10?10:g>=5?5:g>=3?3:g>=2?2:1,u*g}}),bs=function(r){return new Xr(r)},$r='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ir=wn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Pt.inlineSvg?$r+" ":"")+"Leaflet</a>"},initialize:function(r){K(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=$t("div","leaflet-control-attribution"),we(this._container);for(var u in r._layers)r._layers[u].getAttribution&&this.addAttribution(r._layers[u].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var u in this._attributions)this._attributions[u]&&r.push(u);var g=[];this.options.prefix&&g.push(this.options.prefix),r.length&&g.push(r.join(", ")),this._container.innerHTML=g.join(' <span aria-hidden="true">|</span> ')}}});Kt.mergeOptions({attributionControl:!0}),Kt.addInitHook(function(){this.options.attributionControl&&new ir().addTo(this)});var or=function(r){return new ir(r)};wn.Layers=xs,wn.Zoom=Ro,wn.Scale=Xr,wn.Attribution=ir,Wn.layers=Wr,Wn.zoom=Fa,Wn.scale=bs,Wn.attribution=or;var ai=Ut.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ai.addTo=function(r,u){return r.addHandler(u,this),this};var qa={Events:rt},Fi=Pt.touch?"touchstart mousedown":"mousedown",qi=At.extend({options:{clickTolerance:3},initialize:function(r,u,g,S){K(this,S),this._element=r,this._dragStartTarget=u||r,this._preventOutline=g},enable:function(){this._enabled||(Ot(this._dragStartTarget,Fi,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(qi._dragging===this&&this.finishDrag(!0),ae(this._dragStartTarget,Fi,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!Ao(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){qi._dragging===this&&this.finishDrag();return}if(!(qi._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(qi._dragging=this,this._preventOutline&&so(this._element),bo(),Kn(),!this._moving)){this.fire("down");var u=r.touches?r.touches[0]:r,g=es(this._element);this._startPoint=new ut(u.clientX,u.clientY),this._startPos=Yn(this._element),this._parentScale=Tn(g);var S=r.type==="mousedown";Ot(document,S?"mousemove":"touchmove",this._onMove,this),Ot(document,S?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var u=r.touches&&r.touches.length===1?r.touches[0]:r,g=new ut(u.clientX,u.clientY)._subtract(this._startPoint);!g.x&&!g.y||Math.abs(g.x)+Math.abs(g.y)<this.options.clickTolerance||(g.x/=this._parentScale.x,g.y/=this._parentScale.y,oe(r),this._moved||(this.fire("dragstart"),this._moved=!0,Mt(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Mt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(g),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),ve(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){ye(document.body,"leaflet-dragging"),this._lastTarget&&(ye(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ae(document,"mousemove touchmove",this._onMove,this),ae(document,"mouseup touchend touchcancel",this._onUp,this),oo(),We();var u=this._moved&&this._moving;this._moving=!1,qi._dragging=!1,u&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function Qr(r,u,g){var S,A=[1,4,2,8],M,H,X,nt,mt,bt,kt,Qt;for(M=0,bt=r.length;M<bt;M++)r[M]._code=wt(r[M],u);for(X=0;X<4;X++){for(kt=A[X],S=[],M=0,bt=r.length,H=bt-1;M<bt;H=M++)nt=r[M],mt=r[H],nt._code&kt?mt._code&kt||(Qt=st(mt,nt,kt,u,g),Qt._code=wt(Qt,u),S.push(Qt)):(mt._code&kt&&(Qt=st(mt,nt,kt,u,g),Qt._code=wt(Qt,u),S.push(Qt)),S.push(nt));r=S}return r}function jr(r,u){var g,S,A,M,H,X,nt,mt,bt;if(!r||r.length===0)throw new Error("latlngs not passed");Wt(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var kt=xt([0,0]),Qt=Tt(r),gn=Qt.getNorthWest().distanceTo(Qt.getSouthWest())*Qt.getNorthEast().distanceTo(Qt.getNorthWest());gn<1700&&(kt=sr(r));var Qe=r.length,ci=[];for(g=0;g<Qe;g++){var de=xt(r[g]);ci.push(u.project(xt([de.lat-kt.lat,de.lng-kt.lng])))}for(X=nt=mt=0,g=0,S=Qe-1;g<Qe;S=g++)A=ci[g],M=ci[S],H=A.y*M.x-M.y*A.x,nt+=(A.x+M.x)*H,mt+=(A.y+M.y)*H,X+=H*3;X===0?bt=ci[0]:bt=[nt/X,mt/X];var he=u.unproject(It(bt));return xt([he.lat+kt.lat,he.lng+kt.lng])}function sr(r){for(var u=0,g=0,S=0,A=0;A<r.length;A++){var M=xt(r[A]);u+=M.lat,g+=M.lng,S++}return xt([u/S,g/S])}var Cn={__proto__:null,clipPolygon:Qr,polygonCenter:jr,centroid:sr};function ta(r,u){if(!u||!r.length)return r.slice();var g=u*u;return r=R(r,g),r=m(r,g),r}function ea(r,u,g){return Math.sqrt(ke(r,u,g,!0))}function is(r,u,g){return ke(r,u,g)}function m(r,u){var g=r.length,S=typeof Uint8Array<"u"?Uint8Array:Array,A=new S(g);A[0]=A[g-1]=1,C(r,A,u,0,g-1);var M,H=[];for(M=0;M<g;M++)A[M]&&H.push(r[M]);return H}function C(r,u,g,S,A){var M=0,H,X,nt;for(X=S+1;X<=A-1;X++)nt=ke(r[X],r[S],r[A],!0),nt>M&&(H=X,M=nt);M>g&&(u[H]=1,C(r,u,g,S,H),C(r,u,g,H,A))}function R(r,u){for(var g=[r[0]],S=1,A=0,M=r.length;S<M;S++)Jt(r[S],r[A])>u&&(g.push(r[S]),A=S);return A<M-1&&g.push(r[M-1]),g}var D;function Q(r,u,g,S,A){var M=S?D:wt(r,g),H=wt(u,g),X,nt,mt;for(D=H;;){if(!(M|H))return[r,u];if(M&H)return!1;X=M||H,nt=st(r,u,X,g,A),mt=wt(nt,g),X===M?(r=nt,M=mt):(u=nt,H=mt)}}function st(r,u,g,S,A){var M=u.x-r.x,H=u.y-r.y,X=S.min,nt=S.max,mt,bt;return g&8?(mt=r.x+M*(nt.y-r.y)/H,bt=nt.y):g&4?(mt=r.x+M*(X.y-r.y)/H,bt=X.y):g&2?(mt=nt.x,bt=r.y+H*(nt.x-r.x)/M):g&1&&(mt=X.x,bt=r.y+H*(X.x-r.x)/M),new ut(mt,bt,A)}function wt(r,u){var g=0;return r.x<u.min.x?g|=1:r.x>u.max.x&&(g|=2),r.y<u.min.y?g|=4:r.y>u.max.y&&(g|=8),g}function Jt(r,u){var g=u.x-r.x,S=u.y-r.y;return g*g+S*S}function ke(r,u,g,S){var A=u.x,M=u.y,H=g.x-A,X=g.y-M,nt=H*H+X*X,mt;return nt>0&&(mt=((r.x-A)*H+(r.y-M)*X)/nt,mt>1?(A=g.x,M=g.y):mt>0&&(A+=H*mt,M+=X*mt)),H=r.x-A,X=r.y-M,S?H*H+X*X:new ut(A,M)}function Wt(r){return!lt(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function Ve(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Wt(r)}function mn(r,u){var g,S,A,M,H,X,nt,mt;if(!r||r.length===0)throw new Error("latlngs not passed");Wt(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var bt=xt([0,0]),kt=Tt(r),Qt=kt.getNorthWest().distanceTo(kt.getSouthWest())*kt.getNorthEast().distanceTo(kt.getNorthWest());Qt<1700&&(bt=sr(r));var gn=r.length,Qe=[];for(g=0;g<gn;g++){var ci=xt(r[g]);Qe.push(u.project(xt([ci.lat-bt.lat,ci.lng-bt.lng])))}for(g=0,S=0;g<gn-1;g++)S+=Qe[g].distanceTo(Qe[g+1])/2;if(S===0)mt=Qe[0];else for(g=0,M=0;g<gn-1;g++)if(H=Qe[g],X=Qe[g+1],A=H.distanceTo(X),M+=A,M>S){nt=(M-S)/A,mt=[X.x-nt*(X.x-H.x),X.y-nt*(X.y-H.y)];break}var de=u.unproject(It(mt));return xt([de.lat+bt.lat,de.lng+bt.lng])}var No={__proto__:null,simplify:ta,pointToSegmentDistance:ea,closestPointOnSegment:is,clipSegment:Q,_getEdgeIntersection:st,_getBitCode:wt,_sqClosestPointOnSegment:ke,isFlat:Wt,_flat:Ve,polylineCenter:mn},li={project:function(r){return new ut(r.lng,r.lat)},unproject:function(r){return new Ct(r.y,r.x)},bounds:new q([-180,-90],[180,90])},ui={R:6378137,R_MINOR:6356752314245179e-9,bounds:new q([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var u=Math.PI/180,g=this.R,S=r.lat*u,A=this.R_MINOR/g,M=Math.sqrt(1-A*A),H=M*Math.sin(S),X=Math.tan(Math.PI/4-S/2)/Math.pow((1-H)/(1+H),M/2);return S=-g*Math.log(Math.max(X,1e-10)),new ut(r.lng*u*g,S)},unproject:function(r){for(var u=180/Math.PI,g=this.R,S=this.R_MINOR/g,A=Math.sqrt(1-S*S),M=Math.exp(-r.y/g),H=Math.PI/2-2*Math.atan(M),X=0,nt=.1,mt;X<15&&Math.abs(nt)>1e-7;X++)mt=A*Math.sin(H),mt=Math.pow((1-mt)/(1+mt),A/2),nt=Math.PI/2-2*Math.atan(M*mt)-H,H+=nt;return new Ct(H*u,r.x*u/g)}},Is={__proto__:null,LonLat:li,Mercator:ui,SphericalMercator:Ui},rr=a({},_e,{code:"EPSG:3395",projection:ui,transformation:(function(){var r=.5/(Math.PI*ui.R);return jn(r,.5,-r,.5)})()}),zl=a({},_e,{code:"EPSG:4326",projection:li,transformation:jn(1/180,1,-1/180,.5)}),ar=a({},Vt,{projection:li,transformation:jn(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,u){var g=u.lng-r.lng,S=u.lat-r.lat;return Math.sqrt(g*g+S*S)},infinite:!0});Vt.Earth=_e,Vt.EPSG3395=rr,Vt.EPSG3857=zn,Vt.EPSG900913=ti,Vt.EPSG4326=zl,Vt.Simple=ar;var Zi=At.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[T(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[T(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var u=r.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var g=this.getEvents();u.on(g,this),this.once("remove",function(){u.off(g,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Kt.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var u=T(r);return this._layers[u]?this:(this._layers[u]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var u=T(r);return this._layers[u]?(this._loaded&&r.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return T(r)in this._layers},eachLayer:function(r,u){for(var g in this._layers)r.call(u,this._layers[g]);return this},_addLayers:function(r){r=r?lt(r)?r:[r]:[];for(var u=0,g=r.length;u<g;u++)this.addLayer(r[u])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[T(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var u=T(r);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,u=-1/0,g=this._getZoomSpan();for(var S in this._zoomBoundLayers){var A=this._zoomBoundLayers[S].options;r=A.minZoom===void 0?r:Math.min(r,A.minZoom),u=A.maxZoom===void 0?u:Math.max(u,A.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=r===1/0?void 0:r,g!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var lr=Zi.extend({initialize:function(r,u){K(this,u),this._layers={};var g,S;if(r)for(g=0,S=r.length;g<S;g++)this.addLayer(r[g])},addLayer:function(r){var u=this.getLayerId(r);return this._layers[u]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var u=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(r){var u=typeof r=="number"?r:this.getLayerId(r);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var u=Array.prototype.slice.call(arguments,1),g,S;for(g in this._layers)S=this._layers[g],S[r]&&S[r].apply(S,u);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,u){for(var g in this._layers)r.call(u,this._layers[g]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return T(r)}}),nd=function(r,u){return new lr(r,u)},ao=lr.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),lr.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),lr.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new vt;for(var u in this._layers){var g=this._layers[u];r.extend(g.getBounds?g.getBounds():g.getLatLng())}return r}}),$u=function(r,u){return new ao(r,u)},lo=Ut.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){K(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,u){var g=this._getIconUrl(r);if(!g){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var S=this._createImg(g,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(S,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(S.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),S},_setIconStyles:function(r,u){var g=this.options,S=g[u+"Size"];typeof S=="number"&&(S=[S,S]);var A=It(S),M=It(u==="shadow"&&g.shadowAnchor||g.iconAnchor||A&&A.divideBy(2,!0));r.className="leaflet-marker-"+u+" "+(g.className||""),M&&(r.style.marginLeft=-M.x+"px",r.style.marginTop=-M.y+"px"),A&&(r.style.width=A.x+"px",r.style.height=A.y+"px")},_createImg:function(r,u){return u=u||document.createElement("img"),u.src=r,u},_getIconUrl:function(r){return Pt.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function na(r){return new lo(r)}var ia=lo.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof ia.imagePath!="string"&&(ia.imagePath=this._detectIconPath()),(this.options.imagePath||ia.imagePath)+lo.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var u=function(g,S,A){var M=S.exec(g);return M&&M[A]};return r=u(r,/^url\((['"])?(.+)\1\)$/,2),r&&u(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=$t("div","leaflet-default-icon-path",document.body),u=io(r,"background-image")||io(r,"backgroundImage");if(document.body.removeChild(r),u=this._stripUrl(u),u)return u;var g=document.querySelector('link[href$="leaflet.css"]');return g?g.href.substring(0,g.href.length-11-1):""}}),oa=ai.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new qi(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Mt(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ye(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var u=this._marker,g=u._map,S=this._marker.options.autoPanSpeed,A=this._marker.options.autoPanPadding,M=Yn(u._icon),H=g.getPixelBounds(),X=g.getPixelOrigin(),nt=ct(H.min._subtract(X).add(A),H.max._subtract(X).subtract(A));if(!nt.contains(M)){var mt=It((Math.max(nt.max.x,M.x)-nt.max.x)/(H.max.x-nt.max.x)-(Math.min(nt.min.x,M.x)-nt.min.x)/(H.min.x-nt.min.x),(Math.max(nt.max.y,M.y)-nt.max.y)/(H.max.y-nt.max.y)-(Math.min(nt.min.y,M.y)-nt.min.y)/(H.min.y-nt.min.y)).multiplyBy(S);g.panBy(mt,{animate:!1}),this._draggable._newPos._add(mt),this._draggable._startPos._add(mt),ve(u._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=V(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(J(this._panRequest),this._panRequest=V(this._adjustPan.bind(this,r)))},_onDrag:function(r){var u=this._marker,g=u._shadow,S=Yn(u._icon),A=u._map.layerPointToLatLng(S);g&&ve(g,S),u._latlng=A,r.latlng=A,r.oldLatLng=this._oldLatLng,u.fire("move",r).fire("drag",r)},_onDragEnd:function(r){J(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),sa=Zi.extend({options:{icon:new ia,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,u){K(this,u),this._latlng=xt(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var u=this._latlng;return this._latlng=xt(r),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),g=r.icon.createIcon(this._icon),S=!1;g!==this._icon&&(this._icon&&this._removeIcon(),S=!0,r.title&&(g.title=r.title),g.tagName==="IMG"&&(g.alt=r.alt||"")),Mt(g,u),r.keyboard&&(g.tabIndex="0",g.setAttribute("role","button")),this._icon=g,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ot(g,"focus",this._panOnFocus,this);var A=r.icon.createShadow(this._shadow),M=!1;A!==this._shadow&&(this._removeShadow(),M=!0),A&&(Mt(A,u),A.alt=""),this._shadow=A,r.opacity<1&&this._updateOpacity(),S&&this.getPane().appendChild(this._icon),this._initInteraction(),A&&M&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ae(this._icon,"focus",this._panOnFocus,this),Zt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Zt(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&ve(this._icon,r),this._shadow&&ve(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var u=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(Mt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),oa)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new oa(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&Ae(this._icon,r),this._shadow&&Ae(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var u=this.options.icon.options,g=u.iconSize?It(u.iconSize):It(0,0),S=u.iconAnchor?It(u.iconAnchor):It(0,0);r.panInside(this._latlng,{paddingTopLeft:S,paddingBottomRight:g.subtract(S)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Qu(r,u){return new sa(r,u)}var uo=Zi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return K(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ur=uo.extend({options:{fill:!0,radius:10},initialize:function(r,u){K(this,u),this._latlng=xt(r),this._radius=this.options.radius},setLatLng:function(r){var u=this._latlng;return this._latlng=xt(r),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var u=r&&r.radius||this._radius;return uo.prototype.setStyle.call(this,r),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,u=this._radiusY||r,g=this._clickTolerance(),S=[r+g,u+g];this._pxBounds=new q(this._point.subtract(S),this._point.add(S))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ju(r,u){return new ur(r,u)}var Za=ur.extend({initialize:function(r,u,g){if(typeof u=="number"&&(u=a({},g,{radius:u})),K(this,u),this._latlng=xt(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new vt(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:uo.prototype.setStyle,_project:function(){var r=this._latlng.lng,u=this._latlng.lat,g=this._map,S=g.options.crs;if(S.distance===_e.distance){var A=Math.PI/180,M=this._mRadius/_e.R/A,H=g.project([u+M,r]),X=g.project([u-M,r]),nt=H.add(X).divideBy(2),mt=g.unproject(nt).lat,bt=Math.acos((Math.cos(M*A)-Math.sin(u*A)*Math.sin(mt*A))/(Math.cos(u*A)*Math.cos(mt*A)))/A;(isNaN(bt)||bt===0)&&(bt=M/Math.cos(Math.PI/180*u)),this._point=nt.subtract(g.getPixelOrigin()),this._radius=isNaN(bt)?0:nt.x-g.project([mt,r-bt]).x,this._radiusY=nt.y-H.y}else{var kt=S.unproject(S.project(this._latlng).subtract([this._mRadius,0]));this._point=g.latLngToLayerPoint(this._latlng),this._radius=this._point.x-g.latLngToLayerPoint(kt).x}this._updateBounds()}});function tc(r,u,g){return new Za(r,u,g)}var Mo=uo.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,u){K(this,u),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var u=1/0,g=null,S=ke,A,M,H=0,X=this._parts.length;H<X;H++)for(var nt=this._parts[H],mt=1,bt=nt.length;mt<bt;mt++){A=nt[mt-1],M=nt[mt];var kt=S(r,A,M,!0);kt<u&&(u=kt,g=S(r,A,M))}return g&&(g.distance=Math.sqrt(u)),g},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return mn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,u){return u=u||this._defaultShape(),r=xt(r),u.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new vt,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return Wt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var u=[],g=Wt(r),S=0,A=r.length;S<A;S++)g?(u[S]=xt(r[S]),this._bounds.extend(u[S])):u[S]=this._convertLatLngs(r[S]);return u},_project:function(){var r=new q;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),u=new ut(r,r);this._rawPxBounds&&(this._pxBounds=new q([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(r,u,g){var S=r[0]instanceof Ct,A=r.length,M,H;if(S){for(H=[],M=0;M<A;M++)H[M]=this._map.latLngToLayerPoint(r[M]),g.extend(H[M]);u.push(H)}else for(M=0;M<A;M++)this._projectLatlngs(r[M],u,g)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,g,S,A,M,H,X,nt;for(g=0,A=0,M=this._rings.length;g<M;g++)for(nt=this._rings[g],S=0,H=nt.length;S<H-1;S++)X=Q(nt[S],nt[S+1],r,S,!0),X&&(u[A]=u[A]||[],u[A].push(X[0]),(X[1]!==nt[S+1]||S===H-2)&&(u[A].push(X[1]),A++))}},_simplifyPoints:function(){for(var r=this._parts,u=this.options.smoothFactor,g=0,S=r.length;g<S;g++)r[g]=ta(r[g],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,u){var g,S,A,M,H,X,nt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(g=0,M=this._parts.length;g<M;g++)for(X=this._parts[g],S=0,H=X.length,A=H-1;S<H;A=S++)if(!(!u&&S===0)&&ea(r,X[A],X[S])<=nt)return!0;return!1}});function id(r,u){return new Mo(r,u)}Mo._flat=Ve;var cr=Mo.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return jr(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var u=Mo.prototype._convertLatLngs.call(this,r),g=u.length;return g>=2&&u[0]instanceof Ct&&u[0].equals(u[g-1])&&u.pop(),u},_setLatLngs:function(r){Mo.prototype._setLatLngs.call(this,r),Wt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Wt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,u=this.options.weight,g=new ut(u,u);if(r=new q(r.min.subtract(g),r.max.add(g)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var S=0,A=this._rings.length,M;S<A;S++)M=Qr(this._rings[S],r,!0),M.length&&this._parts.push(M)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var u=!1,g,S,A,M,H,X,nt,mt;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(M=0,nt=this._parts.length;M<nt;M++)for(g=this._parts[M],H=0,mt=g.length,X=mt-1;H<mt;X=H++)S=g[H],A=g[X],S.y>r.y!=A.y>r.y&&r.x<(A.x-S.x)*(r.y-S.y)/(A.y-S.y)+S.x&&(u=!u);return u||Mo.prototype._containsPoint.call(this,r,!0)}});function od(r,u){return new cr(r,u)}var Po=ao.extend({initialize:function(r,u){K(this,u),this._layers={},r&&this.addData(r)},addData:function(r){var u=lt(r)?r:r.features,g,S,A;if(u){for(g=0,S=u.length;g<S;g++)A=u[g],(A.geometries||A.geometry||A.features||A.coordinates)&&this.addData(A);return this}var M=this.options;if(M.filter&&!M.filter(r))return this;var H=An(r,M);return H?(H.feature=Ka(r),H.defaultOptions=H.options,this.resetStyle(H),M.onEachFeature&&M.onEachFeature(r,H),this.addLayer(H)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=a({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(u){this._setLayerStyle(u,r)},this)},_setLayerStyle:function(r,u){r.setStyle&&(typeof u=="function"&&(u=u(r.feature)),r.setStyle(u))}});function An(r,u){var g=r.type==="Feature"?r.geometry:r,S=g?g.coordinates:null,A=[],M=u&&u.pointToLayer,H=u&&u.coordsToLatLng||Ja,X,nt,mt,bt;if(!S&&!g)return null;switch(g.type){case"Point":return X=H(S),fr(M,r,X,u);case"MultiPoint":for(mt=0,bt=S.length;mt<bt;mt++)X=H(S[mt]),A.push(fr(M,r,X,u));return new ao(A);case"LineString":case"MultiLineString":return nt=ra(S,g.type==="LineString"?0:1,H),new Mo(nt,u);case"Polygon":case"MultiPolygon":return nt=ra(S,g.type==="Polygon"?1:2,H),new cr(nt,u);case"GeometryCollection":for(mt=0,bt=g.geometries.length;mt<bt;mt++){var kt=An({geometry:g.geometries[mt],type:"Feature",properties:r.properties},u);kt&&A.push(kt)}return new ao(A);case"FeatureCollection":for(mt=0,bt=g.features.length;mt<bt;mt++){var Qt=An(g.features[mt],u);Qt&&A.push(Qt)}return new ao(A);default:throw new Error("Invalid GeoJSON object.")}}function fr(r,u,g,S){return r?r(u,g):new sa(g,S&&S.markersInheritOptions&&S)}function Ja(r){return new Ct(r[1],r[0],r[2])}function ra(r,u,g){for(var S=[],A=0,M=r.length,H;A<M;A++)H=u?ra(r[A],u-1,g):(g||Ja)(r[A]),S.push(H);return S}function Ya(r,u){return r=xt(r),r.alt!==void 0?[b(r.lng,u),b(r.lat,u),b(r.alt,u)]:[b(r.lng,u),b(r.lat,u)]}function aa(r,u,g,S){for(var A=[],M=0,H=r.length;M<H;M++)A.push(u?aa(r[M],Wt(r[M])?0:u-1,g,S):Ya(r[M],S));return!u&&g&&A.length>0&&A.push(A[0].slice()),A}function os(r,u){return r.feature?a({},r.feature,{geometry:u}):Ka(u)}function Ka(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var ss={toGeoJSON:function(r){return os(this,{type:"Point",coordinates:Ya(this.getLatLng(),r)})}};sa.include(ss),Za.include(ss),ur.include(ss),Mo.include({toGeoJSON:function(r){var u=!Wt(this._latlngs),g=aa(this._latlngs,u?1:0,!1,r);return os(this,{type:(u?"Multi":"")+"LineString",coordinates:g})}}),cr.include({toGeoJSON:function(r){var u=!Wt(this._latlngs),g=u&&!Wt(this._latlngs[0]),S=aa(this._latlngs,g?2:u?1:0,!0,r);return u||(S=[S]),os(this,{type:(g?"Multi":"")+"Polygon",coordinates:S})}}),lr.include({toMultiPoint:function(r){var u=[];return this.eachLayer(function(g){u.push(g.toGeoJSON(r).geometry.coordinates)}),os(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(r){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(r);var g=u==="GeometryCollection",S=[];return this.eachLayer(function(A){if(A.toGeoJSON){var M=A.toGeoJSON(r);if(g)S.push(M.geometry);else{var H=Ka(M);H.type==="FeatureCollection"?S.push.apply(S,H.features):S.push(H)}}}),g?os(this,{geometries:S,type:"GeometryCollection"}):{type:"FeatureCollection",features:S}}});function Wa(r,u){return new Po(r,u)}var la=Wa,dr=Zi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,u,g){this._url=r,this._bounds=Tt(u),K(this,g)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Mt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Zt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&Le(this._image),this},bringToBack:function(){return this._map&&yn(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=Tt(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",u=this._image=r?this._url:$t("img");if(Mt(u,"leaflet-image-layer"),this._zoomAnimated&&Mt(u,"leaflet-zoom-animated"),this.options.className&&Mt(u,this.options.className),u.onselectstart=x,u.onmousemove=x,u.onload=d(this.fire,this,"load"),u.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(r){var u=this._map.getZoomScale(r.zoom),g=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;pn(this._image,g,u)},_reset:function(){var r=this._image,u=new q(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),g=u.getSize();ve(r,u.min),r.style.width=g.x+"px",r.style.height=g.y+"px"},_updateOpacity:function(){Ae(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),ec=function(r,u,g){return new dr(r,u,g)},rs=dr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",u=this._image=r?this._url:$t("video");if(Mt(u,"leaflet-image-layer"),this._zoomAnimated&&Mt(u,"leaflet-zoom-animated"),this.options.className&&Mt(u,this.options.className),u.onselectstart=x,u.onmousemove=x,u.onloadeddata=d(this.fire,this,"load"),r){for(var g=u.getElementsByTagName("source"),S=[],A=0;A<g.length;A++)S.push(g[A].src);this._url=g.length>0?S:[u.src];return}lt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var M=0;M<this._url.length;M++){var H=$t("source");H.src=this._url[M],u.appendChild(H)}}});function hr(r,u,g){return new rs(r,u,g)}var Xa=dr.extend({_initImage:function(){var r=this._image=this._url;Mt(r,"leaflet-image-layer"),this._zoomAnimated&&Mt(r,"leaflet-zoom-animated"),this.options.className&&Mt(r,this.options.className),r.onselectstart=x,r.onmousemove=x}});function nc(r,u,g){return new Xa(r,u,g)}var xn=Zi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,u){r&&(r instanceof Ct||lt(r))?(this._latlng=xt(r),K(this,u)):(K(this,r),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&Ae(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&Ae(this._container,1),this.bringToFront(),this.options.interactive&&(Mt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(Ae(this._container,0),this._removeTimeout=setTimeout(d(Zt,void 0,this._container),200)):Zt(this._container),this.options.interactive&&(ye(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=xt(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Le(this._container),this},bringToBack:function(){return this._map&&yn(this._container),this},_prepareOpen:function(r){var u=this._source;if(!u._map)return!1;if(u instanceof ao){u=null;var g=this._source._layers;for(var S in g)if(g[S]._map){u=g[S];break}if(!u)return!1;this._source=u}if(!r)if(u.getCenter)r=u.getCenter();else if(u.getLatLng)r=u.getLatLng();else if(u.getBounds)r=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")r.innerHTML=u;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),u=It(this.options.offset),g=this._getAnchor();this._zoomAnimated?ve(this._container,r.add(g)):u=u.add(r).add(g);var S=this._containerBottom=-u.y,A=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=S+"px",this._container.style.left=A+"px"}},_getAnchor:function(){return[0,0]}});Kt.include({_initOverlay:function(r,u,g,S){var A=u;return A instanceof r||(A=new r(S).setContent(u)),g&&A.setLatLng(g),A}}),Zi.include({_initOverlay:function(r,u,g,S){var A=g;return A instanceof r?(K(A,S),A._source=this):(A=u&&!S?u:new r(S,this),A.setContent(g)),A}});var ua=xn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,xn.prototype.openOn.call(this,r)},onAdd:function(r){xn.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof uo||this._source.on("preclick",ot))},onRemove:function(r){xn.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof uo||this._source.off("preclick",ot))},getEvents:function(){var r=xn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",u=this._container=$t("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),g=this._wrapper=$t("div",r+"-content-wrapper",u);if(this._contentNode=$t("div",r+"-content",g),we(u),Gt(this._contentNode),Ot(u,"contextmenu",ot),this._tipContainer=$t("div",r+"-tip-container",u),this._tip=$t("div",r+"-tip",this._tipContainer),this.options.closeButton){var S=this._closeButton=$t("a",r+"-close-button",u);S.setAttribute("role","button"),S.setAttribute("aria-label","Close popup"),S.href="#close",S.innerHTML='<span aria-hidden="true">&#215;</span>',Ot(S,"click",function(A){oe(A),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,u=r.style;u.width="",u.whiteSpace="nowrap";var g=r.offsetWidth;g=Math.min(g,this.options.maxWidth),g=Math.max(g,this.options.minWidth),u.width=g+1+"px",u.whiteSpace="",u.height="";var S=r.offsetHeight,A=this.options.maxHeight,M="leaflet-popup-scrolled";A&&S>A?(u.height=A+"px",Mt(r,M)):ye(r,M),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var u=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),g=this._getAnchor();ve(this._container,u.add(g))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,u=parseInt(io(this._container,"marginBottom"),10)||0,g=this._container.offsetHeight+u,S=this._containerWidth,A=new ut(this._containerLeft,-g-this._containerBottom);A._add(Yn(this._container));var M=r.layerPointToContainerPoint(A),H=It(this.options.autoPanPadding),X=It(this.options.autoPanPaddingTopLeft||H),nt=It(this.options.autoPanPaddingBottomRight||H),mt=r.getSize(),bt=0,kt=0;M.x+S+nt.x>mt.x&&(bt=M.x+S-mt.x+nt.x),M.x-bt-X.x<0&&(bt=M.x-X.x),M.y+g+nt.y>mt.y&&(kt=M.y+g-mt.y+nt.y),M.y-kt-X.y<0&&(kt=M.y-X.y),(bt||kt)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([bt,kt]))}},_getAnchor:function(){return It(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ic=function(r,u){return new ua(r,u)};Kt.mergeOptions({closePopupOnClick:!0}),Kt.include({openPopup:function(r,u,g){return this._initOverlay(ua,r,u,g).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),Zi.include({bindPopup:function(r,u){return this._popup=this._initOverlay(ua,this._popup,r,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof ao||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){Xe(r);var u=r.layer||r.target;if(this._popup._source===u&&!(u instanceof uo)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=u,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var ca=xn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){xn.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){xn.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=xn.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",u=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=$t("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+T(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var u,g,S=this._map,A=this._container,M=S.latLngToContainerPoint(S.getCenter()),H=S.layerPointToContainerPoint(r),X=this.options.direction,nt=A.offsetWidth,mt=A.offsetHeight,bt=It(this.options.offset),kt=this._getAnchor();X==="top"?(u=nt/2,g=mt):X==="bottom"?(u=nt/2,g=0):X==="center"?(u=nt/2,g=mt/2):X==="right"?(u=0,g=mt/2):X==="left"?(u=nt,g=mt/2):H.x<M.x?(X="right",u=0,g=mt/2):(X="left",u=nt+(bt.x+kt.x)*2,g=mt/2),r=r.subtract(It(u,g,!0)).add(bt).add(kt),ye(A,"leaflet-tooltip-right"),ye(A,"leaflet-tooltip-left"),ye(A,"leaflet-tooltip-top"),ye(A,"leaflet-tooltip-bottom"),Mt(A,"leaflet-tooltip-"+X),ve(A,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&Ae(this._container,r)},_animateZoom:function(r){var u=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(u)},_getAnchor:function(){return It(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),sd=function(r,u){return new ca(r,u)};Kt.include({openTooltip:function(r,u,g){return this._initOverlay(ca,r,u,g).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),Zi.include({bindTooltip:function(r,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ca,this._tooltip,r,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var u=r?"off":"on",g={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?g.add=this._openTooltip:(g.mouseover=this._openTooltip,g.mouseout=this.closeTooltip,g.click=this._openTooltip,this._map?this._addFocusListeners():g.add=this._addFocusListeners),this._tooltip.options.sticky&&(g.mousemove=this._moveTooltip),this[u](g),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof ao||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var u=typeof r.getElement=="function"&&r.getElement();u&&(Ot(u,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),Ot(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var u=typeof r.getElement=="function"&&r.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var u=r.latlng,g,S;this._tooltip.options.sticky&&r.originalEvent&&(g=this._map.mouseEventToContainerPoint(r.originalEvent),S=this._map.containerPointToLayerPoint(g),u=this._map.layerPointToLatLng(S)),this._tooltip.setLatLng(u)}});var oc=lo.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var u=r&&r.tagName==="DIV"?r:document.createElement("div"),g=this.options;if(g.html instanceof Element?(Re(u),u.appendChild(g.html)):u.innerHTML=g.html!==!1?g.html:"",g.bgPos){var S=It(g.bgPos);u.style.backgroundPosition=-S.x+"px "+-S.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function rd(r){return new oc(r)}lo.Default=ia;var pr=Zi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Pt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){K(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),Zt(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Le(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(yn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof ut?r:new ut(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var u=this.getPane().children,g=-r(-1/0,1/0),S=0,A=u.length,M;S<A;S++)M=u[S].style.zIndex,u[S]!==this._container&&M&&(g=r(g,+M));isFinite(g)&&(this.options.zIndex=g+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Pt.ielt9){Ae(this._container,this.options.opacity);var r=+new Date,u=!1,g=!1;for(var S in this._tiles){var A=this._tiles[S];if(!(!A.current||!A.loaded)){var M=Math.min(1,(r-A.loaded)/200);Ae(A.el,M),M<1?u=!0:(A.active?g=!0:this._onOpaqueTile(A),A.active=!0)}}g&&!this._noPrune&&this._pruneTiles(),u&&(J(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this))}},_onOpaqueTile:x,_initContainer:function(){this._container||(this._container=$t("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,u=this.options.maxZoom;if(r!==void 0){for(var g in this._levels)g=Number(g),this._levels[g].el.children.length||g===r?(this._levels[g].el.style.zIndex=u-Math.abs(r-g),this._onUpdateLevel(g)):(Zt(this._levels[g].el),this._removeTilesAtZoom(g),this._onRemoveLevel(g),delete this._levels[g]);var S=this._levels[r],A=this._map;return S||(S=this._levels[r]={},S.el=$t("div","leaflet-tile-container leaflet-zoom-animated",this._container),S.el.style.zIndex=u,S.origin=A.project(A.unproject(A.getPixelOrigin()),r).round(),S.zoom=r,this._setZoomTransform(S,A.getCenter(),A.getZoom()),x(S.el.offsetWidth),this._onCreateLevel(S)),this._level=S,S}},_onUpdateLevel:x,_onRemoveLevel:x,_onCreateLevel:x,_pruneTiles:function(){if(this._map){var r,u,g=this._map.getZoom();if(g>this.options.maxZoom||g<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)u=this._tiles[r],u.retain=u.current;for(r in this._tiles)if(u=this._tiles[r],u.current&&!u.active){var S=u.coords;this._retainParent(S.x,S.y,S.z,S.z-5)||this._retainChildren(S.x,S.y,S.z,S.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var u in this._tiles)this._tiles[u].coords.z===r&&this._removeTile(u)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)Zt(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,u,g,S){var A=Math.floor(r/2),M=Math.floor(u/2),H=g-1,X=new ut(+A,+M);X.z=+H;var nt=this._tileCoordsToKey(X),mt=this._tiles[nt];return mt&&mt.active?(mt.retain=!0,!0):(mt&&mt.loaded&&(mt.retain=!0),H>S?this._retainParent(A,M,H,S):!1)},_retainChildren:function(r,u,g,S){for(var A=2*r;A<2*r+2;A++)for(var M=2*u;M<2*u+2;M++){var H=new ut(A,M);H.z=g+1;var X=this._tileCoordsToKey(H),nt=this._tiles[X];if(nt&&nt.active){nt.retain=!0;continue}else nt&&nt.loaded&&(nt.retain=!0);g+1<S&&this._retainChildren(A,M,g+1,S)}},_resetView:function(r){var u=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var u=this.options;return u.minNativeZoom!==void 0&&r<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<r?u.maxNativeZoom:r},_setView:function(r,u,g,S){var A=Math.round(u);this.options.maxZoom!==void 0&&A>this.options.maxZoom||this.options.minZoom!==void 0&&A<this.options.minZoom?A=void 0:A=this._clampZoom(A);var M=this.options.updateWhenZooming&&A!==this._tileZoom;(!S||M)&&(this._tileZoom=A,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),A!==void 0&&this._update(r),g||this._pruneTiles(),this._noPrune=!!g),this._setZoomTransforms(r,u)},_setZoomTransforms:function(r,u){for(var g in this._levels)this._setZoomTransform(this._levels[g],r,u)},_setZoomTransform:function(r,u,g){var S=this._map.getZoomScale(g,r.zoom),A=r.origin.multiplyBy(S).subtract(this._map._getNewPixelOrigin(u,g)).round();Pt.any3d?pn(r.el,A,S):ve(r.el,A)},_resetGrid:function(){var r=this._map,u=r.options.crs,g=this._tileSize=this.getTileSize(),S=this._tileZoom,A=this._map.getPixelWorldBounds(this._tileZoom);A&&(this._globalTileRange=this._pxBoundsToTileRange(A)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,u.wrapLng[0]],S).x/g.x),Math.ceil(r.project([0,u.wrapLng[1]],S).x/g.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([u.wrapLat[0],0],S).y/g.x),Math.ceil(r.project([u.wrapLat[1],0],S).y/g.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var u=this._map,g=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),S=u.getZoomScale(g,this._tileZoom),A=u.project(r,this._tileZoom).floor(),M=u.getSize().divideBy(S*2);return new q(A.subtract(M),A.add(M))},_update:function(r){var u=this._map;if(u){var g=this._clampZoom(u.getZoom());if(r===void 0&&(r=u.getCenter()),this._tileZoom!==void 0){var S=this._getTiledPixelBounds(r),A=this._pxBoundsToTileRange(S),M=A.getCenter(),H=[],X=this.options.keepBuffer,nt=new q(A.getBottomLeft().subtract([X,-X]),A.getTopRight().add([X,-X]));if(!(isFinite(A.min.x)&&isFinite(A.min.y)&&isFinite(A.max.x)&&isFinite(A.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var mt in this._tiles){var bt=this._tiles[mt].coords;(bt.z!==this._tileZoom||!nt.contains(new ut(bt.x,bt.y)))&&(this._tiles[mt].current=!1)}if(Math.abs(g-this._tileZoom)>1){this._setView(r,g);return}for(var kt=A.min.y;kt<=A.max.y;kt++)for(var Qt=A.min.x;Qt<=A.max.x;Qt++){var gn=new ut(Qt,kt);if(gn.z=this._tileZoom,!!this._isValidTile(gn)){var Qe=this._tiles[this._tileCoordsToKey(gn)];Qe?Qe.current=!0:H.push(gn)}}if(H.sort(function(de,he){return de.distanceTo(M)-he.distanceTo(M)}),H.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ci=document.createDocumentFragment();for(Qt=0;Qt<H.length;Qt++)this._addTile(H[Qt],ci);this._level.el.appendChild(ci)}}}},_isValidTile:function(r){var u=this._map.options.crs;if(!u.infinite){var g=this._globalTileRange;if(!u.wrapLng&&(r.x<g.min.x||r.x>g.max.x)||!u.wrapLat&&(r.y<g.min.y||r.y>g.max.y))return!1}if(!this.options.bounds)return!0;var S=this._tileCoordsToBounds(r);return Tt(this.options.bounds).overlaps(S)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var u=this._map,g=this.getTileSize(),S=r.scaleBy(g),A=S.add(g),M=u.unproject(S,r.z),H=u.unproject(A,r.z);return[M,H]},_tileCoordsToBounds:function(r){var u=this._tileCoordsToNwSe(r),g=new vt(u[0],u[1]);return this.options.noWrap||(g=this._map.wrapLatLngBounds(g)),g},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var u=r.split(":"),g=new ut(+u[0],+u[1]);return g.z=+u[2],g},_removeTile:function(r){var u=this._tiles[r];u&&(Zt(u.el),delete this._tiles[r],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){Mt(r,"leaflet-tile");var u=this.getTileSize();r.style.width=u.x+"px",r.style.height=u.y+"px",r.onselectstart=x,r.onmousemove=x,Pt.ielt9&&this.options.opacity<1&&Ae(r,this.options.opacity)},_addTile:function(r,u){var g=this._getTilePos(r),S=this._tileCoordsToKey(r),A=this.createTile(this._wrapCoords(r),d(this._tileReady,this,r));this._initTile(A),this.createTile.length<2&&V(d(this._tileReady,this,r,null,A)),ve(A,g),this._tiles[S]={el:A,coords:r,current:!0},u.appendChild(A),this.fire("tileloadstart",{tile:A,coords:r})},_tileReady:function(r,u,g){u&&this.fire("tileerror",{error:u,tile:g,coords:r});var S=this._tileCoordsToKey(r);g=this._tiles[S],g&&(g.loaded=+new Date,this._map._fadeAnimated?(Ae(g.el,0),J(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this)):(g.active=!0,this._pruneTiles()),u||(Mt(g.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:g.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Pt.ielt9||!this._map._fadeAnimated?V(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var u=new ut(this._wrapX?w(r.x,this._wrapX):r.x,this._wrapY?w(r.y,this._wrapY):r.y);return u.z=r.z,u},_pxBoundsToTileRange:function(r){var u=this.getTileSize();return new q(r.min.unscaleBy(u).floor(),r.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function sc(r){return new pr(r)}var as=pr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,u){this._url=r,u=K(this,u),u.detectRetina&&Pt.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,u){return this._url===r&&u===void 0&&(u=!0),this._url=r,u||this.redraw(),this},createTile:function(r,u){var g=document.createElement("img");return Ot(g,"load",d(this._tileOnLoad,this,u,g)),Ot(g,"error",d(this._tileOnError,this,u,g)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(g.referrerPolicy=this.options.referrerPolicy),g.alt="",g.src=this.getTileUrl(r),g},getTileUrl:function(r){var u={r:Pt.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var g=this._globalTileRange.max.y-r.y;this.options.tms&&(u.y=g),u["-y"]=g}return _t(this._url,a(u,this.options))},_tileOnLoad:function(r,u){Pt.ielt9?setTimeout(d(r,this,null,u),0):r(null,u)},_tileOnError:function(r,u,g){var S=this.options.errorTileUrl;S&&u.getAttribute("src")!==S&&(u.src=S),r(g,u)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,u=this.options.maxZoom,g=this.options.zoomReverse,S=this.options.zoomOffset;return g&&(r=u-r),r+S},_getSubdomain:function(r){var u=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var r,u;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(u=this._tiles[r].el,u.onload=x,u.onerror=x,!u.complete)){u.src=Rt;var g=this._tiles[r].coords;Zt(u),delete this._tiles[r],this.fire("tileabort",{tile:u,coords:g})}},_removeTile:function(r){var u=this._tiles[r];if(u)return u.el.setAttribute("src",Rt),pr.prototype._removeTile.call(this,r)},_tileReady:function(r,u,g){if(!(!this._map||g&&g.getAttribute("src")===Rt))return pr.prototype._tileReady.call(this,r,u,g)}});function Ii(r,u){return new as(r,u)}var fa=as.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,u){this._url=r;var g=a({},this.defaultWmsParams);for(var S in u)S in this.options||(g[S]=u[S]);u=K(this,u);var A=u.detectRetina&&Pt.retina?2:1,M=this.getTileSize();g.width=M.x*A,g.height=M.y*A,this.wmsParams=g},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,as.prototype.onAdd.call(this,r)},getTileUrl:function(r){var u=this._tileCoordsToNwSe(r),g=this._crs,S=ct(g.project(u[0]),g.project(u[1])),A=S.min,M=S.max,H=(this._wmsVersion>=1.3&&this._crs===zl?[A.y,A.x,M.y,M.x]:[A.x,A.y,M.x,M.y]).join(","),X=as.prototype.getTileUrl.call(this,r);return X+$(this.wmsParams,X,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+H},setParams:function(r,u){return a(this.wmsParams,r),u||this.redraw(),this}});function Ri(r,u){return new fa(r,u)}as.WMS=fa,Ii.wms=Ri;var Xn=Zi.extend({options:{padding:.1},initialize:function(r){K(this,r),T(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Mt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,u){var g=this._map.getZoomScale(u,this._zoom),S=this._map.getSize().multiplyBy(.5+this.options.padding),A=this._map.project(this._center,u),M=S.multiplyBy(-g).add(A).subtract(this._map._getNewPixelOrigin(r,u));Pt.any3d?pn(this._container,M,g):ve(this._container,M)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,u=this._map.getSize(),g=this._map.containerPointToLayerPoint(u.multiplyBy(-r)).round();this._bounds=new q(g,g.add(u.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),$a=Xn.extend({options:{tolerance:0},getEvents:function(){var r=Xn.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Xn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");Ot(r,"mousemove",this._onMouseMove,this),Ot(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ot(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){J(this._redrawRequest),delete this._ctx,Zt(this._container),ae(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var u in this._layers)r=this._layers[u],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Xn.prototype._update.call(this);var r=this._bounds,u=this._container,g=r.getSize(),S=Pt.retina?2:1;ve(u,r.min),u.width=S*g.x,u.height=S*g.y,u.style.width=g.x+"px",u.style.height=g.y+"px",Pt.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){Xn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[T(r)]=r;var u=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var u=r._order,g=u.next,S=u.prev;g?g.prev=S:this._drawLast=S,S?S.next=g:this._drawFirst=g,delete r._order,delete this._layers[T(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var u=r.options.dashArray.split(/[, ]+/),g=[],S,A;for(A=0;A<u.length;A++){if(S=Number(u[A]),isNaN(S))return;g.push(S)}r.options._dashArray=g}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||V(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var u=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new q,this._redrawBounds.extend(r._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(r._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var u=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,u=this._redrawBounds;if(this._ctx.save(),u){var g=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,g.x,g.y),this._ctx.clip()}this._drawing=!0;for(var S=this._drawFirst;S;S=S.next)r=S.layer,(!u||r._pxBounds&&r._pxBounds.intersects(u))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,u){if(this._drawing){var g,S,A,M,H=r._parts,X=H.length,nt=this._ctx;if(X){for(nt.beginPath(),g=0;g<X;g++){for(S=0,A=H[g].length;S<A;S++)M=H[g][S],nt[S?"lineTo":"moveTo"](M.x,M.y);u&&nt.closePath()}this._fillStroke(nt,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var u=r._point,g=this._ctx,S=Math.max(Math.round(r._radius),1),A=(Math.max(Math.round(r._radiusY),1)||S)/S;A!==1&&(g.save(),g.scale(1,A)),g.beginPath(),g.arc(u.x,u.y/A,S,0,Math.PI*2,!1),A!==1&&g.restore(),this._fillStroke(g,r)}},_fillStroke:function(r,u){var g=u.options;g.fill&&(r.globalAlpha=g.fillOpacity,r.fillStyle=g.fillColor||g.color,r.fill(g.fillRule||"evenodd")),g.stroke&&g.weight!==0&&(r.setLineDash&&r.setLineDash(u.options&&u.options._dashArray||[]),r.globalAlpha=g.opacity,r.lineWidth=g.weight,r.strokeStyle=g.color,r.lineCap=g.lineCap,r.lineJoin=g.lineJoin,r.stroke())},_onClick:function(r){for(var u=this._map.mouseEventToLayerPoint(r),g,S,A=this._drawFirst;A;A=A.next)g=A.layer,g.options.interactive&&g._containsPoint(u)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(g))&&(S=g);this._fireEvent(S?[S]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,u)}},_handleMouseOut:function(r){var u=this._hoveredLayer;u&&(ye(this._container,"leaflet-interactive"),this._fireEvent([u],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,u){if(!this._mouseHoverThrottled){for(var g,S,A=this._drawFirst;A;A=A.next)g=A.layer,g.options.interactive&&g._containsPoint(u)&&(S=g);S!==this._hoveredLayer&&(this._handleMouseOut(r),S&&(Mt(this._container,"leaflet-interactive"),this._fireEvent([S],r,"mouseover"),this._hoveredLayer=S)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,u,g){this._map._fireDOMEvent(u,g||u.type,r)},_bringToFront:function(r){var u=r._order;if(u){var g=u.next,S=u.prev;if(g)g.prev=S;else return;S?S.next=g:g&&(this._drawFirst=g),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(r)}},_bringToBack:function(r){var u=r._order;if(u){var g=u.next,S=u.prev;if(S)S.next=g;else return;g?g.prev=S:S&&(this._drawLast=S),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(r)}}});function da(r){return Pt.canvas?new $a(r):null}var ls=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Bl={_initContainer:function(){this._container=$t("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Xn.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var u=r._container=ls("shape");Mt(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",r._path=ls("path"),u.appendChild(r._path),this._updateStyle(r),this._layers[T(r)]=r},_addPath:function(r){var u=r._container;this._container.appendChild(u),r.options.interactive&&r.addInteractiveTarget(u)},_removePath:function(r){var u=r._container;Zt(u),r.removeInteractiveTarget(u),delete this._layers[T(r)]},_updateStyle:function(r){var u=r._stroke,g=r._fill,S=r.options,A=r._container;A.stroked=!!S.stroke,A.filled=!!S.fill,S.stroke?(u||(u=r._stroke=ls("stroke")),A.appendChild(u),u.weight=S.weight+"px",u.color=S.color,u.opacity=S.opacity,S.dashArray?u.dashStyle=lt(S.dashArray)?S.dashArray.join(" "):S.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=S.lineCap.replace("butt","flat"),u.joinstyle=S.lineJoin):u&&(A.removeChild(u),r._stroke=null),S.fill?(g||(g=r._fill=ls("fill")),A.appendChild(g),g.color=S.fillColor||S.color,g.opacity=S.fillOpacity):g&&(A.removeChild(g),r._fill=null)},_updateCircle:function(r){var u=r._point.round(),g=Math.round(r._radius),S=Math.round(r._radiusY||g);this._setPath(r,r._empty()?"M0 0":"AL "+u.x+","+u.y+" "+g+","+S+" 0,"+65535*360)},_setPath:function(r,u){r._path.v=u},_bringToFront:function(r){Le(r._container)},_bringToBack:function(r){yn(r._container)}},co=Pt.vml?ls:vo,mr=Xn.extend({_initContainer:function(){this._container=co("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=co("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Zt(this._container),ae(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Xn.prototype._update.call(this);var r=this._bounds,u=r.getSize(),g=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,g.setAttribute("width",u.x),g.setAttribute("height",u.y)),ve(g,r.min),g.setAttribute("viewBox",[r.min.x,r.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(r){var u=r._path=co("path");r.options.className&&Mt(u,r.options.className),r.options.interactive&&Mt(u,"leaflet-interactive"),this._updateStyle(r),this._layers[T(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){Zt(r._path),r.removeInteractiveTarget(r._path),delete this._layers[T(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var u=r._path,g=r.options;u&&(g.stroke?(u.setAttribute("stroke",g.color),u.setAttribute("stroke-opacity",g.opacity),u.setAttribute("stroke-width",g.weight),u.setAttribute("stroke-linecap",g.lineCap),u.setAttribute("stroke-linejoin",g.lineJoin),g.dashArray?u.setAttribute("stroke-dasharray",g.dashArray):u.removeAttribute("stroke-dasharray"),g.dashOffset?u.setAttribute("stroke-dashoffset",g.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),g.fill?(u.setAttribute("fill",g.fillColor||g.color),u.setAttribute("fill-opacity",g.fillOpacity),u.setAttribute("fill-rule",g.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(r,u){this._setPath(r,Oi(r._parts,u))},_updateCircle:function(r){var u=r._point,g=Math.max(Math.round(r._radius),1),S=Math.max(Math.round(r._radiusY),1)||g,A="a"+g+","+S+" 0 1,0 ",M=r._empty()?"M0 0":"M"+(u.x-g)+","+u.y+A+g*2+",0 "+A+-g*2+",0 ";this._setPath(r,M)},_setPath:function(r,u){r._path.setAttribute("d",u)},_bringToFront:function(r){Le(r._path)},_bringToBack:function(r){yn(r._path)}});Pt.vml&&mr.include(Bl);function ha(r){return Pt.svg||Pt.vml?new mr(r):null}Kt.include({getRenderer:function(r){var u=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var u=this._paneRenderers[r];return u===void 0&&(u=this._createRenderer({pane:r}),this._paneRenderers[r]=u),u},_createRenderer:function(r){return this.options.preferCanvas&&da(r)||ha(r)}});var Rs=cr.extend({initialize:function(r,u){cr.prototype.initialize.call(this,this._boundsToLatLngs(r),u)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=Tt(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function ad(r,u){return new Rs(r,u)}mr.create=co,mr.pointsToPath=Oi,Po.geometryToLayer=An,Po.coordsToLatLng=Ja,Po.coordsToLatLngs=ra,Po.latLngToCoords=Ya,Po.latLngsToCoords=aa,Po.getFeature=os,Po.asFeature=Ka,Kt.mergeOptions({boxZoom:!0});var $n=ai.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){Ot(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ae(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Zt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Kn(),bo(),this._startPoint=this._map.mouseEventToContainerPoint(r),Ot(document,{contextmenu:Xe,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=$t("div","leaflet-zoom-box",this._container),Mt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var u=new q(this._point,this._startPoint),g=u.getSize();ve(this._box,u.min),this._box.style.width=g.x+"px",this._box.style.height=g.y+"px"},_finish:function(){this._moved&&(Zt(this._box),ye(this._container,"leaflet-crosshair")),We(),oo(),ae(document,{contextmenu:Xe,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var u=new vt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Kt.addInitHook("addHandler","boxZoom",$n),Kt.mergeOptions({doubleClickZoom:!0});var Qa=ai.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var u=this._map,g=u.getZoom(),S=u.options.zoomDelta,A=r.originalEvent.shiftKey?g-S:g+S;u.options.doubleClickZoom==="center"?u.setZoom(A):u.setZoomAround(r.containerPoint,A)}});Kt.addInitHook("addHandler","doubleClickZoom",Qa),Kt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var fo=ai.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new qi(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}Mt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ye(this._map._container,"leaflet-grab"),ye(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=Tt(this._map.options.maxBounds);this._offsetLimit=ct(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var u=this._lastTime=+new Date,g=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(g),this._times.push(u),this._prunePositions(u)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,u){return r-(r-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;r.x<u.min.x&&(r.x=this._viscousLimit(r.x,u.min.x)),r.y<u.min.y&&(r.y=this._viscousLimit(r.y,u.min.y)),r.x>u.max.x&&(r.x=this._viscousLimit(r.x,u.max.x)),r.y>u.max.y&&(r.y=this._viscousLimit(r.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,u=Math.round(r/2),g=this._initialWorldOffset,S=this._draggable._newPos.x,A=(S-u+g)%r+u-g,M=(S+u+g)%r-u-g,H=Math.abs(A+g)<Math.abs(M+g)?A:M;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=H},_onDragEnd:function(r){var u=this._map,g=u.options,S=!g.inertia||r.noInertia||this._times.length<2;if(u.fire("dragend",r),S)u.fire("moveend");else{this._prunePositions(+new Date);var A=this._lastPos.subtract(this._positions[0]),M=(this._lastTime-this._times[0])/1e3,H=g.easeLinearity,X=A.multiplyBy(H/M),nt=X.distanceTo([0,0]),mt=Math.min(g.inertiaMaxSpeed,nt),bt=X.multiplyBy(mt/nt),kt=mt/(g.inertiaDeceleration*H),Qt=bt.multiplyBy(-kt/2).round();!Qt.x&&!Qt.y?u.fire("moveend"):(Qt=u._limitOffset(Qt,u.options.maxBounds),V(function(){u.panBy(Qt,{duration:kt,easeLinearity:H,noMoveStart:!0,animate:!0})}))}}});Kt.addInitHook("addHandler","dragging",fo),Kt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Hl=ai.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),Ot(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ae(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,u=document.documentElement,g=r.scrollTop||u.scrollTop,S=r.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(S,g)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var u=this._panKeys={},g=this.keyCodes,S,A;for(S=0,A=g.left.length;S<A;S++)u[g.left[S]]=[-1*r,0];for(S=0,A=g.right.length;S<A;S++)u[g.right[S]]=[r,0];for(S=0,A=g.down.length;S<A;S++)u[g.down[S]]=[0,r];for(S=0,A=g.up.length;S<A;S++)u[g.up[S]]=[0,-1*r]},_setZoomDelta:function(r){var u=this._zoomKeys={},g=this.keyCodes,S,A;for(S=0,A=g.zoomIn.length;S<A;S++)u[g.zoomIn[S]]=r;for(S=0,A=g.zoomOut.length;S<A;S++)u[g.zoomOut[S]]=-r},_addHooks:function(){Ot(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ae(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var u=r.keyCode,g=this._map,S;if(u in this._panKeys){if(!g._panAnim||!g._panAnim._inProgress)if(S=this._panKeys[u],r.shiftKey&&(S=It(S).multiplyBy(3)),g.options.maxBounds&&(S=g._limitOffset(It(S),g.options.maxBounds)),g.options.worldCopyJump){var A=g.wrapLatLng(g.unproject(g.project(g.getCenter()).add(S)));g.panTo(A)}else g.panBy(S)}else if(u in this._zoomKeys)g.setZoom(g.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&g._popup&&g._popup.options.closeOnEscapeKey)g.closePopup();else return;Xe(r)}}});Kt.addInitHook("addHandler","keyboard",Hl),Kt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var pa=ai.extend({addHooks:function(){Ot(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ae(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var u=$e(r),g=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var S=Math.max(g-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),S),Xe(r)},_performZoom:function(){var r=this._map,u=r.getZoom(),g=this._map.options.zoomSnap||0;r._stop();var S=this._delta/(this._map.options.wheelPxPerZoomLevel*4),A=4*Math.log(2/(1+Math.exp(-Math.abs(S))))/Math.LN2,M=g?Math.ceil(A/g)*g:A,H=r._limitZoom(u+(this._delta>0?M:-M))-u;this._delta=0,this._startTime=null,H&&(r.options.scrollWheelZoom==="center"?r.setZoom(u+H):r.setZoomAround(this._lastMousePos,u+H))}});Kt.addInitHook("addHandler","scrollWheelZoom",pa);var Ns=600;Kt.mergeOptions({tapHold:Pt.touchNative&&Pt.safari&&Pt.mobile,tapTolerance:15});var ja=ai.extend({addHooks:function(){Ot(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ae(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var u=r.touches[0];this._startPos=this._newPos=new ut(u.clientX,u.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&(Ot(document,"touchend",oe),Ot(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),Ns),Ot(document,"touchend touchcancel contextmenu",this._cancel,this),Ot(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){ae(document,"touchend",oe),ae(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),ae(document,"touchend touchcancel contextmenu",this._cancel,this),ae(document,"touchmove",this._onMove,this)},_onMove:function(r){var u=r.touches[0];this._newPos=new ut(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,u){var g=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});g._simulated=!0,u.target.dispatchEvent(g)}});Kt.addInitHook("addHandler","tapHold",ja),Kt.mergeOptions({touchZoom:Pt.touch,bounceAtZoomLimits:!0});var Vl=ai.extend({addHooks:function(){Mt(this._map._container,"leaflet-touch-zoom"),Ot(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ye(this._map._container,"leaflet-touch-zoom"),ae(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var u=this._map;if(!(!r.touches||r.touches.length!==2||u._animatingZoom||this._zooming)){var g=u.mouseEventToContainerPoint(r.touches[0]),S=u.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(g.add(S)._divideBy(2))),this._startDist=g.distanceTo(S),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Ot(document,"touchmove",this._onTouchMove,this),Ot(document,"touchend touchcancel",this._onTouchEnd,this),oe(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var u=this._map,g=u.mouseEventToContainerPoint(r.touches[0]),S=u.mouseEventToContainerPoint(r.touches[1]),A=g.distanceTo(S)/this._startDist;if(this._zoom=u.getScaleZoom(A,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&A<1||this._zoom>u.getMaxZoom()&&A>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,A===1)return}else{var M=g._add(S)._divideBy(2)._subtract(this._centerPoint);if(A===1&&M.x===0&&M.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(M),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),J(this._animRequest);var H=d(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=V(H,this,!0),oe(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,J(this._animRequest),ae(document,"touchmove",this._onTouchMove,this),ae(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Kt.addInitHook("addHandler","touchZoom",Vl),Kt.BoxZoom=$n,Kt.DoubleClickZoom=Qa,Kt.Drag=fo,Kt.Keyboard=Hl,Kt.ScrollWheelZoom=pa,Kt.TapHold=ja,Kt.TouchZoom=Vl,n.Bounds=q,n.Browser=Pt,n.CRS=Vt,n.Canvas=$a,n.Circle=Za,n.CircleMarker=ur,n.Class=Ut,n.Control=wn,n.DivIcon=oc,n.DivOverlay=xn,n.DomEvent=Sn,n.DomUtil=ro,n.Draggable=qi,n.Evented=At,n.FeatureGroup=ao,n.GeoJSON=Po,n.GridLayer=pr,n.Handler=ai,n.Icon=lo,n.ImageOverlay=dr,n.LatLng=Ct,n.LatLngBounds=vt,n.Layer=Zi,n.LayerGroup=lr,n.LineUtil=No,n.Map=Kt,n.Marker=sa,n.Mixin=qa,n.Path=uo,n.Point=ut,n.PolyUtil=Cn,n.Polygon=cr,n.Polyline=Mo,n.Popup=ua,n.PosAnimation=Ln,n.Projection=Is,n.Rectangle=Rs,n.Renderer=Xn,n.SVG=mr,n.SVGOverlay=Xa,n.TileLayer=as,n.Tooltip=ca,n.Transformation=_i,n.Util=B,n.VideoOverlay=rs,n.bind=d,n.bounds=ct,n.canvas=da,n.circle=tc,n.circleMarker=ju,n.control=Wn,n.divIcon=rd,n.extend=a,n.featureGroup=$u,n.geoJSON=Wa,n.geoJson=la,n.gridLayer=sc,n.icon=na,n.imageOverlay=ec,n.latLng=xt,n.latLngBounds=Tt,n.layerGroup=nd,n.map=ns,n.marker=Qu,n.point=It,n.polygon=od,n.polyline=id,n.popup=ic,n.rectangle=ad,n.setOptions=K,n.stamp=T,n.svg=ha,n.svgOverlay=nc,n.tileLayer=Ii,n.tooltip=sd,n.transformation=jn,n.version=s,n.videoOverlay=hr;var Gl=window.L;n.noConflict=function(){return window.L=Gl,this},window.L=n}))})(Mu,Mu.exports)),Mu.exports}var ed=T4();const Sm=Ff(ed);function HS(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function VS(e,t){return t==null?function(s,a){const c=Et.useRef(void 0);return c.current||(c.current=e(s,a)),c}:function(s,a){const c=Et.useRef(void 0);c.current||(c.current=e(s,a));const d=Et.useRef(s),{instance:_}=c.current;return Et.useEffect(function(){d.current!==s&&(t(_,s,d.current),d.current=s)},[_,s,t]),c}}function E4(e,t){Et.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var c;(c=t.layerContainer)==null||c.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function GS(e){return function(n){const s=zS(),a=e(BS(n,s),s);return d4(s.map,n.attribution),y4(a.current,n.eventHandlers),E4(a.current,s),a}}function S4(e,t){const n=VS(e,t),s=GS(n);return g4(s)}function w4(e,t){const n=VS(e,t),s=GS(n);return _4(s)}function C4(e,t,n){const{opacity:s,zIndex:a}=t;s!=null&&s!==n.opacity&&e.setOpacity(s),a!=null&&a!==n.zIndex&&e.setZIndex(a)}function kp(){return zS().map}function A4(e){const t=kp();return Et.useEffect(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}function x4({bounds:e,boundsOptions:t,center:n,children:s,className:a,id:c,placeholder:d,style:_,whenReady:T,zoom:v,...w},x){const[b]=Et.useState({className:a,id:c,style:_}),[U,Y]=Et.useState(null),K=Et.useRef(void 0);Et.useImperativeHandle(x,()=>(U==null?void 0:U.map)??null,[U]);const $=Et.useCallback(_t=>{if(_t!==null&&!K.current){const lt=new ed.Map(_t,w);K.current=lt,n!=null&&v!=null?lt.setView(n,v):e!=null&&lt.fitBounds(e,t),T!=null&&lt.whenReady(T),Y(p4(lt))}},[]);Et.useEffect(()=>()=>{U==null||U.map.remove()},[U]);const dt=U?Cf.createElement(Em,{value:U},s):d??null;return Cf.createElement("div",{...b,ref:$},dt)}const b4=Et.forwardRef(x4),I4=S4(function({position:t,...n},s){const a=new ed.Marker(t,n);return HS(a,m4(s,{overlayContainer:a}))},function(t,n,s){n.position!==s.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==s.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==s.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==s.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==s.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),R4=w4(function({url:t,...n},s){const a=new ed.TileLayer(t,BS(n,s));return HS(a,s)},function(t,n,s){C4(t,n,s);const{url:a}=n;a!=null&&a!==s.url&&t.setUrl(a)});delete Sm.Icon.Default.prototype._getIconUrl;Sm.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const vT="current-user",xa="Ashwin",N4={English:{transformCity:"Transform Your City",reclaimNeglected:"Reclaim neglected corners. Turn wasted urban spaces into vibrant community micro-plots.",getStarted:"Get Started",capture:"Capture",captureDesc:"Snap a photo of an unused space and drop a pin.",discuss:"Discuss",discussDesc:"Chat with neighbors, vote on ideas, and visualize changes.",collaborate:"Collaborate",collaborateDesc:"Call for volunteers and students to help build.",welcomeBack:"Welcome Back",createAccount:"Create an Account",enterDetails:"Enter your details to access your plots.",email:"Email",password:"Password",signIn:"Sign In",signUp:"Sign Up",continueWithGoogle:"Continue with Google",alreadyHaveAccount:"Already have an account? Sign In",dontHaveAccount:"Don't have an account? Sign Up",profile:"Profile",settings:"Settings",language:"Language",logout:"Log Out",community:"Community",map:"Map"},Malayalam:{transformCity:"  ",reclaimNeglected:"  .      - .",getStarted:"",capture:"",captureDesc:"      .",discuss:" ",discussDesc:" ,   ,  .",collaborate:"",collaborateDesc:"    .",welcomeBack:" ",createAccount:"  ",enterDetails:"      .",email:"",password:"",signIn:"Sign In",signUp:"Sign Up",continueWithGoogle:"Google  ",alreadyHaveAccount:" ?   ",dontHaveAccount:" ?   ",profile:"",settings:"",language:"",logout:" ",community:"",map:""},Irish:{transformCity:"Trasfhoirmigh do Chathair",reclaimNeglected:"Aisghabh coirnil neamhshuime. Dan spsanna uirbeacha am ina bplota micrea-phobail bromhara.",getStarted:"Tosaigh",capture:"Gabhil",captureDesc:"Tg grianghraf de sps nach n-sidtear agus scaoil biorin.",discuss:"Pligh",discussDesc:"Comhr le comharsana, vtil ar smaointe, agus lirshamhl athruithe.",collaborate:"Comhoibri",collaborateDesc:"Glaoch ar oibrithe deonacha agus ar mhic linn chun cabhr le tgil.",welcomeBack:"Filte Ar Ais",createAccount:"Cruthaigh Cuntas",enterDetails:"Cuir isteach do chuid sonra chun rochtain a fhil ar do phlota.",email:"Romhphost",password:"Pasfhocal",signIn:"Snigh Isteach",signUp:"Clraigh",continueWithGoogle:"Lean ar aghaidh le Google",alreadyHaveAccount:"An bhfuil cuntas agat cheana? Snigh Isteach",dontHaveAccount:"Nach bhfuil cuntas agat? Clraigh",profile:"Prifl",settings:"Socruithe",language:"Teanga",logout:"Logil Amach",community:"Pobal",map:"Larscil"}},M4=[{id:"1",creatorId:"other-1",title:"Overgrown patch near St. Patrick's",description:"Small triangular verge completely ignored. Full of weeds but gets great morning sun.",locationName:"Corner of Patrick St & Dean St",coordinates:{x:30,y:40},imageUrl:"https://picsum.photos/800/600?random=1",status:ue.IDENTIFIED,tags:["Good Sun","Potential","Messy"],ideas:["wildflower garden","bench"],existingPractices:["Neighbors organize informal litter picks once a month"],comments:[{id:"c1",author:"Sarah",text:"I walk past this every day. It could be lovely.",timestamp:Date.now()-1e5}],volunteerRequestSent:!1,generatedImages:[],spottedBy:"Marie"},{id:"2",creatorId:"other-2",title:"Empty planter box",description:"Old concrete planter that just collects trash now. Structurally sound.",locationName:"Meath Street",coordinates:{x:60,y:20},imageUrl:"https://picsum.photos/800/600?random=2",status:ue.IDEAS_FORMING,tags:["Small","Quick Fix"],ideas:["herbs","community veggies"],existingPractices:["DCC watered this last year, but stopped"],comments:[{id:"c2",author:"Mike",text:"Does anyone have soil? I can bring seeds.",timestamp:Date.now()-5e4}],volunteerRequestSent:!1,generatedImages:[]},{id:"3",creatorId:"other-3",title:"Walled alley space",description:"Safe enclosed space but currently a dumping ground.",locationName:"Off Thomas Ct",coordinates:{x:75,y:70},imageUrl:"https://picsum.photos/800/600?random=3",status:ue.IN_PROGRESS,tags:["Safety Issue","Kids pass here"],ideas:["mural","play corner"],existingPractices:["Children use this space as a shortcut to school"],comments:[],volunteerRequestSent:!0,generatedImages:[]}],FS="spot_to_plot_plots_v1",P4=()=>{try{const e=localStorage.getItem(FS);if(!e)return null;const t=JSON.parse(e);return Array.isArray(t)?t:null}catch{return null}};function D4(){const[e,t]=Et.useState("SPLASH"),[n,s]=Et.useState("FEED"),[a,c]=Et.useState(()=>{const j=P4();return j&&j.length>0?j:M4}),[d,_]=Et.useState(null),[T,v]=Et.useState([{id:"n1",title:"Help Accepted! ",message:'NCAD Student Union has accepted your volunteer request for "Overgrown patch". They can help next Tuesday!',timestamp:Date.now()-36e5,read:!1,type:"success",relatedPlotId:"1"}]),[w,x]=Et.useState(!1),[b,U]=Et.useState(null),Y=[53.338,-6.275],K={minLat:53.338,maxLat:53.35,minLng:-6.285,maxLng:-6.265},$=(j,yt,ot)=>Math.min(Math.max(j,yt),ot),dt=(j,yt)=>{const ot=(yt-K.minLng)/(K.maxLng-K.minLng),Gt=(j-K.minLat)/(K.maxLat-K.minLat);return{x:$(ot*100,0,100),y:$(Gt*100,0,100)}},_t=j=>{if(typeof j.coordinates.lat=="number"&&typeof j.coordinates.lng=="number")return[j.coordinates.lat,j.coordinates.lng];const yt=K.minLat+j.coordinates.y/100*(K.maxLat-K.minLat),ot=K.minLng+j.coordinates.x/100*(K.maxLng-K.minLng);return[yt,ot]},lt=j=>{const yt=Math.floor(j/60).toString().padStart(2,"0"),ot=(j%60).toString().padStart(2,"0");return`${yt}:${ot}`},St=({url:j,mine:yt})=>{const ot=Et.useRef(null),[Gt,we]=Et.useState(!1),[oe,Xe]=Et.useState(0),[En,Dn]=Et.useState(0);Et.useEffect(()=>{const xe=ot.current;if(!xe)return;const Sn=()=>Dn(xe.duration||0),Ln=()=>Xe(xe.currentTime||0),Kt=()=>we(!1);return xe.addEventListener("loadedmetadata",Sn),xe.addEventListener("timeupdate",Ln),xe.addEventListener("ended",Kt),()=>{xe.removeEventListener("loadedmetadata",Sn),xe.removeEventListener("timeupdate",Ln),xe.removeEventListener("ended",Kt)}},[]);const ri=async()=>{const xe=ot.current;if(xe){if(Gt){xe.pause(),we(!1);return}await xe.play(),we(!0)}},$e=xe=>{const Sn=ot.current;if(!Sn)return;const Ln=Number(xe.target.value);Sn.currentTime=Ln,Xe(Ln)};return N.jsxs("div",{className:`mt-3 rounded-2xl px-3 py-2.5 border ${yt?"bg-emerald-500/20 border-emerald-300/40":"bg-gray-50 border-gray-200"}`,children:[N.jsx("audio",{ref:ot,src:j,preload:"metadata"}),N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("button",{onClick:ri,className:`w-8 h-8 rounded-full flex items-center justify-center ${yt?"bg-white text-emerald-700":"bg-emerald-600 text-white"}`,children:Gt?N.jsx(mA,{size:15}):N.jsx(_A,{size:15,className:"ml-0.5"})}),N.jsxs("div",{className:"flex-1",children:[N.jsx("input",{type:"range",min:0,max:En||0,step:.1,value:oe,onChange:$e,className:"w-full accent-emerald-600"}),N.jsxs("div",{className:`text-[10px] font-semibold ${yt?"text-emerald-700":"text-gray-500"}`,children:[lt(Math.floor(oe))," / ",lt(Math.floor(En))]})]})]})]})},Rt=j=>{let yt="hue-rotate-[140deg]";return j===ue.IDEAS_FORMING&&(yt="hue-rotate-[20deg]"),j===ue.IN_PROGRESS&&(yt="hue-rotate-[280deg]"),j===ue.COMPLETED&&(yt="hue-rotate-0"),Sm.divIcon({className:"custom-leaflet-marker",html:`<div class="w-8 h-8 rounded-full border-2 border-white shadow-lg shadow-black/30 flex items-center justify-center bg-white"><img src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png" class="w-full h-full object-cover filter ${yt}" style="opacity: 0.8" /></div>`,iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]})},[ft,z]=Et.useState(""),[O,k]=Et.useState(""),[F,V]=Et.useState(!1),[J,B]=Et.useState(""),[Ut,Ee]=Et.useState(null),[rt,At]=Et.useState("English"),ut=j=>N4[rt][j]||j,[qt,It]=Et.useState(""),[q,ct]=Et.useState(""),[vt,Tt]=Et.useState(""),[Ct,xt]=Et.useState(null),[Vt,_e]=Et.useState(null),[Se,Ui]=Et.useState([]),[_i,jn]=Et.useState(""),[zn,ti]=Et.useState(!1),[vo,Oi]=Et.useState(""),[Bn,yi]=Et.useState("MANUAL"),[Fe,De]=Et.useState(!1),[sn,Jo]=Et.useState(""),[vs,en]=Et.useState(!1),[eo,no]=Et.useState(""),[To,vi]=Et.useState(""),[tr,Yo]=Et.useState(""),[Ts,ei]=Et.useState(!1),[Ke,qe]=Et.useState(!1),[Nn,Oe]=Et.useState(0),[zi,Ko]=Et.useState(""),[Es,Hn]=Et.useState(!1),[Ti,Be]=Et.useState("Photorealistic"),[ni,Ei]=Et.useState("1:1"),[Mn,er]=Et.useState(!1),Si=Et.useRef(null),ii=Et.useRef(null),wi=Et.useRef(null),Ss=Et.useRef(null),Eo=Et.useRef(null),So=Et.useRef(null),wo=Et.useRef([]),[rn,Pt]=Et.useState(!1),[Wo,Vn]=Et.useState("agirish421@gmail.com"),[oi,He]=Et.useState(""),[ze,Gn]=Et.useState(""),[si,ws]=Et.useState(""),[nr,Cs]=Et.useState(""),[Bi,Xo]=Et.useState(""),[Ci,Fn]=Et.useState([]),[an,qn]=Et.useState(!1),[Ze,As]=Et.useState(null),$o=Et.useRef(!0);Et.useEffect(()=>{$o.current=!0;const j=KD(xu,yt=>{Ee(yt),t(ot=>yt?"APP":ot==="APP"?"LOGIN":ot)});return()=>{$o.current=!1,j()}},[]),Et.useEffect(()=>{if(e==="SPLASH"){const j=setTimeout(()=>{t("ONBOARDING")},2500);return()=>clearTimeout(j)}},[e]),Et.useEffect(()=>{U(null)},[n]),Et.useEffect(()=>{if(!Ke)return;const j=setInterval(()=>{Oe(yt=>yt+1)},1e3);return()=>clearInterval(j)},[Ke]),Et.useEffect(()=>{try{localStorage.setItem(FS,JSON.stringify(a))}catch{}},[a]);const Ai=async j=>{if(j.preventDefault(),B(""),!ft||!O){B("Please fill in all fields.");return}try{F?await qD(xu,ft,O):await ZD(xu,ft,O),t("APP")}catch(yt){B(yt.message)}},Zn=async()=>{try{const j=new qs;await mL(xu,j),t("APP")}catch(j){B(j.message)}},Hi=()=>{WD(xu).then(()=>{t("LOGIN"),s("FEED")})},Co=j=>{let yt=j;j.status===ue.IDENTIFIED&&(yt={...j,status:ue.IDEAS_FORMING},c(ot=>ot.map(Gt=>Gt.id===yt.id?yt:Gt))),_(yt),s("PLOT_DETAIL"),x(!1)},Qo=()=>{if(!qt||!q||!vt){alert("Please fill in the title, description and location.");return}if(Bn==="GPS"&&!Ct){alert("Please tap GPS Pin to capture your current location.");return}const j=Bn==="GPS"&&Ct?{...dt(Ct.lat,Ct.lng),lat:Ct.lat,lng:Ct.lng}:{x:Math.random()*80+10,y:Math.random()*80+10},yt={id:Date.now().toString(),creatorId:vT,title:qt,description:q,locationName:vt,coordinates:j,imageUrl:Vt||"https://picsum.photos/800/600?random=99",status:ue.IDENTIFIED,tags:Se.length>0?Se:["New"],ideas:[],existingPractices:_i?[_i]:[],comments:[],volunteerRequestSent:!1,generatedImages:[],spottedBy:zn?vo:void 0};c(ot=>[yt,...ot]),Bn==="GPS"&&Ct?(U(yt),As([Ct.lat,Ct.lng]),s("MAP")):s("FEED"),It(""),ct(""),Tt(""),xt(null),Ui([]),_e(null),jn(""),ti(!1),Oi(""),yi("MANUAL")},io=j=>{var ot;const yt=(ot=j.target.files)==null?void 0:ot[0];if(yt){const Gt=new FileReader;Gt.onloadend=()=>_e(Gt.result),Gt.readAsDataURL(yt)}},$t=()=>{De(!0),"geolocation"in navigator?navigator.geolocation.getCurrentPosition(j=>{const yt=j.coords.latitude,ot=j.coords.longitude;xt({lat:yt,lng:ot}),Tt(`Pin at ${yt.toFixed(5)}, ${ot.toFixed(5)}`),De(!1)},()=>{setTimeout(()=>{xt({lat:53.3438,lng:-6.2546}),Tt(`Pin at ${53.3438.toFixed(5)}, ${(-6.2546).toFixed(5)}`),De(!1)},800)}):(De(!1),alert("Geolocation is not supported in this browser."))},Zt=j=>{if(!d)return;let yt=d.status;d.status===ue.IDEAS_FORMING&&(yt=ue.IN_PROGRESS);const ot={...d,status:yt,comments:[...d.comments,j]};pn(ot),setTimeout(()=>{Si.current&&(Si.current.scrollTop=Si.current.scrollHeight)},100)},Re=()=>{!d||!sn.trim()||(Zt({id:Date.now().toString(),author:xa,text:sn.trim(),timestamp:Date.now()}),Jo(""),ei(!1))},Le=j=>{var ot;if(!d)return;const yt=(ot=j.target.files)==null?void 0:ot[0];yt&&(Zt({id:Date.now().toString(),author:xa,text:yt.name,timestamp:Date.now(),fileName:yt.name,fileType:yt.type||"application/octet-stream",fileUrl:URL.createObjectURL(yt)}),ei(!1),j.target.value="")},yn=j=>{var ot;if(!d)return;const yt=(ot=j.target.files)==null?void 0:ot[0];yt&&(Zt({id:Date.now().toString(),author:xa,text:sn.trim()||"Photo",timestamp:Date.now(),imageUrl:URL.createObjectURL(yt)}),Jo(""),ei(!1),j.target.value="")},Ao=j=>{var ot;if(!d)return;const yt=(ot=j.target.files)==null?void 0:ot[0];yt&&(Zt({id:Date.now().toString(),author:xa,text:yt.name,timestamp:Date.now(),audioUrl:URL.createObjectURL(yt)}),ei(!1),j.target.value="")},Mt=async()=>{if(d){if(Ke&&So.current){So.current.stop(),qe(!1),Oe(0);return}try{const j=await navigator.mediaDevices.getUserMedia({audio:!0}),yt=new MediaRecorder(j);wo.current=[],yt.ondataavailable=ot=>{ot.data.size>0&&wo.current.push(ot.data)},yt.onstop=()=>{const ot=new Blob(wo.current,{type:"audio/webm"});Zt({id:Date.now().toString(),author:xa,text:"Voice note",timestamp:Date.now(),audioUrl:URL.createObjectURL(ot)}),j.getTracks().forEach(Gt=>Gt.stop()),So.current=null,Oe(0)},So.current=yt,yt.start(),qe(!0),ei(!1)}catch{alert("Microphone permission denied or unavailable.")}}},ye=()=>{if(!d)return;const j=eo.trim(),yt=To.trim(),ot=tr.trim();if(!j||!yt||!ot){alert("Please add a poll question and two options.");return}Zt({id:Date.now().toString(),author:xa,text:"Poll created",timestamp:Date.now(),poll:{question:j,options:[{label:yt,votes:0},{label:ot,votes:0}]}}),en(!1),ei(!1),no(""),vi(""),Yo("")},Jn=(j,yt)=>{if(!d)return;const ot={...d,comments:d.comments.map(Gt=>!Gt.poll||Gt.id!==j?Gt:{...Gt,poll:{...Gt.poll,options:Gt.poll.options.map((we,oe)=>oe===yt?{...we,votes:we.votes+1}:we)}})};pn(ot)},xi=()=>{d&&(He(`Hey! We need help transforming a micro-plot at ${d.locationName}.

Project: ${d.title}
Needs: ${d.tags.join(", ")}

Check it out on Spot-to-Plot!`),Pt(!0),Xo(""),Fn([]),Gn(""),ws(""),Cs(""))},Ae=()=>{if(!d)return;const j={...d,volunteerRequestSent:!0,status:d.status===ue.IDENTIFIED||d.status===ue.IDEAS_FORMING?ue.IN_PROGRESS:d.status},yt=ze?` for ${ze}`:"",ot={id:Date.now().toString(),author:"System",text:` Volunteer request sent to ${Wo}${yt}!`,timestamp:Date.now(),isSystem:!0};j.comments.push(ot),pn(j),Pt(!1)},jo=async()=>{if(d){Hn(!0);try{const j=zi||"A greener, cleaner version",yt=await l2(d.imageUrl,d.description,d.ideas,j,Ti,ni);let ot=d.status;d.status===ue.IDEAS_FORMING&&(ot=ue.IN_PROGRESS);const Gt={...d,status:ot,generatedImages:[yt,...d.generatedImages]};Gt.comments.push({id:Date.now().toString(),author:"AI Assistant",text:`Here is a ${Ti.toLowerCase()} visualization for: "${j}"`,timestamp:Date.now(),isSystem:!0,imageUrl:yt,isAiGenerated:!0}),pn(Gt),Ko(""),setTimeout(()=>{Si.current&&(Si.current.scrollTop=Si.current.scrollHeight)},100)}catch(j){alert(`Failed: ${j.message}`)}finally{Hn(!1)}}},xo=()=>{if(!d)return;const j={...d,status:ue.COMPLETED};j.comments.push({id:Date.now().toString(),author:"System",text:" This plot has been marked as Completed! Great job everyone.",timestamp:Date.now(),isSystem:!0}),pn(j)},pn=j=>{c(a.map(yt=>yt.id===j.id?j:yt)),_(j)},ve=j=>{v(yt=>yt.map(ot=>ot.id===j?{...ot,read:!0}:ot))},Yn=T.filter(j=>!j.read).length,Kn=()=>{window.print()},We=()=>N.jsxs("div",{className:"absolute inset-0 z-[60] bg-emerald-600 flex flex-col items-center justify-center text-white animate-in fade-in duration-500",children:[N.jsx("div",{className:"p-6 bg-white/10 rounded-3xl backdrop-blur-sm mb-6 animate-pulse",children:N.jsx(sf,{size:64,className:"text-white drop-shadow-lg"})}),N.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-2",children:"Spot-to-Plot"}),N.jsx("p",{className:"text-emerald-100 font-medium tracking-widest uppercase text-xs",children:"Collective"})]}),ts=()=>N.jsxs("div",{className:"absolute inset-0 z-[60] bg-white flex flex-col animate-in slide-in-from-right duration-500",children:[N.jsxs("div",{className:"flex-1 p-8 flex flex-col items-center justify-center text-center max-w-sm mx-auto",children:[N.jsx("div",{className:"w-16 h-16 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center mb-8 shadow-sm",children:N.jsx(sf,{size:32})}),N.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:ut("transformCity")}),N.jsx("p",{className:"text-gray-500 mb-10 leading-relaxed",children:ut("reclaimNeglected")}),N.jsxs("div",{className:"w-full space-y-6 text-left",children:[N.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-xl bg-gray-50 border border-gray-100",children:[N.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm text-blue-500",children:N.jsx(nf,{size:20})}),N.jsxs("div",{children:[N.jsxs("h3",{className:"font-bold text-gray-900 text-sm",children:["1. ",ut("capture")]}),N.jsx("p",{className:"text-xs text-gray-500 mt-1",children:ut("captureDesc")})]})]}),N.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-xl bg-gray-50 border border-gray-100",children:[N.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm text-violet-500",children:N.jsx(Ny,{size:20})}),N.jsxs("div",{children:[N.jsxs("h3",{className:"font-bold text-gray-900 text-sm",children:["2. ",ut("discuss")]}),N.jsx("p",{className:"text-xs text-gray-500 mt-1",children:ut("discussDesc")})]})]}),N.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-xl bg-gray-50 border border-gray-100",children:[N.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm text-orange-500",children:N.jsx(qC,{size:20})}),N.jsxs("div",{children:[N.jsxs("h3",{className:"font-bold text-gray-900 text-sm",children:["3. ",ut("collaborate")]}),N.jsx("p",{className:"text-xs text-gray-500 mt-1",children:ut("collaborateDesc")})]})]})]})]}),N.jsx("div",{className:"p-6 bg-white border-t border-gray-50",children:N.jsxs(kr,{onClick:()=>t("LOGIN"),className:"w-full shadow-emerald-200 shadow-lg",children:[ut("getStarted")," ",N.jsx(bu,{size:18})]})})]}),Vi=()=>N.jsx("div",{className:"absolute inset-0 z-[60] bg-white flex flex-col items-center justify-center p-6 animate-in fade-in slide-in-from-right duration-500",children:N.jsxs("div",{className:"w-full max-w-sm space-y-8",children:[N.jsxs("div",{className:"text-center",children:[N.jsx("div",{className:"w-20 h-20 bg-emerald-50 rounded-full flex items-center justify-center mx-auto mb-6",children:N.jsx("div",{className:"w-12 h-12 bg-emerald-600 rounded-xl flex items-center justify-center shadow-lg shadow-emerald-600/20",children:N.jsx(sf,{className:"text-white",size:28})})}),N.jsx("h2",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:ut(F?"createAccount":"welcomeBack")}),N.jsx("p",{className:"text-gray-500 mt-2",children:ut("enterDetails")})]}),N.jsxs("form",{onSubmit:Ai,className:"space-y-5",children:[J&&N.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 rounded-lg",children:J}),N.jsxs("div",{className:"space-y-1",children:[N.jsx("label",{className:"text-sm font-semibold text-gray-700 ml-1",children:ut("email")}),N.jsxs("div",{className:"relative",children:[N.jsx(tA,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),N.jsx("input",{type:"email",required:!0,className:"w-full bg-gray-50 border border-gray-200 rounded-xl pl-11 pr-4 py-3.5 text-sm focus:bg-white focus:ring-2 focus:ring-emerald-500 outline-none transition-all",placeholder:"name@example.com",value:ft,onChange:j=>z(j.target.value)})]})]}),N.jsxs("div",{className:"space-y-1",children:[N.jsx("label",{className:"text-sm font-semibold text-gray-700 ml-1",children:ut("password")}),N.jsxs("div",{className:"relative",children:[N.jsx(XC,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),N.jsx("input",{type:"password",required:!0,className:"w-full bg-gray-50 border border-gray-200 rounded-xl pl-11 pr-4 py-3.5 text-sm focus:bg-white focus:ring-2 focus:ring-emerald-500 outline-none transition-all",placeholder:"Enter password (min 6 chars)",value:O,onChange:j=>k(j.target.value)})]})]}),N.jsx("div",{className:"pt-4",children:N.jsx(kr,{type:"submit",className:"w-full shadow-xl shadow-emerald-200/50 py-4 text-base",children:ut(F?"signUp":"signIn")})}),N.jsx("div",{className:"pt-2",children:N.jsxs(kr,{type:"button",onClick:Zn,variant:"secondary",className:"w-full shadow flex items-center justify-center gap-2 py-4 text-base",children:[N.jsxs("svg",{viewBox:"0 0 24 24",width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",children:[N.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),N.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),N.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),N.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"}),N.jsx("path",{d:"M1 1h22v22H1z",fill:"none"})]}),ut("continueWithGoogle")]})}),N.jsx("div",{className:"text-center pt-2",children:N.jsx("button",{type:"button",onClick:()=>V(!F),className:"text-sm text-emerald-600 font-semibold hover:underline",children:ut(F?"alreadyHaveAccount":"dontHaveAccount")})})]})]})}),bo=()=>w?N.jsxs("div",{className:"absolute top-16 right-4 w-80 bg-white rounded-2xl shadow-xl border border-gray-100 z-50 overflow-hidden animate-in slide-in-from-top-2 fade-in duration-200",children:[N.jsxs("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-100 flex justify-between items-center",children:[N.jsx("h3",{className:"font-bold text-sm text-gray-700",children:"Notifications"}),Yn>0&&N.jsxs("span",{className:"text-[10px] bg-red-100 text-red-600 px-2 py-0.5 rounded-full font-bold",children:[Yn," New"]})]}),N.jsx("div",{className:"max-h-80 overflow-y-auto no-scrollbar",children:T.length===0?N.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:"No notifications yet."}):T.map(j=>N.jsxs("div",{className:`p-4 border-b border-gray-50 last:border-0 hover:bg-gray-50 transition-colors cursor-pointer relative ${j.read?"":"bg-emerald-50/30"}`,onClick:()=>ve(j.id),children:[!j.read&&N.jsx("div",{className:"absolute top-4 right-4 w-2 h-2 rounded-full bg-emerald-500"}),N.jsxs("div",{className:"flex gap-3",children:[N.jsx("div",{className:`mt-0.5 w-8 h-8 rounded-full flex items-center justify-center shrink-0 ${j.type==="success"?"bg-green-100 text-green-600":"bg-blue-100 text-blue-600"}`,children:j.type==="success"?N.jsx(of,{size:14}):N.jsx(Ny,{size:14})}),N.jsxs("div",{children:[N.jsx("h4",{className:"font-bold text-sm text-gray-800 leading-tight mb-1",children:j.title}),N.jsx("p",{className:"text-xs text-gray-600 leading-relaxed mb-1.5",children:j.message}),N.jsxs("span",{className:"text-[10px] text-gray-400",children:[Math.floor((Date.now()-j.timestamp)/6e4)," mins ago"]})]})]})]},j.id))})]}):null,oo=()=>n==="ADD_PLOT"||n==="PLOT_DETAIL"||n==="PROFILE"||n==="MAP"&&b?null:N.jsx("button",{onClick:()=>s("ADD_PLOT"),className:"absolute bottom-24 right-6 w-14 h-14 bg-emerald-600 rounded-full shadow-xl flex items-center justify-center text-white active:scale-90 transition-transform z-50 hover:bg-emerald-700",children:N.jsx(vA,{size:28})}),Io=()=>n==="PLOT_DETAIL"||n==="ADD_PLOT"||n==="PROFILE"?null:N.jsxs("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 bg-white/95 backdrop-blur border border-gray-200 py-3 px-8 rounded-full shadow-xl z-40 flex items-center gap-12",children:[N.jsxs("button",{onClick:()=>s("FEED"),className:`flex flex-col items-center transition-colors ${n==="FEED"?"text-emerald-600":"text-gray-400 hover:text-gray-600"}`,children:[N.jsx(gf,{size:24}),N.jsx("span",{className:"text-[10px] font-bold mt-1 uppercase tracking-wide",children:ut("community")})]}),N.jsxs("button",{onClick:()=>s("MAP"),className:`flex flex-col items-center transition-colors ${n==="MAP"?"text-emerald-600":"text-gray-400 hover:text-gray-600"}`,children:[N.jsx(iA,{size:24}),N.jsx("span",{className:"text-[10px] font-bold mt-1 uppercase tracking-wide",children:ut("map")})]})]}),bi=()=>N.jsxs("div",{className:"h-full flex flex-col bg-gray-50 relative",children:[N.jsxs("header",{className:"px-5 py-4 bg-white border-b border-gray-100 z-40 shrink-0 flex items-center justify-between shadow-sm",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("div",{className:"w-10 h-10 bg-emerald-600 rounded-xl flex items-center justify-center shadow-lg shadow-emerald-600/20",children:N.jsx(sf,{className:"text-white",size:22})}),N.jsxs("div",{children:[N.jsx("h1",{className:"text-lg font-bold text-gray-900 tracking-tight leading-none",children:"Spot-to-Plot"}),N.jsx("span",{className:"text-[10px] font-semibold text-emerald-600 uppercase tracking-wider",children:"The Liberties"})]})]}),N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsxs("button",{className:"p-2 rounded-full hover:bg-gray-50 transition-colors relative",onClick:()=>x(!w),children:[N.jsx(CC,{size:24,className:"text-gray-400",strokeWidth:1.5}),Yn>0&&N.jsx("span",{className:"absolute top-1.5 right-1.5 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-white"})]}),N.jsx("button",{className:"p-1 rounded-full hover:bg-gray-50 transition-colors",onClick:()=>s("PROFILE"),title:"Profile",children:N.jsx(Ry,{size:28,className:"text-gray-400",strokeWidth:1.5})})]})]}),bo(),N.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar p-4 pb-32",onClick:()=>x(!1),children:N.jsx("div",{className:"max-w-lg mx-auto space-y-4",children:a.map(j=>N.jsx(UA,{plot:j,onClick:Co},j.id))})})]}),so=({plots:j,getMarkerIcon:yt,setMapPreviewPlot:ot})=>{const Gt=kp();return N.jsxs(N.Fragment,{children:[N.jsx(R4,{url:"https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors  <a href="https://carto.com/attributions">CARTO</a>'}),j.map(we=>{const[oe,Xe]=_t(we);return N.jsx(I4,{position:[oe,Xe],icon:yt(we.status),eventHandlers:{click:En=>{var Dn;(Dn=En.originalEvent)==null||Dn.stopPropagation(),ot(we),Gt.flyTo([oe,Xe],17,{animate:!0,duration:1.5})}}},we.id)})]})},vn=({onMapClick:j})=>(A4({click:()=>j()}),null),es=({target:j})=>{const yt=kp();return Et.useEffect(()=>{j&&yt.flyTo(j,17,{animate:!0,duration:1.2})},[yt,j]),null},Tn=()=>N.jsxs("div",{className:"h-full w-full relative bg-gray-100 z-0",children:[N.jsxs(b4,{center:Y,zoom:14,zoomControl:!1,className:"w-full h-full",children:[N.jsx(vn,{onMapClick:()=>U(null)}),N.jsx(es,{target:Ze}),N.jsx(so,{plots:a,getMarkerIcon:Rt,setMapPreviewPlot:U})]}),b&&N.jsx("div",{className:"absolute bottom-28 left-4 right-4 rounded-[36px] bg-white/85 backdrop-blur-sm p-2.5 shadow-[0_18px_35px_rgba(15,23,42,0.16)] z-[1000]",onClick:j=>j.stopPropagation(),children:N.jsxs("div",{className:"flex gap-3 items-center rounded-3xl bg-white p-2.5 shadow-sm",children:[N.jsx("div",{className:"w-20 h-20 shrink-0 rounded-xl overflow-hidden bg-gray-100",children:N.jsx("img",{src:b.imageUrl,className:"w-full h-full object-cover"})}),N.jsxs("div",{className:"min-w-0 flex-1 flex flex-col gap-2",children:[N.jsxs("div",{className:"min-w-0",children:[N.jsx("h3",{className:"font-extrabold text-base text-gray-900 leading-tight truncate",children:b.title}),N.jsxs("p",{className:"mt-0.5 text-sm text-gray-500 flex items-center gap-1 truncate",children:[N.jsx(mf,{size:13,className:"text-gray-400 shrink-0"}),b.locationName]})]}),N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsx("span",{className:"text-[10px] font-bold px-3 py-1 bg-gray-100 rounded-full text-gray-600 uppercase tracking-wide",children:b.status.replace(/_/g," ")}),N.jsxs("button",{onClick:()=>Co(b),className:"bg-emerald-600 text-white rounded-xl px-4 py-2 text-sm font-bold flex items-center gap-1 hover:bg-emerald-700",children:["View",N.jsx(bu,{size:14})]})]})]})]})})]}),ro=()=>!an||!d?null:N.jsxs("div",{className:"fixed inset-0 z-[100] bg-black/80 flex items-center justify-center p-6 backdrop-blur-sm print:hidden",children:[N.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-lg overflow-hidden flex flex-col max-h-[90vh] shadow-2xl relative animate-in zoom-in-95 duration-200",children:[N.jsx("button",{onClick:()=>qn(!1),className:"absolute top-4 right-4 bg-gray-100 p-2 rounded-full hover:bg-gray-200 transition-colors",children:N.jsx(rf,{size:20})}),N.jsx("div",{className:"p-8 overflow-y-auto no-scrollbar",id:"printable-poster",children:N.jsxs("div",{className:"border-[12px] border-emerald-600 p-8 min-h-[600px] flex flex-col items-center text-center font-sans bg-white",children:[N.jsx("div",{className:"bg-emerald-600 text-white px-6 py-2 rounded-full font-black text-xl mb-6 tracking-tighter uppercase",children:"Spot-to-Plot Project"}),N.jsx("h2",{className:"text-4xl font-black text-gray-900 mb-2 leading-none",children:d.title}),N.jsxs("div",{className:"flex items-center text-emerald-600 gap-1 font-bold text-lg mb-8 uppercase tracking-widest",children:[N.jsx(mf,{size:24})," ",d.locationName]}),N.jsx("div",{className:"w-full h-64 rounded-2xl overflow-hidden mb-8 shadow-xl border-4 border-emerald-100",children:N.jsx("img",{src:d.imageUrl,className:"w-full h-full object-cover"})}),N.jsx("p",{className:"text-xl text-gray-600 font-medium leading-relaxed mb-10 italic",children:'"Something beautiful is happening here. Join your neighbors in transforming this neglected corner into a vibrant community micro-plot."'}),N.jsxs("div",{className:"flex flex-col items-center gap-4 bg-gray-50 p-6 rounded-3xl w-full border-2 border-dashed border-gray-200",children:[N.jsx("div",{className:"bg-white p-4 rounded-2xl shadow-md",children:N.jsx(Py,{size:120,className:"text-emerald-700"})}),N.jsxs("div",{children:[N.jsx("h4",{className:"font-black text-gray-900 text-lg uppercase",children:"Scan to Join the Room"}),N.jsx("p",{className:"text-gray-500 text-sm font-semibold",children:"See ideas, vote, and volunteer online."})]})]})]})}),N.jsxs("div",{className:"p-6 bg-gray-50 border-t border-gray-100 flex gap-4",children:[N.jsxs(kr,{onClick:Kn,className:"flex-1 bg-emerald-600",children:[N.jsx(EA,{size:20})," Print Poster"]}),N.jsx(kr,{variant:"secondary",onClick:()=>qn(!1),className:"flex-1",children:"Close"})]})]}),N.jsx("style",{children:`
                @media print {
                    body * { visibility: hidden; }
                    #printable-poster, #printable-poster * { visibility: visible; }
                    #printable-poster { position: fixed; left: 0; top: 0; width: 100vw; height: 100vh; padding: 0; margin: 0; border: none; }
                }
            `})]}),Ot=()=>N.jsxs("div",{className:"p-4 h-full bg-white flex flex-col max-w-lg mx-auto",children:[N.jsxs("div",{className:"flex items-center mb-6",children:[N.jsx("button",{onClick:()=>s("FEED"),className:"p-2 -ml-2 text-gray-600",children:N.jsx(rf,{})}),N.jsx("h2",{className:"text-xl font-bold ml-2",children:"Capture a Plot"})]}),N.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar space-y-6",children:[N.jsxs("div",{className:"space-y-2",children:[N.jsx("label",{className:"block font-bold text-[10px] uppercase text-gray-400 tracking-widest",children:"Photo"}),N.jsxs("div",{className:"h-48 bg-gray-100 rounded-2xl border-2 border-dashed border-gray-300 flex flex-col items-center justify-center relative overflow-hidden group",onClick:()=>{var j;return(j=document.getElementById("plot-upload"))==null?void 0:j.click()},children:[Vt?N.jsx("img",{src:Vt,className:"absolute inset-0 w-full h-full object-cover"}):N.jsxs(N.Fragment,{children:[N.jsx(nf,{size:32,className:"mb-2 text-gray-300"}),N.jsx("span",{className:"text-sm text-gray-400 font-medium",children:"Tap to take photo"})]}),N.jsx("input",{id:"plot-upload",type:"file",accept:"image/*",className:"hidden",onChange:io})]})]}),N.jsxs("div",{className:"space-y-4",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block font-bold text-[10px] uppercase text-gray-400 tracking-widest mb-1",children:"Brief Description"}),N.jsx("input",{type:"text",placeholder:"e.g. Wasted corner near X street",className:"w-full p-4 bg-gray-50 rounded-xl border-transparent focus:bg-white focus:ring-2 focus:ring-emerald-500 transition-all outline-none font-medium",value:qt,onChange:j=>It(j.target.value)})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block font-bold text-[10px] uppercase text-gray-400 tracking-widest mb-1",children:"Details & Context"}),N.jsx("textarea",{rows:2,placeholder:"Describe the issues or potential...",className:"w-full p-4 bg-gray-50 rounded-xl border-transparent focus:bg-white focus:ring-2 focus:ring-emerald-500 transition-all outline-none resize-none font-medium",value:q,onChange:j=>ct(j.target.value)})]}),N.jsxs("div",{children:[N.jsxs("label",{className:"block font-bold text-[10px] uppercase text-gray-400 tracking-widest mb-1 flex items-center gap-1",children:[N.jsx(Dy,{size:10})," What we already do here"]}),N.jsx("input",{type:"text",placeholder:"e.g. Residents organize cleanups...",className:"w-full p-4 bg-amber-50 rounded-xl border-transparent focus:bg-white focus:ring-2 focus:ring-amber-500 transition-all outline-none font-medium placeholder:text-amber-300 text-amber-900",value:_i,onChange:j=>jn(j.target.value)})]}),N.jsxs("div",{className:"bg-emerald-50 p-4 rounded-2xl border border-emerald-100",children:[N.jsxs("div",{className:"flex items-center justify-between mb-2",children:[N.jsxs("div",{className:"flex items-center gap-2 text-emerald-800 font-bold text-sm",children:[N.jsx(DA,{size:18})," Log on behalf of someone?"]}),N.jsx("button",{onClick:()=>ti(!zn),className:`w-10 h-6 rounded-full transition-colors relative ${zn?"bg-emerald-600":"bg-gray-300"}`,children:N.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-transform ${zn?"translate-x-5":"translate-x-1"}`})})]}),zn&&N.jsx("div",{className:"animate-in fade-in slide-in-from-top-1 duration-200",children:N.jsx("input",{type:"text",placeholder:"Who spotted this? (e.g. Marie)",className:"w-full p-3 bg-white border-2 border-emerald-100 rounded-xl outline-none focus:border-emerald-500 text-sm font-semibold text-emerald-900",value:vo,onChange:j=>Oi(j.target.value)})})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block font-bold text-[10px] uppercase text-gray-400 tracking-widest mb-2",children:"Location"}),N.jsxs("div",{className:"bg-gray-50 p-1.5 rounded-xl mb-3 flex gap-1",children:[N.jsx("button",{onClick:()=>{yi("MANUAL"),xt(null),Tt("")},className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all ${Bn==="MANUAL"?"bg-white shadow text-gray-900":"text-gray-500"}`,children:"Address"}),N.jsx("button",{onClick:()=>{yi("GPS"),Tt("")},className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all ${Bn==="GPS"?"bg-white shadow text-gray-900":"text-gray-500"}`,children:"GPS Pin"})]}),Bn==="MANUAL"?N.jsx("input",{type:"text",placeholder:"Street name, landmark...",className:"w-full p-4 bg-gray-50 rounded-xl border-transparent focus:bg-white focus:ring-2 focus:ring-emerald-500 transition-all outline-none font-medium",value:vt,onChange:j=>Tt(j.target.value)}):N.jsxs("button",{onClick:$t,className:`w-full py-4 border-2 border-dashed rounded-xl font-bold flex items-center justify-center gap-2 transition-all ${Ct?"bg-emerald-50 border-emerald-500 text-emerald-700":"border-gray-200 bg-gray-50 text-gray-400"}`,children:[Fe?N.jsx("div",{className:"w-5 h-5 border-2 border-current border-t-transparent rounded-full animate-spin"}):N.jsx(dA,{size:18}),Ct?`Pin at ${Ct.lat.toFixed(5)}, ${Ct.lng.toFixed(5)}`:"Tap to Drop Pin"]})]})]})]}),N.jsx("div",{className:"pt-4 mt-auto",children:N.jsx(kr,{onClick:Qo,className:"w-full py-4 text-lg font-bold",children:"Create Room"})})]}),ln=()=>{if(!d)return null;const j=d.creatorId===vT,yt=d.status===ue.IN_PROGRESS;return N.jsxs("div",{className:"flex flex-col h-full bg-white max-w-lg mx-auto relative overflow-hidden",children:[Gi(),ro(),N.jsxs("div",{className:"relative h-64 shrink-0 bg-gray-900",children:[N.jsx("img",{src:d.imageUrl,alt:"Plot",className:`w-full h-full object-cover opacity-90 ${d.status===ue.COMPLETED?"grayscale-[50%]":""}`}),N.jsx("div",{className:"absolute top-0 left-0 w-full p-4 flex justify-between items-start bg-gradient-to-b from-black/60 to-transparent z-20",children:N.jsx("button",{onClick:()=>s("FEED"),className:"text-white p-2 rounded-xl bg-black/20 backdrop-blur",children:N.jsx(Iy,{size:24})})}),d.status===ue.COMPLETED&&N.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 backdrop-blur-[2px] z-10",children:N.jsxs("div",{className:"bg-white px-8 py-4 rounded-2xl shadow-2xl flex flex-col items-center transform rotate-[-3deg]",children:[N.jsx(of,{className:"text-blue-500 w-12 h-12 mb-2"}),N.jsx("span",{className:"text-2xl font-black text-gray-800 uppercase tracking-widest",children:"Completed"})]})})]}),N.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar bg-gray-50",ref:Si,children:[N.jsxs("div",{className:"p-6 bg-white mb-2 shadow-sm relative",children:[N.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[N.jsxs("div",{className:"flex items-center bg-emerald-50 text-emerald-800 text-[10px] font-black px-2 py-1 rounded-full border border-emerald-100 uppercase tracking-widest",children:["Spotted by: ",d.spottedBy||(j?"Me":"Resident")]}),d.spottedBy&&N.jsxs("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest flex items-center gap-1",children:[N.jsx(bu,{size:10})," Logged by: ",j?"Me":"Ashwin"]})]}),N.jsx("h1",{className:"text-2xl font-black text-gray-900 mb-1 tracking-tight leading-none",children:d.title}),N.jsxs("p",{className:"text-gray-400 text-sm font-bold flex items-center mb-4 uppercase tracking-wider",children:[N.jsx(mf,{size:14,className:"mr-1"})," ",d.locationName]}),N.jsx("p",{className:"text-gray-700 leading-relaxed mb-6 font-medium",children:d.description}),d.existingPractices&&d.existingPractices.length>0&&N.jsxs("div",{className:"bg-amber-50 border border-amber-100 rounded-2xl p-4 mb-6 shadow-sm",children:[N.jsxs("div",{className:"flex items-center gap-2 text-amber-800 font-black text-[10px] uppercase tracking-widest mb-2",children:[N.jsx(Dy,{size:12})," What we already do here"]}),d.existingPractices.map((ot,Gt)=>N.jsxs("div",{className:"flex gap-3 items-start",children:[N.jsx("div",{className:"w-6 h-6 rounded-full bg-white flex items-center justify-center shadow-sm shrink-0 mt-0.5",children:N.jsx(KC,{size:12,className:"text-amber-500"})}),N.jsxs("p",{className:"text-xs font-bold text-amber-900 leading-relaxed italic",children:['"',ot,'"']})]},Gt))]}),N.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[N.jsxs("button",{onClick:d.volunteerRequestSent?void 0:xi,className:`p-4 rounded-2xl border-2 flex flex-col items-center justify-center gap-2 transition-all ${d.volunteerRequestSent?"bg-emerald-50 border-emerald-100 text-emerald-800":"bg-white border-emerald-50 text-emerald-600 hover:border-emerald-200 hover:bg-emerald-50/30"}`,children:[N.jsx(gf,{size:24,className:d.volunteerRequestSent?"text-emerald-700":"text-emerald-600"}),N.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:d.volunteerRequestSent?"Requested":"Request Help"})]}),N.jsxs("button",{onClick:()=>er(!Mn),className:`p-4 rounded-2xl border-2 flex flex-col items-center justify-center gap-2 transition-all ${Mn?"bg-violet-600 border-violet-600 text-white":"bg-white border-violet-50 text-violet-600 hover:border-violet-100 hover:bg-violet-50/30"}`,children:[N.jsx(Ly,{size:24}),N.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"Visualize"})]})]}),yt&&N.jsx("div",{className:"mb-6 animate-in slide-in-from-right-4 duration-300",children:N.jsxs("button",{onClick:()=>qn(!0),className:"w-full bg-gradient-to-r from-orange-400 to-amber-500 p-4 rounded-2xl text-white shadow-lg shadow-orange-200 flex items-center justify-between group active:scale-[0.98] transition-all",children:[N.jsxs("div",{className:"flex items-center gap-4",children:[N.jsx("div",{className:"bg-white/20 p-2 rounded-xl group-hover:scale-110 transition-transform",children:N.jsx(Py,{size:24})}),N.jsxs("div",{className:"text-left",children:[N.jsx("h4",{className:"font-black text-sm uppercase leading-none mb-1",children:"Print Project Poster"}),N.jsx("p",{className:"text-xs font-bold opacity-90",children:"Spread the word with a QR code!"})]})]}),N.jsx(UC,{size:20})]})}),Mn&&N.jsxs("div",{className:"p-4 bg-violet-50 border border-violet-100 rounded-2xl mb-6 animate-in zoom-in-95 duration-200",children:[N.jsxs("div",{className:"flex items-center justify-between mb-4",children:[N.jsx("span",{className:"font-black text-violet-800 text-xs uppercase tracking-widest",children:"AI Visualization"}),N.jsx("button",{onClick:()=>er(!1),className:"text-violet-400 hover:text-violet-600",children:N.jsx(rf,{size:18})})]}),N.jsxs("div",{className:"relative mb-4",children:[N.jsx("input",{type:"text",value:zi,onChange:ot=>Ko(ot.target.value),placeholder:"e.g. urban garden with solar lights...",className:"w-full p-4 pr-12 bg-white rounded-xl border-none shadow-sm text-sm font-bold focus:ring-2 focus:ring-violet-300 outline-none"}),N.jsx("button",{onClick:jo,disabled:Es,className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-violet-600 text-white rounded-lg hover:bg-violet-700 disabled:opacity-50",children:Es?N.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):N.jsx(bu,{size:18})})]}),N.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[N.jsxs("select",{value:Ti,onChange:ot=>Be(ot.target.value),className:"bg-white p-3 rounded-lg text-xs font-bold text-violet-800 shadow-sm outline-none border-none",children:[N.jsx("option",{value:"Photorealistic",children:"Realistic"}),N.jsx("option",{value:"Sketch",children:"Sketch"}),N.jsx("option",{value:"Nature-Takeover",children:"Nature"})]}),N.jsxs("select",{value:ni,onChange:ot=>Ei(ot.target.value),className:"bg-white p-3 rounded-lg text-xs font-bold text-violet-800 shadow-sm outline-none border-none",children:[N.jsx("option",{value:"1:1",children:"1:1 Square"}),N.jsx("option",{value:"16:9",children:"16:9 Wide"})]})]})]}),j&&d.status!==ue.COMPLETED&&N.jsxs(kr,{onClick:xo,className:"w-full bg-blue-600 hover:bg-blue-700 font-black tracking-widest py-4",children:[N.jsx(of,{size:20})," Project Completed"]})]}),N.jsxs("div",{className:"p-6",children:[N.jsx("h3",{className:"font-black text-gray-900 text-lg mb-6 uppercase tracking-tight",children:"Room Discussion"}),N.jsx("div",{className:"space-y-6 mb-12",children:d.comments.map(ot=>{const Gt=ot.isAiGenerated,we=ot.author===xa,oe=ot.isSystem&&!Gt;return N.jsx("div",{className:`flex ${we?"justify-end":"justify-start"} w-full`,children:N.jsxs("div",{className:`max-w-[85%] rounded-3xl overflow-hidden relative shadow-sm ${oe?"bg-blue-50 text-blue-800 text-xs w-full text-center py-2 px-4 rounded-xl border border-blue-100 font-bold":Gt?"bg-white border border-violet-100 rounded-bl-none":we?"bg-emerald-600 text-white rounded-br-none":"bg-white border border-gray-100 rounded-bl-none"}`,children:[ot.imageUrl&&N.jsxs("div",{className:"relative w-full h-48 bg-gray-100 group",children:[N.jsx("img",{src:ot.imageUrl,className:"w-full h-full object-cover"}),Gt&&N.jsxs("div",{className:"absolute top-2 left-2 bg-violet-600/90 text-white text-[10px] font-black px-2 py-1 rounded-full flex items-center gap-1 shadow-sm backdrop-blur-sm z-10",children:[N.jsx(Ly,{size:10})," AI Generated"]}),N.jsx("div",{className:"absolute bottom-2 right-2 flex gap-2 z-10 sm:opacity-0 opacity-100 group-hover:opacity-100 transition-opacity",children:N.jsx("button",{onClick:()=>window.open(ot.imageUrl,"_blank"),className:"p-2 bg-black/40 text-white rounded-full backdrop-blur-md border border-white/20",children:N.jsx(zC,{size:14})})})]}),N.jsxs("div",{className:"p-4",children:[!oe&&!we&&N.jsx("div",{className:`text-[10px] font-black mb-1 uppercase tracking-widest ${Gt?"text-violet-600":"text-gray-400"}`,children:ot.author}),N.jsx("p",{className:`text-sm ${we?"font-medium":"font-semibold text-gray-800"}`,children:ot.text}),ot.audioUrl&&N.jsx(St,{url:ot.audioUrl,mine:we}),ot.fileUrl&&ot.fileName&&N.jsx("div",{className:"mt-3",children:N.jsxs("a",{href:ot.fileUrl,download:ot.fileName,className:"inline-flex items-center gap-2 px-3 py-2 rounded-xl bg-gray-50 text-xs font-bold text-gray-700 border border-gray-200",children:[N.jsx(My,{size:12}),ot.fileName]})}),ot.poll&&N.jsxs("div",{className:"mt-3 bg-white/80 border border-gray-200 rounded-xl p-3",children:[N.jsx("p",{className:"text-xs font-black text-gray-700 uppercase tracking-widest mb-2",children:ot.poll.question}),N.jsx("div",{className:"space-y-2",children:ot.poll.options.map((Xe,En)=>N.jsxs("button",{onClick:()=>Jn(ot.id,En),className:"w-full flex justify-between items-center px-3 py-2 rounded-lg bg-gray-50 hover:bg-gray-100 text-xs font-semibold text-gray-700",children:[N.jsx("span",{children:Xe.label}),N.jsx("span",{children:Xe.votes})]},`${ot.id}-${En}`))})]})]})]})},ot.id)})})]})]}),N.jsxs("div",{className:"p-3 bg-[#f0f2f5] border-t border-gray-200 relative",children:[Ts&&N.jsxs("div",{className:"absolute bottom-[70px] left-3 right-3 bg-white rounded-2xl border border-gray-200 shadow-2xl p-3 z-20",children:[N.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[N.jsxs("button",{onClick:()=>{var ot;return(ot=Ss.current)==null?void 0:ot.click()},className:"flex flex-col items-center gap-2 text-xs font-semibold text-gray-700",children:[N.jsx("span",{className:"w-11 h-11 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center",children:N.jsx(nf,{size:18})}),"Camera"]}),N.jsxs("button",{onClick:()=>{var ot;return(ot=wi.current)==null?void 0:ot.click()},className:"flex flex-col items-center gap-2 text-xs font-semibold text-gray-700",children:[N.jsx("span",{className:"w-11 h-11 rounded-full bg-emerald-100 text-emerald-600 flex items-center justify-center",children:N.jsx(JC,{size:18})}),"Gallery"]}),N.jsxs("button",{onClick:()=>{var ot;return(ot=ii.current)==null?void 0:ot.click()},className:"flex flex-col items-center gap-2 text-xs font-semibold text-gray-700",children:[N.jsx("span",{className:"w-11 h-11 rounded-full bg-violet-100 text-violet-600 flex items-center justify-center",children:N.jsx(HC,{size:18})}),"Document"]}),N.jsxs("button",{onClick:()=>{var ot;return(ot=Eo.current)==null?void 0:ot.click()},className:"flex flex-col items-center gap-2 text-xs font-semibold text-gray-700",children:[N.jsx("span",{className:"w-11 h-11 rounded-full bg-orange-100 text-orange-600 flex items-center justify-center",children:N.jsx(cA,{size:18})}),"Audio"]})]}),N.jsxs("button",{onClick:()=>{ei(!1),en(!0)},className:"w-full mt-3 py-2.5 rounded-xl bg-gray-50 border border-gray-200 text-sm font-bold text-gray-700 flex items-center justify-center gap-2",children:[N.jsx(bC,{size:16}),"Create Poll"]})]}),vs&&N.jsxs("div",{className:"mb-3 p-3 rounded-2xl bg-white border border-gray-200 shadow-sm space-y-2",children:[N.jsx("input",{type:"text",placeholder:"Ask a question",className:"w-full bg-gray-50 rounded-xl px-3 py-2.5 text-sm font-semibold border border-gray-200 outline-none focus:ring-2 focus:ring-emerald-500",value:eo,onChange:ot=>no(ot.target.value)}),N.jsx("input",{type:"text",placeholder:"Option 1",className:"w-full bg-gray-50 rounded-xl px-3 py-2.5 text-sm font-semibold border border-gray-200 outline-none focus:ring-2 focus:ring-emerald-500",value:To,onChange:ot=>vi(ot.target.value)}),N.jsx("input",{type:"text",placeholder:"Option 2",className:"w-full bg-gray-50 rounded-xl px-3 py-2.5 text-sm font-semibold border border-gray-200 outline-none focus:ring-2 focus:ring-emerald-500",value:tr,onChange:ot=>Yo(ot.target.value)}),N.jsxs("div",{className:"flex gap-2",children:[N.jsx("button",{onClick:ye,className:"flex-1 py-2.5 rounded-xl bg-emerald-600 text-white text-sm font-bold",children:"Send Poll"}),N.jsx("button",{onClick:()=>en(!1),className:"px-3 py-2.5 rounded-xl bg-white border border-gray-200 text-sm font-bold text-gray-600",children:"Cancel"})]})]}),N.jsx("input",{ref:ii,type:"file",className:"hidden",onChange:Le}),N.jsx("input",{ref:Ss,type:"file",accept:"image/*",capture:"environment",className:"hidden",onChange:yn}),N.jsx("input",{ref:wi,type:"file",accept:"image/*",className:"hidden",onChange:yn}),N.jsx("input",{ref:Eo,type:"file",accept:"audio/*",className:"hidden",onChange:Ao}),N.jsxs("div",{className:"flex items-end gap-2",children:[N.jsxs("div",{className:"flex-1 rounded-3xl bg-white border border-gray-200 px-3 py-2 flex items-center gap-2 min-h-11",children:[N.jsx(RA,{size:18,className:"text-gray-400 shrink-0"}),Ke?N.jsxs("div",{className:"flex-1 flex items-center justify-between text-sm font-semibold text-red-600",children:[N.jsxs("span",{className:"flex items-center gap-2",children:[N.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"}),"Recording audio"]}),N.jsx("span",{children:lt(Nn)})]}):N.jsx("input",{type:"text",placeholder:"Message",className:"flex-1 text-sm font-semibold outline-none bg-transparent",value:sn,onFocus:()=>ei(!1),onChange:ot=>Jo(ot.target.value),onKeyDown:ot=>ot.key==="Enter"&&Re()}),N.jsx("button",{onClick:()=>ei(ot=>!ot),className:"text-gray-400 shrink-0","aria-label":"Open attachments",children:N.jsx(My,{size:18})}),N.jsx("button",{onClick:()=>{var ot;return(ot=Ss.current)==null?void 0:ot.click()},className:"text-gray-400 shrink-0","aria-label":"Open camera",children:N.jsx(nf,{size:18})})]}),N.jsx("button",{onClick:sn.trim()?Re:Mt,className:`w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg ${Ke?"bg-red-500":"bg-emerald-600"}`,"aria-label":sn.trim()?"Send message":Ke?"Stop recording":"Record audio",children:sn.trim()?N.jsx(AA,{size:20}):Ke?N.jsx(DC,{size:20}):N.jsx(lA,{size:20})})]})]})]})},ae=()=>{var j;return N.jsxs("div",{className:"h-full flex flex-col bg-gray-50 animate-in slide-in-from-right duration-300",children:[N.jsxs("header",{className:"px-5 py-4 bg-white border-b border-gray-100 z-40 shrink-0 flex items-center gap-4 shadow-sm",children:[N.jsx("button",{onClick:()=>s("FEED"),className:"p-2 -ml-2 text-gray-400 hover:text-gray-600 transition-colors",children:N.jsx(Iy,{size:24})}),N.jsx("h1",{className:"text-xl font-bold text-gray-900 tracking-tight",children:ut("profile")})]}),N.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar",children:N.jsxs("div",{className:"max-w-md mx-auto p-6 space-y-6",children:[N.jsxs("div",{className:"bg-white rounded-3xl p-8 flex flex-col items-center text-center shadow-sm border border-gray-100",children:[N.jsxs("div",{className:"w-24 h-24 bg-emerald-50 rounded-full flex items-center justify-center mb-4 relative ring-4 ring-white shadow-lg",children:[N.jsx(Ry,{size:64,className:"text-emerald-600",strokeWidth:1}),N.jsx("div",{className:"absolute bottom-1 right-1 w-6 h-6 bg-emerald-500 rounded-full border-2 border-white"})]}),N.jsx("h2",{className:"text-xl font-bold text-gray-900 leading-tight mb-1",children:((j=Ut==null?void 0:Ut.email)==null?void 0:j.split("@")[0])||"User"}),N.jsx("p",{className:"text-sm text-gray-400 font-medium mb-6",children:(Ut==null?void 0:Ut.email)||"user@example.com"}),N.jsxs("div",{className:"flex gap-4 w-full",children:[N.jsxs("div",{className:"flex-1 bg-gray-50 py-3 rounded-2xl",children:[N.jsx("div",{className:"text-lg font-bold text-gray-900",children:"12"}),N.jsx("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Spots"})]}),N.jsxs("div",{className:"flex-1 bg-gray-50 py-3 rounded-2xl",children:[N.jsx("div",{className:"text-lg font-bold text-gray-900",children:"4"}),N.jsx("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Plots"})]})]})]}),N.jsxs("div",{className:"bg-white rounded-3xl overflow-hidden shadow-sm border border-gray-100",children:[N.jsx("div",{className:"px-6 py-4 border-b border-gray-50 bg-gray-50/50",children:N.jsxs("h3",{className:"text-xs font-black text-gray-400 uppercase tracking-widest flex items-center gap-2",children:[N.jsx(bA,{size:14})," ",ut("settings")]})}),N.jsxs("div",{className:"p-6 space-y-6",children:[N.jsxs("div",{className:"space-y-3",children:[N.jsxs("label",{className:"text-sm font-bold text-gray-700 flex items-center gap-2",children:[N.jsx(GC,{size:18,className:"text-gray-400"})," ",ut("language")]}),N.jsx("div",{className:"grid grid-cols-1 gap-2",children:["English","Malayalam","Irish"].map(yt=>N.jsxs("button",{onClick:()=>At(yt),className:`flex items-center justify-between p-4 rounded-2xl border-2 transition-all ${rt===yt?"bg-emerald-50 border-emerald-500 text-emerald-700":"bg-gray-50 border-transparent text-gray-600 hover:bg-gray-100"}`,children:[N.jsx("span",{className:"font-bold",children:yt}),rt===yt&&N.jsx(of,{size:18})]},yt))})]}),N.jsx("div",{className:"pt-4 border-t border-gray-50",children:N.jsxs("button",{onClick:Hi,className:"w-full flex items-center justify-center gap-2 p-4 rounded-2xl bg-red-50 text-red-600 font-bold hover:bg-red-100 transition-colors active:scale-95",children:[N.jsx(QC,{size:18}),ut("logout")]})})]})]})]})})]})},Gi=()=>!rn||!d?null:N.jsx("div",{className:"absolute inset-0 z-[120] bg-black/55 backdrop-blur-[2px] flex items-center justify-center p-4",children:N.jsxs("div",{className:"w-full max-w-[420px] bg-white rounded-[24px] border border-gray-200 shadow-[0_24px_60px_rgba(2,8,23,0.35)] animate-in fade-in zoom-in-95 duration-200 overflow-hidden",children:[N.jsxs("div",{className:"h-16 px-5 bg-emerald-600 text-white flex justify-between items-center",children:[N.jsxs("h3",{className:"font-black text-lg uppercase tracking-tight flex items-center gap-2",children:[N.jsx(gf,{size:19})," Call for Help"]}),N.jsx("button",{onClick:()=>Pt(!1),className:"hover:bg-white/20 p-2 rounded-xl transition-colors",children:N.jsx(rf,{size:20})})]}),N.jsxs("div",{className:"p-5 space-y-4 max-h-[calc(100dvh-8rem)] overflow-y-auto no-scrollbar",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block text-[11px] font-black text-gray-400 uppercase tracking-[0.18em] mb-2",children:"Target Email"}),N.jsx("input",{type:"email",value:Wo,onChange:j=>Vn(j.target.value),className:"h-14 w-full bg-gray-50 border-2 border-gray-100 rounded-2xl px-4 text-base font-semibold outline-none focus:border-emerald-500"})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-[11px] font-black text-gray-400 uppercase tracking-[0.18em] mb-2",children:"People Needed"}),N.jsx("input",{type:"number",min:"1",placeholder:"How many? (e.g. 5)",value:nr,onChange:j=>Cs(j.target.value),className:"h-14 w-full bg-gray-50 border-2 border-gray-100 rounded-2xl px-4 text-base font-semibold outline-none focus:border-emerald-500"})]}),N.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block text-[11px] font-black text-gray-400 uppercase tracking-[0.18em] mb-2",children:"Date"}),N.jsx("input",{type:"date",value:ze,onChange:j=>Gn(j.target.value),className:"h-14 w-full bg-gray-50 border-2 border-gray-100 rounded-2xl px-4 text-sm font-semibold outline-none focus:border-emerald-500"})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-[11px] font-black text-gray-400 uppercase tracking-[0.18em] mb-2",children:"Time"}),N.jsx("input",{type:"time",value:si,onChange:j=>ws(j.target.value),className:"h-14 w-full bg-gray-50 border-2 border-gray-100 rounded-2xl px-4 text-sm font-semibold outline-none focus:border-emerald-500"})]})]}),N.jsx(kr,{onClick:Ae,className:"w-full h-14 text-base font-black uppercase tracking-[0.2em] shadow-xl shadow-emerald-600/20",children:"Send Help Request"})]})]})}),Pn=()=>e==="SPLASH"?We():e==="ONBOARDING"?ts():e==="LOGIN"?Vi():N.jsxs(N.Fragment,{children:[n==="FEED"&&bi(),n==="MAP"&&Tn(),n==="ADD_PLOT"&&Ot(),n==="PLOT_DETAIL"&&ln(),n==="PROFILE"&&ae(),oo(),Io()]});return N.jsx("div",{className:"h-[100dvh] w-full bg-slate-100",children:N.jsx("div",{className:"relative h-full w-full max-w-md mx-auto bg-white sm:shadow-2xl sm:rounded-3xl overflow-hidden",children:Pn()})})}const qS=document.getElementById("root");if(!qS)throw new Error("Could not find root element to mount to");const L4=gC.createRoot(qS);L4.render(N.jsx(Cf.StrictMode,{children:N.jsx(D4,{})}));
